function sx(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ch={exports:{}},fl={},Ah={exports:{}},Fe={};var Hg;function ix(){if(Hg)return Fe;Hg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function I(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,H={};function U(S,W,ce){this.props=S,this.context=W,this.refs=H,this.updater=ce||F}U.prototype.isReactComponent={},U.prototype.setState=function(S,W){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,W,"setState")},U.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ae(){}ae.prototype=U.prototype;function te(S,W,ce){this.props=S,this.context=W,this.refs=H,this.updater=ce||F}var ie=te.prototype=new ae;ie.constructor=te,G(ie,U.prototype),ie.isPureReactComponent=!0;var we=Array.isArray,Oe=Object.prototype.hasOwnProperty,ge={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function b(S,W,ce){var Ve,Re={},qe=null,Le=null;if(W!=null)for(Ve in W.ref!==void 0&&(Le=W.ref),W.key!==void 0&&(qe=""+W.key),W)Oe.call(W,Ve)&&!R.hasOwnProperty(Ve)&&(Re[Ve]=W[Ve]);var He=arguments.length-2;if(He===1)Re.children=ce;else if(1<He){for(var Ue=Array(He),Ct=0;Ct<He;Ct++)Ue[Ct]=arguments[Ct+2];Re.children=Ue}if(S&&S.defaultProps)for(Ve in He=S.defaultProps,He)Re[Ve]===void 0&&(Re[Ve]=He[Ve]);return{$$typeof:n,type:S,key:qe,ref:Le,props:Re,_owner:ge.current}}function A(S,W){return{$$typeof:n,type:S.type,key:W,ref:S.ref,props:S.props,_owner:S._owner}}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function D(S){var W={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ce){return W[ce]})}var L=/\/+/g;function C(S,W){return typeof S=="object"&&S!==null&&S.key!=null?D(""+S.key):W.toString(36)}function Ye(S,W,ce,Ve,Re){var qe=typeof S;(qe==="undefined"||qe==="boolean")&&(S=null);var Le=!1;if(S===null)Le=!0;else switch(qe){case"string":case"number":Le=!0;break;case"object":switch(S.$$typeof){case n:case e:Le=!0}}if(Le)return Le=S,Re=Re(Le),S=Ve===""?"."+C(Le,0):Ve,we(Re)?(ce="",S!=null&&(ce=S.replace(L,"$&/")+"/"),Ye(Re,W,ce,"",function(Ct){return Ct})):Re!=null&&(O(Re)&&(Re=A(Re,ce+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(L,"$&/")+"/")+S)),W.push(Re)),1;if(Le=0,Ve=Ve===""?".":Ve+":",we(S))for(var He=0;He<S.length;He++){qe=S[He];var Ue=Ve+C(qe,He);Le+=Ye(qe,W,ce,Ue,Re)}else if(Ue=I(S),typeof Ue=="function")for(S=Ue.call(S),He=0;!(qe=S.next()).done;)qe=qe.value,Ue=Ve+C(qe,He++),Le+=Ye(qe,W,ce,Ue,Re);else if(qe==="object")throw W=String(S),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Le}function pt(S,W,ce){if(S==null)return S;var Ve=[],Re=0;return Ye(S,Ve,"","",function(qe){return W.call(ce,qe,Re++)}),Ve}function Et(S){if(S._status===-1){var W=S._result;W=W(),W.then(function(ce){(S._status===0||S._status===-1)&&(S._status=1,S._result=ce)},function(ce){(S._status===0||S._status===-1)&&(S._status=2,S._result=ce)}),S._status===-1&&(S._status=0,S._result=W)}if(S._status===1)return S._result.default;throw S._result}var Xe={current:null},oe={transition:null},K={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ge};return Fe.Children={map:pt,forEach:function(S,W,ce){pt(S,function(){W.apply(this,arguments)},ce)},count:function(S){var W=0;return pt(S,function(){W++}),W},toArray:function(S){return pt(S,function(W){return W})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Fe.Component=U,Fe.Fragment=t,Fe.Profiler=o,Fe.PureComponent=te,Fe.StrictMode=s,Fe.Suspense=p,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Fe.cloneElement=function(S,W,ce){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var Ve=G({},S.props),Re=S.key,qe=S.ref,Le=S._owner;if(W!=null){if(W.ref!==void 0&&(qe=W.ref,Le=ge.current),W.key!==void 0&&(Re=""+W.key),S.type&&S.type.defaultProps)var He=S.type.defaultProps;for(Ue in W)Oe.call(W,Ue)&&!R.hasOwnProperty(Ue)&&(Ve[Ue]=W[Ue]===void 0&&He!==void 0?He[Ue]:W[Ue])}var Ue=arguments.length-2;if(Ue===1)Ve.children=ce;else if(1<Ue){He=Array(Ue);for(var Ct=0;Ct<Ue;Ct++)He[Ct]=arguments[Ct+2];Ve.children=He}return{$$typeof:n,type:S.type,key:Re,ref:qe,props:Ve,_owner:Le}},Fe.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:l,_context:S},S.Consumer=S},Fe.createElement=b,Fe.createFactory=function(S){var W=b.bind(null,S);return W.type=S,W},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(S){return{$$typeof:h,render:S}},Fe.isValidElement=O,Fe.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:Et}},Fe.memo=function(S,W){return{$$typeof:v,type:S,compare:W===void 0?null:W}},Fe.startTransition=function(S){var W=oe.transition;oe.transition={};try{S()}finally{oe.transition=W}},Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Fe.useCallback=function(S,W){return Xe.current.useCallback(S,W)},Fe.useContext=function(S){return Xe.current.useContext(S)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(S){return Xe.current.useDeferredValue(S)},Fe.useEffect=function(S,W){return Xe.current.useEffect(S,W)},Fe.useId=function(){return Xe.current.useId()},Fe.useImperativeHandle=function(S,W,ce){return Xe.current.useImperativeHandle(S,W,ce)},Fe.useInsertionEffect=function(S,W){return Xe.current.useInsertionEffect(S,W)},Fe.useLayoutEffect=function(S,W){return Xe.current.useLayoutEffect(S,W)},Fe.useMemo=function(S,W){return Xe.current.useMemo(S,W)},Fe.useReducer=function(S,W,ce){return Xe.current.useReducer(S,W,ce)},Fe.useRef=function(S){return Xe.current.useRef(S)},Fe.useState=function(S){return Xe.current.useState(S)},Fe.useSyncExternalStore=function(S,W,ce){return Xe.current.useSyncExternalStore(S,W,ce)},Fe.useTransition=function(){return Xe.current.useTransition()},Fe.version="18.2.0",Fe}var Wg;function Pf(){return Wg||(Wg=1,Ah.exports=ix()),Ah.exports}var Gg;function ox(){if(Gg)return fl;Gg=1;var n=Pf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var E,T={},I=null,F=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(F=p.ref);for(E in p)s.call(p,E)&&!l.hasOwnProperty(E)&&(T[E]=p[E]);if(h&&h.defaultProps)for(E in p=h.defaultProps,p)T[E]===void 0&&(T[E]=p[E]);return{$$typeof:e,type:h,key:I,ref:F,props:T,_owner:o.current}}return fl.Fragment=t,fl.jsx=c,fl.jsxs=c,fl}var Kg;function ax(){return Kg||(Kg=1,Ch.exports=ox()),Ch.exports}var y=ax(),j=Pf();const Zr=Xv(j),lx=sx({__proto__:null,default:Zr},[j]);var Ku={},Rh={exports:{}},An={},Ph={exports:{}},Nh={};var Qg;function ux(){return Qg||(Qg=1,(function(n){function e(oe,K){var S=oe.length;oe.push(K);e:for(;0<S;){var W=S-1>>>1,ce=oe[W];if(0<o(ce,K))oe[W]=K,oe[S]=ce,S=W;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var K=oe[0],S=oe.pop();if(S!==K){oe[0]=S;e:for(var W=0,ce=oe.length,Ve=ce>>>1;W<Ve;){var Re=2*(W+1)-1,qe=oe[Re],Le=Re+1,He=oe[Le];if(0>o(qe,S))Le<ce&&0>o(He,qe)?(oe[W]=He,oe[Le]=S,W=Le):(oe[W]=qe,oe[Re]=S,W=Re);else if(Le<ce&&0>o(He,S))oe[W]=He,oe[Le]=S,W=Le;else break e}}return K}function o(oe,K){var S=oe.sortIndex-K.sortIndex;return S!==0?S:oe.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],v=[],E=1,T=null,I=3,F=!1,G=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(oe){for(var K=t(v);K!==null;){if(K.callback===null)s(v);else if(K.startTime<=oe)s(v),K.sortIndex=K.expirationTime,e(p,K);else break;K=t(v)}}function we(oe){if(H=!1,ie(oe),!G)if(t(p)!==null)G=!0,Et(Oe);else{var K=t(v);K!==null&&Xe(we,K.startTime-oe)}}function Oe(oe,K){G=!1,H&&(H=!1,ae(b),b=-1),F=!0;var S=I;try{for(ie(K),T=t(p);T!==null&&(!(T.expirationTime>K)||oe&&!D());){var W=T.callback;if(typeof W=="function"){T.callback=null,I=T.priorityLevel;var ce=W(T.expirationTime<=K);K=n.unstable_now(),typeof ce=="function"?T.callback=ce:T===t(p)&&s(p),ie(K)}else s(p);T=t(p)}if(T!==null)var Ve=!0;else{var Re=t(v);Re!==null&&Xe(we,Re.startTime-K),Ve=!1}return Ve}finally{T=null,I=S,F=!1}}var ge=!1,R=null,b=-1,A=5,O=-1;function D(){return!(n.unstable_now()-O<A)}function L(){if(R!==null){var oe=n.unstable_now();O=oe;var K=!0;try{K=R(!0,oe)}finally{K?C():(ge=!1,R=null)}}else ge=!1}var C;if(typeof te=="function")C=function(){te(L)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,pt=Ye.port2;Ye.port1.onmessage=L,C=function(){pt.postMessage(null)}}else C=function(){U(L,0)};function Et(oe){R=oe,ge||(ge=!0,C())}function Xe(oe,K){b=U(function(){oe(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){G||F||(G=!0,Et(Oe))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var K=3;break;default:K=I}var S=I;I=K;try{return oe()}finally{I=S}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,K){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var S=I;I=oe;try{return K()}finally{I=S}},n.unstable_scheduleCallback=function(oe,K,S){var W=n.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?W+S:W):S=W,oe){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=S+ce,oe={id:E++,callback:K,priorityLevel:oe,startTime:S,expirationTime:ce,sortIndex:-1},S>W?(oe.sortIndex=S,e(v,oe),t(p)===null&&oe===t(v)&&(H?(ae(b),b=-1):H=!0,Xe(we,S-W))):(oe.sortIndex=ce,e(p,oe),G||F||(G=!0,Et(Oe))),oe},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(oe){var K=I;return function(){var S=I;I=K;try{return oe.apply(this,arguments)}finally{I=S}}}})(Nh)),Nh}var Yg;function cx(){return Yg||(Yg=1,Ph.exports=ux()),Ph.exports}var Xg;function dx(){if(Xg)return An;Xg=1;var n=Pf(),e=cx();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function I(r){return p.call(T,r)?!0:p.call(E,r)?!1:v.test(r)?T[r]=!0:(E[r]=!0,!1)}function F(r,i,a,d){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function G(r,i,a,d){if(i===null||typeof i>"u"||F(r,i,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(r,i,a,d,f,m,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=m,this.removeEmptyString=w}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){U[r]=new H(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];U[i]=new H(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){U[r]=new H(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){U[r]=new H(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){U[r]=new H(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){U[r]=new H(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){U[r]=new H(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){U[r]=new H(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){U[r]=new H(r,5,!1,r.toLowerCase(),null,!1,!1)});var ae=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(ae,te);U[i]=new H(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(ae,te);U[i]=new H(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(ae,te);U[i]=new H(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){U[r]=new H(r,1,!1,r.toLowerCase(),null,!1,!1)}),U.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){U[r]=new H(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,i,a,d){var f=U.hasOwnProperty(i)?U[i]:null;(f!==null?f.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(G(i,a,f,d)&&(a=null),d||f===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,i,a):r.setAttribute(i,a))))}var we=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oe=Symbol.for("react.element"),ge=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var S=Object.assign,W;function ce(r){if(W===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);W=i&&i[1]||""}return`
`+W+r}var Ve=!1;function Re(r,i){if(!r||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var d=$}Reflect.construct(r,[],i)}else{try{i.call()}catch($){d=$}r.call(i.prototype)}else{try{throw Error()}catch($){d=$}r()}}catch($){if($&&d&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),m=d.stack.split(`
`),w=f.length-1,k=m.length-1;1<=w&&0<=k&&f[w]!==m[k];)k--;for(;1<=w&&0<=k;w--,k--)if(f[w]!==m[k]){if(w!==1||k!==1)do if(w--,k--,0>k||f[w]!==m[k]){var N=`
`+f[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=k);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?ce(r):""}function qe(r){switch(r.tag){case 5:return ce(r.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return r=Re(r.type,!1),r;case 11:return r=Re(r.type.render,!1),r;case 1:return r=Re(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case ge:return"Portal";case A:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case Ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case L:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pt:return i=r.displayName||null,i!==null?i:Le(r.type)||"Memo";case Et:i=r._payload,r=r._init;try{return Le(r(i))}catch{}}return null}function He(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(i);case 8:return i===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ct(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function en(r){var i=Ct(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Pn(r){r._valueTracker||(r._valueTracker=en(r))}function dr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),d="";return r&&(d=Ct(r)?r.checked?"true":"false":r.value),r=d,r!==a?(i.setValue(r),!0):!1}function Wt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fn(r,i){var a=i.checked;return S({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function qs(r,i){var a=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function us(r,i){i=i.checked,i!=null&&ie(r,"checked",i,!1)}function hr(r,i){us(r,i);var a=Ue(i.value),d=i.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?ht(r,i.type,a):i.hasOwnProperty("defaultValue")&&ht(r,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function nt(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ht(r,i,a){(i!=="number"||Wt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var at=Array.isArray;function wn(r,i,a,d){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function et(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return S({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Hs(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(at(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ue(a)}}function fr(r,i){var a=Ue(i.value),d=Ue(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function Gn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function En(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?En(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var pr,Ot=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(i,a,d,f)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=pr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function xn(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ws=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(r){Ws.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Nn[i]=Nn[r]})});function Kn(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Nn.hasOwnProperty(r)&&Nn[r]?(""+i).trim():i+"px"}function cs(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=Kn(a,i[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var Vr=S({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(r,i){if(i){if(Vr[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Lr(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=null;function mr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qn=null,On=null,st=null;function jr(r){if(r=Ja(r)){if(typeof Qn!="function")throw Error(t(280));var i=r.stateNode;i&&(i=uu(i),Qn(r.stateNode,r.type,i))}}function Mr(r){On?st?st.push(r):st=[r]:On=r}function Yn(){if(On){var r=On,i=st;if(st=On=null,jr(r),i)for(r=0;r<i.length;r++)jr(i[r])}}function Gs(r,i){return r(i)}function Bi(){}var Xn=!1;function Do(r,i,a){if(Xn)return r(i,a);Xn=!0;try{return Gs(r,i,a)}finally{Xn=!1,(On!==null||st!==null)&&(Bi(),Yn())}}function Fr(r,i){var a=r.stateNode;if(a===null)return null;var d=uu(a);if(d===null)return null;a=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Jn=!1;if(h)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Jn=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Jn=!1}function tn(r,i,a,d,f,m,w,k,N){var $=Array.prototype.slice.call(arguments,3);try{i.apply(a,$)}catch(Z){this.onError(Z)}}var yr=!1,Vn=null,ds=!1,xt=null,Ur={onError:function(r){yr=!0,Vn=r}};function hs(r,i,a,d,f,m,w,k,N){yr=!1,Vn=null,tn.apply(Ur,arguments)}function Ks(r,i,a,d,f,m,w,k,N){if(hs.apply(this,arguments),yr){if(yr){var $=Vn;yr=!1,Vn=null}else throw Error(t(198));ds||(ds=!0,xt=$)}}function pn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Qs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function $i(r){if(pn(r)!==r)throw Error(t(188))}function qi(r){var i=r.alternate;if(!i){if(i=pn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,d=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return $i(f),r;if(m===d)return $i(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=m;else{for(var w=!1,k=f.child;k;){if(k===a){w=!0,a=f,d=m;break}if(k===d){w=!0,d=f,a=m;break}k=k.sibling}if(!w){for(k=m.child;k;){if(k===a){w=!0,a=m,d=f;break}if(k===d){w=!0,d=m,a=f;break}k=k.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function Ys(r){return r=qi(r),r!==null?fs(r):null}function fs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=fs(r);if(i!==null)return i;r=r.sibling}return null}var Xs=e.unstable_scheduleCallback,zr=e.unstable_cancelCallback,Ln=e.unstable_shouldYield,mn=e.unstable_requestPaint,it=e.unstable_now,ja=e.unstable_getCurrentPriorityLevel,Js=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,ps=e.unstable_NormalPriority,Wi=e.unstable_LowPriority,Zs=e.unstable_IdlePriority,ms=null,At=null;function Gi(r){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:gs,Zn=Math.log,Tn=Math.LN2;function gs(r){return r>>>=0,r===0?32:31-(Zn(r)/Tn|0)|0}var er=64,vr=4194304;function Ge(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _r(r,i){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,m=r.pingedLanes,w=a&268435455;if(w!==0){var k=w&~f;k!==0?d=Ge(k):(m&=w,m!==0&&(d=Ge(m)))}else w=a&~f,w!==0?d=Ge(w):m!==0&&(d=Ge(m));if(d===0)return 0;if(i!==0&&i!==d&&(i&f)===0&&(f=d&-d,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((d&4)!==0&&(d|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)a=31-gn(i),f=1<<a,d|=r[a],i&=~f;return d}function jn(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(r,i){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-gn(m),k=1<<w,N=f[w];N===-1?((k&a)===0||(k&d)!==0)&&(f[w]=jn(k,i)):N<=i&&(r.expiredLanes|=k),m&=~k}}function Ki(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ys(){var r=er;return er<<=1,(er&4194240)===0&&(er=64),r}function vs(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function _s(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-gn(i),r[i]=a}function Ma(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-gn(a),m=1<<f;i[f]=0,d[f]=-1,r[f]=-1,a&=~m}}function ws(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var d=31-gn(a),f=1<<d;f&i|r[d]&i&&(r[d]|=i),a&=~f}}var je=0;function Mn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var nn,Br,Qi,Yi,Xi,P=!1,Q=[],X=null,le=null,ue=null,Ee=new Map,ye=new Map,be=[],Je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ot(r,i){switch(r){case"focusin":case"focusout":X=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":Ee.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ye.delete(i.pointerId)}}function rt(r,i,a,d,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:a,eventSystemFlags:d,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ja(i),i!==null&&Br(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function Er(r,i,a,d,f){switch(i){case"focusin":return X=rt(X,r,i,a,d,f),!0;case"dragenter":return le=rt(le,r,i,a,d,f),!0;case"mouseover":return ue=rt(ue,r,i,a,d,f),!0;case"pointerover":var m=f.pointerId;return Ee.set(m,rt(Ee.get(m)||null,r,i,a,d,f)),!0;case"gotpointercapture":return m=f.pointerId,ye.set(m,rt(ye.get(m)||null,r,i,a,d,f)),!0}return!1}function xr(r){var i=to(r.target);if(i!==null){var a=pn(i);if(a!==null){if(i=a.tag,i===13){if(i=Qs(a),i!==null){r.blockedOn=i,Xi(r.priority,function(){Qi(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ke(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Oo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Dn=d,a.target.dispatchEvent(d),Dn=null}else return i=Ja(a),i!==null&&Br(i),r.blockedOn=a,!1;i.shift()}return!0}function _t(r,i,a){ke(r)&&a.delete(i)}function Tr(){P=!1,X!==null&&ke(X)&&(X=null),le!==null&&ke(le)&&(le=null),ue!==null&&ke(ue)&&(ue=null),Ee.forEach(_t),ye.forEach(_t)}function ei(r,i){r.blockedOn===i&&(r.blockedOn=null,P||(P=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tr)))}function ti(r){function i(f){return ei(f,r)}if(0<Q.length){ei(Q[0],r);for(var a=1;a<Q.length;a++){var d=Q[a];d.blockedOn===r&&(d.blockedOn=null)}}for(X!==null&&ei(X,r),le!==null&&ei(le,r),ue!==null&&ei(ue,r),Ee.forEach(i),ye.forEach(i),a=0;a<be.length;a++)d=be[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<be.length&&(a=be[0],a.blockedOn===null);)xr(a),a.blockedOn===null&&be.shift()}var Es=we.ReactCurrentBatchConfig,xs=!0;function $r(r,i,a,d){var f=je,m=Es.transition;Es.transition=null;try{je=1,Fa(r,i,a,d)}finally{je=f,Es.transition=m}}function Yl(r,i,a,d){var f=je,m=Es.transition;Es.transition=null;try{je=4,Fa(r,i,a,d)}finally{je=f,Es.transition=m}}function Fa(r,i,a,d){if(xs){var f=Oo(r,i,a,d);if(f===null)vd(r,i,d,qr,a),ot(r,d);else if(Er(f,r,i,a,d))d.stopPropagation();else if(ot(r,d),i&4&&-1<Je.indexOf(r)){for(;f!==null;){var m=Ja(f);if(m!==null&&nn(m),m=Oo(r,i,a,d),m===null&&vd(r,i,d,qr,a),m===f)break;f=m}f!==null&&d.stopPropagation()}else vd(r,i,d,null,a)}}var qr=null;function Oo(r,i,a,d){if(qr=null,r=mr(d),r=to(r),r!==null)if(i=pn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Qs(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return qr=r,null}function Vo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ja()){case Js:return 1;case Hi:return 4;case ps:case Wi:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var Fn=null,Lo=null,Ts=null;function Xl(){if(Ts)return Ts;var r,i=Lo,a=i.length,d,f="value"in Fn?Fn.value:Fn.textContent,m=f.length;for(r=0;r<a&&i[r]===f[r];r++);var w=a-r;for(d=1;d<=w&&i[a-d]===f[m-d];d++);return Ts=f.slice(r,1<d?1-d:void 0)}function Ji(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Hr(){return!0}function Ua(){return!1}function rn(r){function i(a,d,f,m,w){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hr:Ua,this.isPropagationStopped=Ua,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=rn(Wr),ni=S({},Wr,{view:0,detail:0}),jo=rn(ni),Mo,Fo,Un,eo=S({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ne,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Un&&(Un&&r.type==="mousemove"?(Mo=r.screenX-Un.screenX,Fo=r.screenY-Un.screenY):Fo=Mo=0,Un=r),Mo)},movementY:function(r){return"movementY"in r?r.movementY:Fo}}),za=rn(eo),Jl=S({},eo,{dataTransfer:0}),Zl=rn(Jl),Uo=S({},ni,{relatedTarget:0}),Gt=rn(Uo),eu=S({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=rn(eu),ri=S({},Wr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=rn(ri),g=S({},Wr,{data:0}),_=rn(g),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=q[r])?!!i[r]:!1}function Ne(){return se}var Tt=S({},ni,{key:function(r){if(r.key){var i=x[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ji(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?z[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ne,charCode:function(r){return r.type==="keypress"?Ji(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ji(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tt=rn(Tt),Rt=S({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=rn(Rt),Is=S({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ne}),Gr=rn(Is),Kr=S({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=rn(Kr),Ba=S({},eo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=rn(Ba),Z0=[9,13,27,32],ld=h&&"CompositionEvent"in window,$a=null;h&&"documentMode"in document&&($a=document.documentMode);var eE=h&&"TextEvent"in window&&!$a,Lp=h&&(!ld||$a&&8<$a&&11>=$a),jp=" ",Mp=!1;function Fp(r,i){switch(r){case"keyup":return Z0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Bo=!1;function tE(r,i){switch(r){case"compositionend":return Up(i);case"keypress":return i.which!==32?null:(Mp=!0,jp);case"textInput":return r=i.data,r===jp&&Mp?null:r;default:return null}}function nE(r,i){if(Bo)return r==="compositionend"||!ld&&Fp(r,i)?(r=Xl(),Ts=Lo=Fn=null,Bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Lp&&i.locale!=="ko"?null:i.data;default:return null}}var rE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!rE[r.type]:i==="textarea"}function Bp(r,i,a,d){Mr(d),i=ou(i,"onChange"),0<i.length&&(a=new Zi("onChange","change",null,a,d),r.push({event:a,listeners:i}))}var qa=null,Ha=null;function sE(r){om(r,0)}function nu(r){var i=Go(r);if(dr(i))return r}function iE(r,i){if(r==="change")return i}var $p=!1;if(h){var ud;if(h){var cd="oninput"in document;if(!cd){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),cd=typeof qp.oninput=="function"}ud=cd}else ud=!1;$p=ud&&(!document.documentMode||9<document.documentMode)}function Hp(){qa&&(qa.detachEvent("onpropertychange",Wp),Ha=qa=null)}function Wp(r){if(r.propertyName==="value"&&nu(Ha)){var i=[];Bp(i,Ha,r,mr(r)),Do(sE,i)}}function oE(r,i,a){r==="focusin"?(Hp(),qa=i,Ha=a,qa.attachEvent("onpropertychange",Wp)):r==="focusout"&&Hp()}function aE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nu(Ha)}function lE(r,i){if(r==="click")return nu(i)}function uE(r,i){if(r==="input"||r==="change")return nu(i)}function cE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ir=typeof Object.is=="function"?Object.is:cE;function Wa(r,i){if(Ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),d=Object.keys(i);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(i,f)||!Ir(r[f],i[f]))return!1}return!0}function Gp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,i){var a=Gp(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=i&&d>=i)return{node:a,offset:i-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gp(a)}}function Qp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Qp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Yp(){for(var r=window,i=Wt();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Wt(r.document)}return i}function dd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function dE(r){var i=Yp(),a=r.focusedElem,d=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Qp(a.ownerDocument.documentElement,a)){if(d!==null&&dd(a)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,m=Math.min(d.start,f);d=d.end===void 0?m:Math.min(d.end,f),!r.extend&&m>d&&(f=d,d=m,m=f),f=Kp(a,m);var w=Kp(a,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),m>d?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hE=h&&"documentMode"in document&&11>=document.documentMode,$o=null,hd=null,Ga=null,fd=!1;function Xp(r,i,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fd||$o==null||$o!==Wt(d)||(d=$o,"selectionStart"in d&&dd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ga&&Wa(Ga,d)||(Ga=d,d=ou(hd,"onSelect"),0<d.length&&(i=new Zi("onSelect","select",null,i,a),r.push({event:i,listeners:d}),i.target=$o)))}function ru(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var qo={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},pd={},Jp={};h&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function su(r){if(pd[r])return pd[r];if(!qo[r])return r;var i=qo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jp)return pd[r]=i[a];return r}var Zp=su("animationend"),em=su("animationiteration"),tm=su("animationstart"),nm=su("transitionend"),rm=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(r,i){rm.set(r,i),l(i,[r])}for(var md=0;md<sm.length;md++){var gd=sm[md],fE=gd.toLowerCase(),pE=gd[0].toUpperCase()+gd.slice(1);si(fE,"on"+pE)}si(Zp,"onAnimationEnd"),si(em,"onAnimationIteration"),si(tm,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(nm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function im(r,i,a){var d=r.type||"unknown-event";r.currentTarget=a,Ks(d,i,void 0,r),r.currentTarget=null}function om(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var m=void 0;if(i)for(var w=d.length-1;0<=w;w--){var k=d[w],N=k.instance,$=k.currentTarget;if(k=k.listener,N!==m&&f.isPropagationStopped())break e;im(f,k,$),m=N}else for(w=0;w<d.length;w++){if(k=d[w],N=k.instance,$=k.currentTarget,k=k.listener,N!==m&&f.isPropagationStopped())break e;im(f,k,$),m=N}}}if(ds)throw r=xt,ds=!1,xt=null,r}function ut(r,i){var a=i[Id];a===void 0&&(a=i[Id]=new Set);var d=r+"__bubble";a.has(d)||(am(i,r,2,!1),a.add(d))}function yd(r,i,a){var d=0;i&&(d|=4),am(a,r,d,i)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Qa(r){if(!r[iu]){r[iu]=!0,s.forEach(function(a){a!=="selectionchange"&&(mE.has(a)||yd(a,!1,r),yd(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[iu]||(i[iu]=!0,yd("selectionchange",!1,i))}}function am(r,i,a,d){switch(Vo(i)){case 1:var f=$r;break;case 4:f=Yl;break;default:f=Fa}a=f.bind(null,i,a,r),f=void 0,!Jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function vd(r,i,a,d,f){var m=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var k=d.stateNode.containerInfo;if(k===f||k.nodeType===8&&k.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;k!==null;){if(w=to(k),w===null)return;if(N=w.tag,N===5||N===6){d=m=w;continue e}k=k.parentNode}}d=d.return}Do(function(){var $=m,Z=mr(a),ne=[];e:{var J=rm.get(r);if(J!==void 0){var de=Zi,pe=r;switch(r){case"keypress":if(Ji(a)===0)break e;case"keydown":case"keyup":de=tt;break;case"focusin":pe="focus",de=Gt;break;case"focusout":pe="blur",de=Gt;break;case"beforeblur":case"afterblur":de=Gt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Gr;break;case Zp:case em:case tm:de=tu;break;case nm:de=zo;break;case"scroll":de=jo;break;case"wheel":de=J0;break;case"copy":case"cut":case"paste":de=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=zn}var me=(i&4)!==0,It=!me&&r==="scroll",M=me?J!==null?J+"Capture":null:J;me=[];for(var V=$,B;V!==null;){B=V;var re=B.stateNode;if(B.tag===5&&re!==null&&(B=re,M!==null&&(re=Fr(V,M),re!=null&&me.push(Ya(V,re,B)))),It)break;V=V.return}0<me.length&&(J=new de(J,pe,null,a,Z),ne.push({event:J,listeners:me}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&a!==Dn&&(pe=a.relatedTarget||a.fromElement)&&(to(pe)||pe[bs]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(pe=a.relatedTarget||a.toElement,de=$,pe=pe?to(pe):null,pe!==null&&(It=pn(pe),pe!==It||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=$),de!==pe)){if(me=za,re="onMouseLeave",M="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(me=zn,re="onPointerLeave",M="onPointerEnter",V="pointer"),It=de==null?J:Go(de),B=pe==null?J:Go(pe),J=new me(re,V+"leave",de,a,Z),J.target=It,J.relatedTarget=B,re=null,to(Z)===$&&(me=new me(M,V+"enter",pe,a,Z),me.target=B,me.relatedTarget=It,re=me),It=re,de&&pe)t:{for(me=de,M=pe,V=0,B=me;B;B=Ho(B))V++;for(B=0,re=M;re;re=Ho(re))B++;for(;0<V-B;)me=Ho(me),V--;for(;0<B-V;)M=Ho(M),B--;for(;V--;){if(me===M||M!==null&&me===M.alternate)break t;me=Ho(me),M=Ho(M)}me=null}else me=null;de!==null&&lm(ne,J,de,me,!1),pe!==null&&It!==null&&lm(ne,It,pe,me,!0)}}e:{if(J=$?Go($):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ve=iE;else if(zp(J))if($p)ve=uE;else{ve=aE;var xe=oE}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=lE);if(ve&&(ve=ve(r,$))){Bp(ne,ve,a,Z);break e}xe&&xe(r,J,$),r==="focusout"&&(xe=J._wrapperState)&&xe.controlled&&J.type==="number"&&ht(J,"number",J.value)}switch(xe=$?Go($):window,r){case"focusin":(zp(xe)||xe.contentEditable==="true")&&($o=xe,hd=$,Ga=null);break;case"focusout":Ga=hd=$o=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Xp(ne,a,Z);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":Xp(ne,a,Z)}var Te;if(ld)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Bo?Fp(r,a)&&(Ae="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(Lp&&a.locale!=="ko"&&(Bo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Bo&&(Te=Xl()):(Fn=Z,Lo="value"in Fn?Fn.value:Fn.textContent,Bo=!0)),xe=ou($,Ae),0<xe.length&&(Ae=new _(Ae,r,null,a,Z),ne.push({event:Ae,listeners:xe}),Te?Ae.data=Te:(Te=Up(a),Te!==null&&(Ae.data=Te)))),(Te=eE?tE(r,a):nE(r,a))&&($=ou($,"onBeforeInput"),0<$.length&&(Z=new _("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Z,listeners:$}),Z.data=Te))}om(ne,i)})}function Ya(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ou(r,i){for(var a=i+"Capture",d=[];r!==null;){var f=r,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Fr(r,a),m!=null&&d.unshift(Ya(r,m,f)),m=Fr(r,i),m!=null&&d.push(Ya(r,m,f))),r=r.return}return d}function Ho(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function lm(r,i,a,d,f){for(var m=i._reactName,w=[];a!==null&&a!==d;){var k=a,N=k.alternate,$=k.stateNode;if(N!==null&&N===d)break;k.tag===5&&$!==null&&(k=$,f?(N=Fr(a,m),N!=null&&w.unshift(Ya(a,N,k))):f||(N=Fr(a,m),N!=null&&w.push(Ya(a,N,k)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var gE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function um(r){return(typeof r=="string"?r:""+r).replace(gE,`
`).replace(yE,"")}function au(r,i,a){if(i=um(i),um(r)!==i&&a)throw Error(t(425))}function lu(){}var _d=null,wd=null;function Ed(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,_E=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(r){return cm.resolve(null).then(r).catch(wE)}:xd;function wE(r){setTimeout(function(){throw r})}function Td(r,i){var a=i,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),ti(i);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);ti(i)}function ii(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function dm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Wo,Xa="__reactProps$"+Wo,bs="__reactContainer$"+Wo,Id="__reactEvents$"+Wo,EE="__reactListeners$"+Wo,xE="__reactHandles$"+Wo;function to(r){var i=r[Qr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[bs]||a[Qr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=dm(r);r!==null;){if(a=r[Qr])return a;r=dm(r)}return i}r=a,a=r.parentNode}return null}function Ja(r){return r=r[Qr]||r[bs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Go(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function uu(r){return r[Xa]||null}var bd=[],Ko=-1;function oi(r){return{current:r}}function ct(r){0>Ko||(r.current=bd[Ko],bd[Ko]=null,Ko--)}function lt(r,i){Ko++,bd[Ko]=r.current,r.current=i}var ai={},sn=oi(ai),In=oi(!1),no=ai;function Qo(r,i){var a=r.type.contextTypes;if(!a)return ai;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function bn(r){return r=r.childContextTypes,r!=null}function cu(){ct(In),ct(sn)}function hm(r,i,a){if(sn.current!==ai)throw Error(t(168));lt(sn,i),lt(In,a)}function fm(r,i,a){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in i))throw Error(t(108,He(r)||"Unknown",f));return S({},a,d)}function du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ai,no=sn.current,lt(sn,r),lt(In,In.current),!0}function pm(r,i,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=fm(r,i,no),d.__reactInternalMemoizedMergedChildContext=r,ct(In),ct(sn),lt(sn,r)):ct(In),lt(In,a)}var ks=null,hu=!1,kd=!1;function mm(r){ks===null?ks=[r]:ks.push(r)}function TE(r){hu=!0,mm(r)}function li(){if(!kd&&ks!==null){kd=!0;var r=0,i=je;try{var a=ks;for(je=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}ks=null,hu=!1}catch(f){throw ks!==null&&(ks=ks.slice(r+1)),Xs(Js,li),f}finally{je=i,kd=!1}}return null}var Yo=[],Xo=0,fu=null,pu=0,tr=[],nr=0,ro=null,Ss=1,Cs="";function so(r,i){Yo[Xo++]=pu,Yo[Xo++]=fu,fu=r,pu=i}function gm(r,i,a){tr[nr++]=Ss,tr[nr++]=Cs,tr[nr++]=ro,ro=r;var d=Ss;r=Cs;var f=32-gn(d)-1;d&=~(1<<f),a+=1;var m=32-gn(i)+f;if(30<m){var w=f-f%5;m=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Ss=1<<32-gn(i)+f|a<<f|d,Cs=m+r}else Ss=1<<m|a<<f|d,Cs=r}function Sd(r){r.return!==null&&(so(r,1),gm(r,1,0))}function Cd(r){for(;r===fu;)fu=Yo[--Xo],Yo[Xo]=null,pu=Yo[--Xo],Yo[Xo]=null;for(;r===ro;)ro=tr[--nr],tr[nr]=null,Cs=tr[--nr],tr[nr]=null,Ss=tr[--nr],tr[nr]=null}var Bn=null,$n=null,ft=!1,br=null;function ym(r,i){var a=or(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function vm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Bn=r,$n=ii(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Bn=r,$n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ro!==null?{id:Ss,overflow:Cs}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=or(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Bn=r,$n=null,!0):!1;default:return!1}}function Ad(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rd(r){if(ft){var i=$n;if(i){var a=i;if(!vm(r,i)){if(Ad(r))throw Error(t(418));i=ii(a.nextSibling);var d=Bn;i&&vm(r,i)?ym(d,a):(r.flags=r.flags&-4097|2,ft=!1,Bn=r)}}else{if(Ad(r))throw Error(t(418));r.flags=r.flags&-4097|2,ft=!1,Bn=r}}}function _m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Bn=r}function mu(r){if(r!==Bn)return!1;if(!ft)return _m(r),ft=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Ed(r.type,r.memoizedProps)),i&&(i=$n)){if(Ad(r))throw wm(),Error(t(418));for(;i;)ym(r,i),i=ii(i.nextSibling)}if(_m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){$n=ii(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}$n=null}}else $n=Bn?ii(r.stateNode.nextSibling):null;return!0}function wm(){for(var r=$n;r;)r=ii(r.nextSibling)}function Jo(){$n=Bn=null,ft=!1}function Pd(r){br===null?br=[r]:br.push(r)}var IE=we.ReactCurrentBatchConfig;function kr(r,i){if(r&&r.defaultProps){i=S({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}var gu=oi(null),yu=null,Zo=null,Nd=null;function Dd(){Nd=Zo=yu=null}function Od(r){var i=gu.current;ct(gu),r._currentValue=i}function Vd(r,i,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===a)break;r=r.return}}function ea(r,i){yu=r,Nd=Zo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(kn=!0),r.firstContext=null)}function rr(r){var i=r._currentValue;if(Nd!==r)if(r={context:r,memoizedValue:i,next:null},Zo===null){if(yu===null)throw Error(t(308));Zo=r,yu.dependencies={lanes:0,firstContext:r}}else Zo=Zo.next=r;return i}var io=null;function Ld(r){io===null?io=[r]:io.push(r)}function Em(r,i,a,d){var f=i.interleaved;return f===null?(a.next=a,Ld(i)):(a.next=f.next,f.next=a),i.interleaved=a,As(r,d)}function As(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ui=!1;function jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rs(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ci(r,i,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var f=d.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),d.pending=i,As(r,a)}return f=d.interleaved,f===null?(i.next=i,Ld(d)):(i.next=f.next,f.next=i),d.interleaved=i,As(r,a)}function vu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,ws(r,a)}}function Tm(r,i){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function _u(r,i,a,d){var f=r.updateQueue;ui=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,k=f.shared.pending;if(k!==null){f.shared.pending=null;var N=k,$=N.next;N.next=null,w===null?m=$:w.next=$,w=N;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==w&&(k===null?Z.firstBaseUpdate=$:k.next=$,Z.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;w=0,Z=$=N=null,k=m;do{var J=k.lane,de=k.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var pe=r,me=k;switch(J=i,de=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ne=pe.call(de,ne,J);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,J=typeof pe=="function"?pe.call(de,ne,J):pe,J==null)break e;ne=S({},ne,J);break e;case 2:ui=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[k]:J.push(k))}else de={eventTime:de,lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?($=Z=de,N=ne):Z=Z.next=de,w|=J;if(k=k.next,k===null){if(k=f.shared.pending,k===null)break;J=k,k=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(Z===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);lo|=w,r.lanes=w,r.memoizedState=ne}}function Im(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var bm=new n.Component().refs;function Md(r,i,a,d){i=r.memoizedState,a=a(d,i),a=a==null?i:S({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wu={isMounted:function(r){return(r=r._reactInternals)?pn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var d=vn(),f=pi(r),m=Rs(d,f);m.payload=i,a!=null&&(m.callback=a),i=ci(r,m,f),i!==null&&(Ar(i,r,f,d),vu(i,r,f))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var d=vn(),f=pi(r),m=Rs(d,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ci(r,m,f),i!==null&&(Ar(i,r,f,d),vu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=vn(),d=pi(r),f=Rs(a,d);f.tag=2,i!=null&&(f.callback=i),i=ci(r,f,d),i!==null&&(Ar(i,r,d,a),vu(i,r,d))}};function km(r,i,a,d,f,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,m,w):i.prototype&&i.prototype.isPureReactComponent?!Wa(a,d)||!Wa(f,m):!0}function Sm(r,i,a){var d=!1,f=ai,m=i.contextType;return typeof m=="object"&&m!==null?m=rr(m):(f=bn(i)?no:sn.current,d=i.contextTypes,m=(d=d!=null)?Qo(r,f):ai),i=new i(a,m),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wu,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=m),i}function Cm(r,i,a,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,d),i.state!==r&&wu.enqueueReplaceState(i,i.state,null)}function Fd(r,i,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs=bm,jd(r);var m=i.contextType;typeof m=="object"&&m!==null?f.context=rr(m):(m=bn(i)?no:sn.current,f.context=Qo(r,m)),f.state=r.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Md(r,i,m,a),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&wu.enqueueReplaceState(f,f.state,null),_u(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Za(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var f=d,m=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(w){var k=f.refs;k===bm&&(k=f.refs={}),w===null?delete k[m]:k[m]=w},i._stringRef=m,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Eu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Am(r){var i=r._init;return i(r._payload)}function Rm(r){function i(M,V){if(r){var B=M.deletions;B===null?(M.deletions=[V],M.flags|=16):B.push(V)}}function a(M,V){if(!r)return null;for(;V!==null;)i(M,V),V=V.sibling;return null}function d(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function f(M,V){return M=gi(M,V),M.index=0,M.sibling=null,M}function m(M,V,B){return M.index=B,r?(B=M.alternate,B!==null?(B=B.index,B<V?(M.flags|=2,V):B):(M.flags|=2,V)):(M.flags|=1048576,V)}function w(M){return r&&M.alternate===null&&(M.flags|=2),M}function k(M,V,B,re){return V===null||V.tag!==6?(V=xh(B,M.mode,re),V.return=M,V):(V=f(V,B),V.return=M,V)}function N(M,V,B,re){var ve=B.type;return ve===R?Z(M,V,B.props.children,re,B.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Et&&Am(ve)===V.type)?(re=f(V,B.props),re.ref=Za(M,V,B),re.return=M,re):(re=Uu(B.type,B.key,B.props,null,M.mode,re),re.ref=Za(M,V,B),re.return=M,re)}function $(M,V,B,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Th(B,M.mode,re),V.return=M,V):(V=f(V,B.children||[]),V.return=M,V)}function Z(M,V,B,re,ve){return V===null||V.tag!==7?(V=fo(B,M.mode,re,ve),V.return=M,V):(V=f(V,B),V.return=M,V)}function ne(M,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=xh(""+V,M.mode,B),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Oe:return B=Uu(V.type,V.key,V.props,null,M.mode,B),B.ref=Za(M,null,V),B.return=M,B;case ge:return V=Th(V,M.mode,B),V.return=M,V;case Et:var re=V._init;return ne(M,re(V._payload),B)}if(at(V)||K(V))return V=fo(V,M.mode,B,null),V.return=M,V;Eu(M,V)}return null}function J(M,V,B,re){var ve=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ve!==null?null:k(M,V,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Oe:return B.key===ve?N(M,V,B,re):null;case ge:return B.key===ve?$(M,V,B,re):null;case Et:return ve=B._init,J(M,V,ve(B._payload),re)}if(at(B)||K(B))return ve!==null?null:Z(M,V,B,re,null);Eu(M,B)}return null}function de(M,V,B,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return M=M.get(B)||null,k(V,M,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Oe:return M=M.get(re.key===null?B:re.key)||null,N(V,M,re,ve);case ge:return M=M.get(re.key===null?B:re.key)||null,$(V,M,re,ve);case Et:var xe=re._init;return de(M,V,B,xe(re._payload),ve)}if(at(re)||K(re))return M=M.get(B)||null,Z(V,M,re,ve,null);Eu(V,re)}return null}function pe(M,V,B,re){for(var ve=null,xe=null,Te=V,Ae=V=0,$t=null;Te!==null&&Ae<B.length;Ae++){Te.index>Ae?($t=Te,Te=null):$t=Te.sibling;var Qe=J(M,Te,B[Ae],re);if(Qe===null){Te===null&&(Te=$t);break}r&&Te&&Qe.alternate===null&&i(M,Te),V=m(Qe,V,Ae),xe===null?ve=Qe:xe.sibling=Qe,xe=Qe,Te=$t}if(Ae===B.length)return a(M,Te),ft&&so(M,Ae),ve;if(Te===null){for(;Ae<B.length;Ae++)Te=ne(M,B[Ae],re),Te!==null&&(V=m(Te,V,Ae),xe===null?ve=Te:xe.sibling=Te,xe=Te);return ft&&so(M,Ae),ve}for(Te=d(M,Te);Ae<B.length;Ae++)$t=de(Te,M,Ae,B[Ae],re),$t!==null&&(r&&$t.alternate!==null&&Te.delete($t.key===null?Ae:$t.key),V=m($t,V,Ae),xe===null?ve=$t:xe.sibling=$t,xe=$t);return r&&Te.forEach(function(yi){return i(M,yi)}),ft&&so(M,Ae),ve}function me(M,V,B,re){var ve=K(B);if(typeof ve!="function")throw Error(t(150));if(B=ve.call(B),B==null)throw Error(t(151));for(var xe=ve=null,Te=V,Ae=V=0,$t=null,Qe=B.next();Te!==null&&!Qe.done;Ae++,Qe=B.next()){Te.index>Ae?($t=Te,Te=null):$t=Te.sibling;var yi=J(M,Te,Qe.value,re);if(yi===null){Te===null&&(Te=$t);break}r&&Te&&yi.alternate===null&&i(M,Te),V=m(yi,V,Ae),xe===null?ve=yi:xe.sibling=yi,xe=yi,Te=$t}if(Qe.done)return a(M,Te),ft&&so(M,Ae),ve;if(Te===null){for(;!Qe.done;Ae++,Qe=B.next())Qe=ne(M,Qe.value,re),Qe!==null&&(V=m(Qe,V,Ae),xe===null?ve=Qe:xe.sibling=Qe,xe=Qe);return ft&&so(M,Ae),ve}for(Te=d(M,Te);!Qe.done;Ae++,Qe=B.next())Qe=de(Te,M,Ae,Qe.value,re),Qe!==null&&(r&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ae:Qe.key),V=m(Qe,V,Ae),xe===null?ve=Qe:xe.sibling=Qe,xe=Qe);return r&&Te.forEach(function(rx){return i(M,rx)}),ft&&so(M,Ae),ve}function It(M,V,B,re){if(typeof B=="object"&&B!==null&&B.type===R&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Oe:e:{for(var ve=B.key,xe=V;xe!==null;){if(xe.key===ve){if(ve=B.type,ve===R){if(xe.tag===7){a(M,xe.sibling),V=f(xe,B.props.children),V.return=M,M=V;break e}}else if(xe.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Et&&Am(ve)===xe.type){a(M,xe.sibling),V=f(xe,B.props),V.ref=Za(M,xe,B),V.return=M,M=V;break e}a(M,xe);break}else i(M,xe);xe=xe.sibling}B.type===R?(V=fo(B.props.children,M.mode,re,B.key),V.return=M,M=V):(re=Uu(B.type,B.key,B.props,null,M.mode,re),re.ref=Za(M,V,B),re.return=M,M=re)}return w(M);case ge:e:{for(xe=B.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(M,V.sibling),V=f(V,B.children||[]),V.return=M,M=V;break e}else{a(M,V);break}else i(M,V);V=V.sibling}V=Th(B,M.mode,re),V.return=M,M=V}return w(M);case Et:return xe=B._init,It(M,V,xe(B._payload),re)}if(at(B))return pe(M,V,B,re);if(K(B))return me(M,V,B,re);Eu(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(a(M,V.sibling),V=f(V,B),V.return=M,M=V):(a(M,V),V=xh(B,M.mode,re),V.return=M,M=V),w(M)):a(M,V)}return It}var ta=Rm(!0),Pm=Rm(!1),el={},Yr=oi(el),tl=oi(el),nl=oi(el);function oo(r){if(r===el)throw Error(t(174));return r}function Ud(r,i){switch(lt(nl,i),lt(tl,r),lt(Yr,el),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ft(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ft(i,r)}ct(Yr),lt(Yr,i)}function na(){ct(Yr),ct(tl),ct(nl)}function Nm(r){oo(nl.current);var i=oo(Yr.current),a=Ft(i,r.type);i!==a&&(lt(tl,r),lt(Yr,a))}function zd(r){tl.current===r&&(ct(Yr),ct(tl))}var mt=oi(0);function xu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bd=[];function $d(){for(var r=0;r<Bd.length;r++)Bd[r]._workInProgressVersionPrimary=null;Bd.length=0}var Tu=we.ReactCurrentDispatcher,qd=we.ReactCurrentBatchConfig,ao=0,gt=null,Vt=null,zt=null,Iu=!1,rl=!1,sl=0,bE=0;function on(){throw Error(t(321))}function Hd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ir(r[a],i[a]))return!1;return!0}function Wd(r,i,a,d,f,m){if(ao=m,gt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Tu.current=r===null||r.memoizedState===null?AE:RE,r=a(d,f),rl){m=0;do{if(rl=!1,sl=0,25<=m)throw Error(t(301));m+=1,zt=Vt=null,i.updateQueue=null,Tu.current=PE,r=a(d,f)}while(rl)}if(Tu.current=Su,i=Vt!==null&&Vt.next!==null,ao=0,zt=Vt=gt=null,Iu=!1,i)throw Error(t(300));return r}function Gd(){var r=sl!==0;return sl=0,r}function Xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=r:zt=zt.next=r,zt}function sr(){if(Vt===null){var r=gt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var i=zt===null?gt.memoizedState:zt.next;if(i!==null)zt=i,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},zt===null?gt.memoizedState=zt=r:zt=zt.next=r}return zt}function il(r,i){return typeof i=="function"?i(r):i}function Kd(r){var i=sr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=Vt,f=d.baseQueue,m=a.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}d.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,d=d.baseState;var k=w=null,N=null,$=m;do{var Z=$.lane;if((ao&Z)===Z)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),d=$.hasEagerState?$.eagerState:r(d,$.action);else{var ne={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(k=N=ne,w=d):N=N.next=ne,gt.lanes|=Z,lo|=Z}$=$.next}while($!==null&&$!==m);N===null?w=d:N.next=k,Ir(d,i.memoizedState)||(kn=!0),i.memoizedState=d,i.baseState=w,i.baseQueue=N,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do m=f.lane,gt.lanes|=m,lo|=m,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Qd(r){var i=sr(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=r(m,w.action),w=w.next;while(w!==f);Ir(m,i.memoizedState)||(kn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,d]}function Dm(){}function Om(r,i){var a=gt,d=sr(),f=i(),m=!Ir(d.memoizedState,f);if(m&&(d.memoizedState=f,kn=!0),d=d.queue,Yd(jm.bind(null,a,d,r),[r]),d.getSnapshot!==i||m||zt!==null&&zt.memoizedState.tag&1){if(a.flags|=2048,ol(9,Lm.bind(null,a,d,f,i),void 0,null),Bt===null)throw Error(t(349));(ao&30)!==0||Vm(a,i,f)}return f}function Vm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=gt.updateQueue,i===null?(i={lastEffect:null,stores:null},gt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Lm(r,i,a,d){i.value=a,i.getSnapshot=d,Mm(i)&&Fm(r)}function jm(r,i,a){return a(function(){Mm(i)&&Fm(r)})}function Mm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ir(r,a)}catch{return!0}}function Fm(r){var i=As(r,1);i!==null&&Ar(i,r,1,-1)}function Um(r){var i=Xr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:r},i.queue=r,r=r.dispatch=CE.bind(null,gt,r),[i.memoizedState,r]}function ol(r,i,a,d){return r={tag:r,create:i,destroy:a,deps:d,next:null},i=gt.updateQueue,i===null?(i={lastEffect:null,stores:null},gt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,i.lastEffect=r)),r}function zm(){return sr().memoizedState}function bu(r,i,a,d){var f=Xr();gt.flags|=r,f.memoizedState=ol(1|i,a,void 0,d===void 0?null:d)}function ku(r,i,a,d){var f=sr();d=d===void 0?null:d;var m=void 0;if(Vt!==null){var w=Vt.memoizedState;if(m=w.destroy,d!==null&&Hd(d,w.deps)){f.memoizedState=ol(i,a,m,d);return}}gt.flags|=r,f.memoizedState=ol(1|i,a,m,d)}function Bm(r,i){return bu(8390656,8,r,i)}function Yd(r,i){return ku(2048,8,r,i)}function $m(r,i){return ku(4,2,r,i)}function qm(r,i){return ku(4,4,r,i)}function Hm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Wm(r,i,a){return a=a!=null?a.concat([r]):null,ku(4,4,Hm.bind(null,i,r),a)}function Xd(){}function Gm(r,i){var a=sr();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Hd(i,d[1])?d[0]:(a.memoizedState=[r,i],r)}function Km(r,i){var a=sr();i=i===void 0?null:i;var d=a.memoizedState;return d!==null&&i!==null&&Hd(i,d[1])?d[0]:(r=r(),a.memoizedState=[r,i],r)}function Qm(r,i,a){return(ao&21)===0?(r.baseState&&(r.baseState=!1,kn=!0),r.memoizedState=a):(Ir(a,i)||(a=ys(),gt.lanes|=a,lo|=a,r.baseState=!0),i)}function kE(r,i){var a=je;je=a!==0&&4>a?a:4,r(!0);var d=qd.transition;qd.transition={};try{r(!1),i()}finally{je=a,qd.transition=d}}function Ym(){return sr().memoizedState}function SE(r,i,a){var d=pi(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Xm(r))Jm(i,a);else if(a=Em(r,i,a,d),a!==null){var f=vn();Ar(a,r,d,f),Zm(a,i,d)}}function CE(r,i,a){var d=pi(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xm(r))Jm(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,k=m(w,a);if(f.hasEagerState=!0,f.eagerState=k,Ir(k,w)){var N=i.interleaved;N===null?(f.next=f,Ld(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}a=Em(r,i,f,d),a!==null&&(f=vn(),Ar(a,r,d,f),Zm(a,i,d))}}function Xm(r){var i=r.alternate;return r===gt||i!==null&&i===gt}function Jm(r,i){rl=Iu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Zm(r,i,a){if((a&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,a|=d,i.lanes=a,ws(r,a)}}var Su={readContext:rr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},AE={readContext:rr,useCallback:function(r,i){return Xr().memoizedState=[r,i===void 0?null:i],r},useContext:rr,useEffect:Bm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,bu(4194308,4,Hm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return bu(4194308,4,r,i)},useInsertionEffect:function(r,i){return bu(4,2,r,i)},useMemo:function(r,i){var a=Xr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var d=Xr();return i=a!==void 0?a(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=SE.bind(null,gt,r),[d.memoizedState,r]},useRef:function(r){var i=Xr();return r={current:r},i.memoizedState=r},useState:Um,useDebugValue:Xd,useDeferredValue:function(r){return Xr().memoizedState=r},useTransition:function(){var r=Um(!1),i=r[0];return r=kE.bind(null,r[1]),Xr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var d=gt,f=Xr();if(ft){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Bt===null)throw Error(t(349));(ao&30)!==0||Vm(d,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Bm(jm.bind(null,d,m,r),[r]),d.flags|=2048,ol(9,Lm.bind(null,d,m,a,i),void 0,null),a},useId:function(){var r=Xr(),i=Bt.identifierPrefix;if(ft){var a=Cs,d=Ss;a=(d&~(1<<32-gn(d)-1)).toString(32)+a,i=":"+i+"R"+a,a=sl++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=bE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},RE={readContext:rr,useCallback:Gm,useContext:rr,useEffect:Yd,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:qm,useMemo:Km,useReducer:Kd,useRef:zm,useState:function(){return Kd(il)},useDebugValue:Xd,useDeferredValue:function(r){var i=sr();return Qm(i,Vt.memoizedState,r)},useTransition:function(){var r=Kd(il)[0],i=sr().memoizedState;return[r,i]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Ym,unstable_isNewReconciler:!1},PE={readContext:rr,useCallback:Gm,useContext:rr,useEffect:Yd,useImperativeHandle:Wm,useInsertionEffect:$m,useLayoutEffect:qm,useMemo:Km,useReducer:Qd,useRef:zm,useState:function(){return Qd(il)},useDebugValue:Xd,useDeferredValue:function(r){var i=sr();return Vt===null?i.memoizedState=r:Qm(i,Vt.memoizedState,r)},useTransition:function(){var r=Qd(il)[0],i=sr().memoizedState;return[r,i]},useMutableSource:Dm,useSyncExternalStore:Om,useId:Ym,unstable_isNewReconciler:!1};function ra(r,i){try{var a="",d=i;do a+=qe(d),d=d.return;while(d);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:i,stack:f,digest:null}}function Jd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Zd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var NE=typeof WeakMap=="function"?WeakMap:Map;function eg(r,i,a){a=Rs(-1,a),a.tag=3,a.payload={element:null};var d=i.value;return a.callback=function(){Ou||(Ou=!0,ph=d),Zd(r,i)},a}function tg(r,i,a){a=Rs(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=i.value;a.payload=function(){return d(f)},a.callback=function(){Zd(r,i)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Zd(r,i),typeof d!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function ng(r,i,a){var d=r.pingCache;if(d===null){d=r.pingCache=new NE;var f=new Set;d.set(i,f)}else f=d.get(i),f===void 0&&(f=new Set,d.set(i,f));f.has(a)||(f.add(a),r=WE.bind(null,r,i,a),i.then(r,r))}function rg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function sg(r,i,a,d,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Rs(-1,1),i.tag=2,ci(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var DE=we.ReactCurrentOwner,kn=!1;function yn(r,i,a,d){i.child=r===null?Pm(i,null,a,d):ta(i,r.child,a,d)}function ig(r,i,a,d,f){a=a.render;var m=i.ref;return ea(i,f),d=Wd(r,i,a,d,m,f),a=Gd(),r!==null&&!kn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Ps(r,i,f)):(ft&&a&&Sd(i),i.flags|=1,yn(r,i,d,f),i.child)}function og(r,i,a,d,f){if(r===null){var m=a.type;return typeof m=="function"&&!Eh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,ag(r,i,m,d,f)):(r=Uu(a.type,null,d,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,(r.lanes&f)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Wa,a(w,d)&&r.ref===i.ref)return Ps(r,i,f)}return i.flags|=1,r=gi(m,d),r.ref=i.ref,r.return=i,i.child=r}function ag(r,i,a,d,f){if(r!==null){var m=r.memoizedProps;if(Wa(m,d)&&r.ref===i.ref)if(kn=!1,i.pendingProps=d=m,(r.lanes&f)!==0)(r.flags&131072)!==0&&(kn=!0);else return i.lanes=r.lanes,Ps(r,i,f)}return eh(r,i,a,d,f)}function lg(r,i,a){var d=i.pendingProps,f=d.children,m=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ia,qn),qn|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,lt(ia,qn),qn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:a,lt(ia,qn),qn|=d}else m!==null?(d=m.baseLanes|a,i.memoizedState=null):d=a,lt(ia,qn),qn|=d;return yn(r,i,f,a),i.child}function ug(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function eh(r,i,a,d,f){var m=bn(a)?no:sn.current;return m=Qo(i,m),ea(i,f),a=Wd(r,i,a,d,m,f),d=Gd(),r!==null&&!kn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Ps(r,i,f)):(ft&&d&&Sd(i),i.flags|=1,yn(r,i,a,f),i.child)}function cg(r,i,a,d,f){if(bn(a)){var m=!0;du(i)}else m=!1;if(ea(i,f),i.stateNode===null)Au(r,i),Sm(i,a,d),Fd(i,a,d,f),d=!0;else if(r===null){var w=i.stateNode,k=i.memoizedProps;w.props=k;var N=w.context,$=a.contextType;typeof $=="object"&&$!==null?$=rr($):($=bn(a)?no:sn.current,$=Qo(i,$));var Z=a.getDerivedStateFromProps,ne=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==d||N!==$)&&Cm(i,w,d,$),ui=!1;var J=i.memoizedState;w.state=J,_u(i,d,w,f),N=i.memoizedState,k!==d||J!==N||In.current||ui?(typeof Z=="function"&&(Md(i,a,Z,d),N=i.memoizedState),(k=ui||km(i,a,k,d,J,N,$))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=N),w.props=d,w.state=N,w.context=$,d=k):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{w=i.stateNode,xm(r,i),k=i.memoizedProps,$=i.type===i.elementType?k:kr(i.type,k),w.props=$,ne=i.pendingProps,J=w.context,N=a.contextType,typeof N=="object"&&N!==null?N=rr(N):(N=bn(a)?no:sn.current,N=Qo(i,N));var de=a.getDerivedStateFromProps;(Z=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==ne||J!==N)&&Cm(i,w,d,N),ui=!1,J=i.memoizedState,w.state=J,_u(i,d,w,f);var pe=i.memoizedState;k!==ne||J!==pe||In.current||ui?(typeof de=="function"&&(Md(i,a,de,d),pe=i.memoizedState),($=ui||km(i,a,$,d,J,pe,N)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,pe,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,pe,N)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=pe),w.props=d,w.state=pe,w.context=N,d=$):(typeof w.componentDidUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),d=!1)}return th(r,i,a,d,m,f)}function th(r,i,a,d,f,m){ug(r,i);var w=(i.flags&128)!==0;if(!d&&!w)return f&&pm(i,a,!1),Ps(r,i,m);d=i.stateNode,DE.current=i;var k=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&w?(i.child=ta(i,r.child,null,m),i.child=ta(i,null,k,m)):yn(r,i,k,m),i.memoizedState=d.state,f&&pm(i,a,!0),i.child}function dg(r){var i=r.stateNode;i.pendingContext?hm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&hm(r,i.context,!1),Ud(r,i.containerInfo)}function hg(r,i,a,d,f){return Jo(),Pd(f),i.flags|=256,yn(r,i,a,d),i.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(r){return{baseLanes:r,cachePool:null,transitions:null}}function fg(r,i,a){var d=i.pendingProps,f=mt.current,m=!1,w=(i.flags&128)!==0,k;if((k=w)||(k=r!==null&&r.memoizedState===null?!1:(f&2)!==0),k?(m=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),lt(mt,f&1),r===null)return Rd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=d.children,r=d.fallback,m?(d=i.mode,m=i.child,w={mode:"hidden",children:w},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=zu(w,d,0,null),r=fo(r,d,a,null),m.return=i,r.return=i,m.sibling=r,i.child=m,i.child.memoizedState=rh(a),i.memoizedState=nh,r):sh(i,w));if(f=r.memoizedState,f!==null&&(k=f.dehydrated,k!==null))return OE(r,i,w,d,k,f,a);if(m){m=d.fallback,w=i.mode,f=r.child,k=f.sibling;var N={mode:"hidden",children:d.children};return(w&1)===0&&i.child!==f?(d=i.child,d.childLanes=0,d.pendingProps=N,i.deletions=null):(d=gi(f,N),d.subtreeFlags=f.subtreeFlags&14680064),k!==null?m=gi(k,m):(m=fo(m,w,a,null),m.flags|=2),m.return=i,d.return=i,d.sibling=m,i.child=d,d=m,m=i.child,w=r.child.memoizedState,w=w===null?rh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~a,i.memoizedState=nh,d}return m=r.child,r=m.sibling,d=gi(m,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=a),d.return=i,d.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=d,i.memoizedState=null,d}function sh(r,i){return i=zu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Cu(r,i,a,d){return d!==null&&Pd(d),ta(i,r.child,null,a),r=sh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function OE(r,i,a,d,f,m,w){if(a)return i.flags&256?(i.flags&=-257,d=Jd(Error(t(422))),Cu(r,i,w,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(m=d.fallback,f=i.mode,d=zu({mode:"visible",children:d.children},f,0,null),m=fo(m,f,w,null),m.flags|=2,d.return=i,m.return=i,d.sibling=m,i.child=d,(i.mode&1)!==0&&ta(i,r.child,null,w),i.child.memoizedState=rh(w),i.memoizedState=nh,m);if((i.mode&1)===0)return Cu(r,i,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var k=d.dgst;return d=k,m=Error(t(419)),d=Jd(m,d,void 0),Cu(r,i,w,d)}if(k=(w&r.childLanes)!==0,kn||k){if(d=Bt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,As(r,f),Ar(d,r,f,-1))}return wh(),d=Jd(Error(t(421))),Cu(r,i,w,d)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=GE.bind(null,r),f._reactRetry=i,null):(r=m.treeContext,$n=ii(f.nextSibling),Bn=i,ft=!0,br=null,r!==null&&(tr[nr++]=Ss,tr[nr++]=Cs,tr[nr++]=ro,Ss=r.id,Cs=r.overflow,ro=i),i=sh(i,d.children),i.flags|=4096,i)}function pg(r,i,a){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Vd(r.return,i,a)}function ih(r,i,a,d,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=a,m.tailMode=f)}function mg(r,i,a){var d=i.pendingProps,f=d.revealOrder,m=d.tail;if(yn(r,i,d.children,a),d=mt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pg(r,a,i);else if(r.tag===19)pg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(lt(mt,d),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&xu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ih(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&xu(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}ih(i,!0,a,null,m);break;case"together":ih(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Au(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ps(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),lo|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=gi(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=gi(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function VE(r,i,a){switch(i.tag){case 3:dg(i),Jo();break;case 5:Nm(i);break;case 1:bn(i.type)&&du(i);break;case 4:Ud(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,f=i.memoizedProps.value;lt(gu,d._currentValue),d._currentValue=f;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(lt(mt,mt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?fg(r,i,a):(lt(mt,mt.current&1),r=Ps(r,i,a),r!==null?r.sibling:null);lt(mt,mt.current&1);break;case 19:if(d=(a&i.childLanes)!==0,(r.flags&128)!==0){if(d)return mg(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(mt,mt.current),d)break;return null;case 22:case 23:return i.lanes=0,lg(r,i,a)}return Ps(r,i,a)}var gg,oh,yg,vg;gg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},oh=function(){},yg=function(r,i,a,d){var f=r.memoizedProps;if(f!==d){r=i.stateNode,oo(Yr.current);var m=null;switch(a){case"input":f=fn(r,f),d=fn(r,d),m=[];break;case"select":f=S({},f,{value:void 0}),d=S({},d,{value:void 0}),m=[];break;case"textarea":f=et(r,f),d=et(r,d),m=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=lu)}Ut(a,d);var w;a=null;for($ in f)if(!d.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var k=f[$];for(w in k)k.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?m||(m=[]):(m=m||[]).push($,null));for($ in d){var N=d[$];if(k=f?.[$],d.hasOwnProperty($)&&N!==k&&(N!=null||k!=null))if($==="style")if(k){for(w in k)!k.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in N)N.hasOwnProperty(w)&&k[w]!==N[w]&&(a||(a={}),a[w]=N[w])}else a||(m||(m=[]),m.push($,a)),a=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,k=k?k.__html:void 0,N!=null&&k!==N&&(m=m||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(m=m||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&ut("scroll",r),m||k===N||(m=[])):(m=m||[]).push($,N))}a&&(m=m||[]).push("style",a);var $=m;(i.updateQueue=$)&&(i.flags|=4)}},vg=function(r,i,a,d){a!==d&&(i.flags|=4)};function al(r,i){if(!ft)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function an(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,i}function LE(r,i,a){var d=i.pendingProps;switch(Cd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(i),null;case 1:return bn(i.type)&&cu(),an(i),null;case 3:return d=i.stateNode,na(),ct(In),ct(sn),$d(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(mu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,br!==null&&(yh(br),br=null))),oh(r,i),an(i),null;case 5:zd(i);var f=oo(nl.current);if(a=i.type,r!==null&&i.stateNode!=null)yg(r,i,a,d,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return an(i),null}if(r=oo(Yr.current),mu(i)){d=i.stateNode,a=i.type;var m=i.memoizedProps;switch(d[Qr]=i,d[Xa]=m,r=(i.mode&1)!==0,a){case"dialog":ut("cancel",d),ut("close",d);break;case"iframe":case"object":case"embed":ut("load",d);break;case"video":case"audio":for(f=0;f<Ka.length;f++)ut(Ka[f],d);break;case"source":ut("error",d);break;case"img":case"image":case"link":ut("error",d),ut("load",d);break;case"details":ut("toggle",d);break;case"input":qs(d,m),ut("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},ut("invalid",d);break;case"textarea":Hs(d,m),ut("invalid",d)}Ut(a,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var k=m[w];w==="children"?typeof k=="string"?d.textContent!==k&&(m.suppressHydrationWarning!==!0&&au(d.textContent,k,r),f=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(m.suppressHydrationWarning!==!0&&au(d.textContent,k,r),f=["children",""+k]):o.hasOwnProperty(w)&&k!=null&&w==="onScroll"&&ut("scroll",d)}switch(a){case"input":Pn(d),nt(d,m,!0);break;case"textarea":Pn(d),Gn(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=lu)}d=f,i.updateQueue=d,d!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=En(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[Qr]=i,r[Xa]=d,gg(r,i,!1,!1),i.stateNode=r;e:{switch(w=Lr(a,d),a){case"dialog":ut("cancel",r),ut("close",r),f=d;break;case"iframe":case"object":case"embed":ut("load",r),f=d;break;case"video":case"audio":for(f=0;f<Ka.length;f++)ut(Ka[f],r);f=d;break;case"source":ut("error",r),f=d;break;case"img":case"image":case"link":ut("error",r),ut("load",r),f=d;break;case"details":ut("toggle",r),f=d;break;case"input":qs(r,d),f=fn(r,d),ut("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=S({},d,{value:void 0}),ut("invalid",r);break;case"textarea":Hs(r,d),f=et(r,d),ut("invalid",r);break;default:f=d}Ut(a,f),k=f;for(m in k)if(k.hasOwnProperty(m)){var N=k[m];m==="style"?cs(r,N):m==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ot(r,N)):m==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&xn(r,N):typeof N=="number"&&xn(r,""+N):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?N!=null&&m==="onScroll"&&ut("scroll",r):N!=null&&ie(r,m,N,w))}switch(a){case"input":Pn(r),nt(r,d,!1);break;case"textarea":Pn(r),Gn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ue(d.value));break;case"select":r.multiple=!!d.multiple,m=d.value,m!=null?wn(r,!!d.multiple,m,!1):d.defaultValue!=null&&wn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=lu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return an(i),null;case 6:if(r&&i.stateNode!=null)vg(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(a=oo(nl.current),oo(Yr.current),mu(i)){if(d=i.stateNode,a=i.memoizedProps,d[Qr]=i,(m=d.nodeValue!==a)&&(r=Bn,r!==null))switch(r.tag){case 3:au(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&au(d.nodeValue,a,(r.mode&1)!==0)}m&&(i.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Qr]=i,i.stateNode=d}return an(i),null;case 13:if(ct(mt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&$n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)wm(),Jo(),i.flags|=98560,m=!1;else if(m=mu(i),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Qr]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;an(i),m=!1}else br!==null&&(yh(br),br=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(mt.current&1)!==0?Lt===0&&(Lt=3):wh())),i.updateQueue!==null&&(i.flags|=4),an(i),null);case 4:return na(),oh(r,i),r===null&&Qa(i.stateNode.containerInfo),an(i),null;case 10:return Od(i.type._context),an(i),null;case 17:return bn(i.type)&&cu(),an(i),null;case 19:if(ct(mt),m=i.memoizedState,m===null)return an(i),null;if(d=(i.flags&128)!==0,w=m.rendering,w===null)if(d)al(m,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=xu(r),w!==null){for(i.flags|=128,al(m,!1),d=w.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=a,a=i.child;a!==null;)m=a,r=d,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return lt(mt,mt.current&1|2),i.child}r=r.sibling}m.tail!==null&&it()>oa&&(i.flags|=128,d=!0,al(m,!1),i.lanes=4194304)}else{if(!d)if(r=xu(w),r!==null){if(i.flags|=128,d=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),al(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!ft)return an(i),null}else 2*it()-m.renderingStartTime>oa&&a!==1073741824&&(i.flags|=128,d=!0,al(m,!1),i.lanes=4194304);m.isBackwards?(w.sibling=i.child,i.child=w):(a=m.last,a!==null?a.sibling=w:i.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=it(),i.sibling=null,a=mt.current,lt(mt,d?a&1|2:a&1),i):(an(i),null);case 22:case 23:return _h(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(qn&1073741824)!==0&&(an(i),i.subtreeFlags&6&&(i.flags|=8192)):an(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function jE(r,i){switch(Cd(i),i.tag){case 1:return bn(i.type)&&cu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return na(),ct(In),ct(sn),$d(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return zd(i),null;case 13:if(ct(mt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Jo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ct(mt),null;case 4:return na(),null;case 10:return Od(i.type._context),null;case 22:case 23:return _h(),null;case 24:return null;default:return null}}var Ru=!1,ln=!1,ME=typeof WeakSet=="function"?WeakSet:Set,fe=null;function sa(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){wt(r,i,d)}else a.current=null}function ah(r,i,a){try{a()}catch(d){wt(r,i,d)}}var _g=!1;function FE(r,i){if(_d=xs,r=Yp(),dd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,k=-1,N=-1,$=0,Z=0,ne=r,J=null;t:for(;;){for(var de;ne!==a||f!==0&&ne.nodeType!==3||(k=w+f),ne!==m||d!==0&&ne.nodeType!==3||(N=w+d),ne.nodeType===3&&(w+=ne.nodeValue.length),(de=ne.firstChild)!==null;)J=ne,ne=de;for(;;){if(ne===r)break t;if(J===a&&++$===f&&(k=w),J===m&&++Z===d&&(N=w),(de=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=de}a=k===-1||N===-1?null:{start:k,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:r,selectionRange:a},xs=!1,fe=i;fe!==null;)if(i=fe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,fe=r;else for(;fe!==null;){i=fe;try{var pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,It=pe.memoizedState,M=i.stateNode,V=M.getSnapshotBeforeUpdate(i.elementType===i.type?me:kr(i.type,me),It);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){wt(i,i.return,re)}if(r=i.sibling,r!==null){r.return=i.return,fe=r;break}fe=i.return}return pe=_g,_g=!1,pe}function ll(r,i,a){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var m=f.destroy;f.destroy=void 0,m!==void 0&&ah(i,a,m)}f=f.next}while(f!==d)}}function Pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==i)}}function lh(r){var i=r.ref;if(i!==null){var a=r.stateNode;r.tag,r=a,typeof i=="function"?i(r):i.current=r}}function wg(r){var i=r.alternate;i!==null&&(r.alternate=null,wg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Qr],delete i[Xa],delete i[Id],delete i[EE],delete i[xE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Eg(r){return r.tag===5||r.tag===3||r.tag===4}function xg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uh(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lu));else if(d!==4&&(r=r.child,r!==null))for(uh(r,i,a),r=r.sibling;r!==null;)uh(r,i,a),r=r.sibling}function ch(r,i,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(ch(r,i,a),r=r.sibling;r!==null;)ch(r,i,a),r=r.sibling}var Kt=null,Sr=!1;function di(r,i,a){for(a=a.child;a!==null;)Tg(r,i,a),a=a.sibling}function Tg(r,i,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ms,a)}catch{}switch(a.tag){case 5:ln||sa(a,i);case 6:var d=Kt,f=Sr;Kt=null,di(r,i,a),Kt=d,Sr=f,Kt!==null&&(Sr?(r=Kt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Kt.removeChild(a.stateNode));break;case 18:Kt!==null&&(Sr?(r=Kt,a=a.stateNode,r.nodeType===8?Td(r.parentNode,a):r.nodeType===1&&Td(r,a),ti(r)):Td(Kt,a.stateNode));break;case 4:d=Kt,f=Sr,Kt=a.stateNode.containerInfo,Sr=!0,di(r,i,a),Kt=d,Sr=f;break;case 0:case 11:case 14:case 15:if(!ln&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&ah(a,i,w),f=f.next}while(f!==d)}di(r,i,a);break;case 1:if(!ln&&(sa(a,i),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(k){wt(a,i,k)}di(r,i,a);break;case 21:di(r,i,a);break;case 22:a.mode&1?(ln=(d=ln)||a.memoizedState!==null,di(r,i,a),ln=d):di(r,i,a);break;default:di(r,i,a)}}function Ig(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new ME),i.forEach(function(d){var f=KE.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function Cr(r,i){var a=i.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var m=r,w=i,k=w;e:for(;k!==null;){switch(k.tag){case 5:Kt=k.stateNode,Sr=!1;break e;case 3:Kt=k.stateNode.containerInfo,Sr=!0;break e;case 4:Kt=k.stateNode.containerInfo,Sr=!0;break e}k=k.return}if(Kt===null)throw Error(t(160));Tg(m,w,f),Kt=null,Sr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch($){wt(f,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bg(i,r),i=i.sibling}function bg(r,i){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(i,r),Jr(r),d&4){try{ll(3,r,r.return),Pu(3,r)}catch(me){wt(r,r.return,me)}try{ll(5,r,r.return)}catch(me){wt(r,r.return,me)}}break;case 1:Cr(i,r),Jr(r),d&512&&a!==null&&sa(a,a.return);break;case 5:if(Cr(i,r),Jr(r),d&512&&a!==null&&sa(a,a.return),r.flags&32){var f=r.stateNode;try{xn(f,"")}catch(me){wt(r,r.return,me)}}if(d&4&&(f=r.stateNode,f!=null)){var m=r.memoizedProps,w=a!==null?a.memoizedProps:m,k=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{k==="input"&&m.type==="radio"&&m.name!=null&&us(f,m),Lr(k,w);var $=Lr(k,m);for(w=0;w<N.length;w+=2){var Z=N[w],ne=N[w+1];Z==="style"?cs(f,ne):Z==="dangerouslySetInnerHTML"?Ot(f,ne):Z==="children"?xn(f,ne):ie(f,Z,ne,$)}switch(k){case"input":hr(f,m);break;case"textarea":fr(f,m);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?wn(f,!!m.multiple,de,!1):J!==!!m.multiple&&(m.defaultValue!=null?wn(f,!!m.multiple,m.defaultValue,!0):wn(f,!!m.multiple,m.multiple?[]:"",!1))}f[Xa]=m}catch(me){wt(r,r.return,me)}}break;case 6:if(Cr(i,r),Jr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,m=r.memoizedProps;try{f.nodeValue=m}catch(me){wt(r,r.return,me)}}break;case 3:if(Cr(i,r),Jr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{ti(i.containerInfo)}catch(me){wt(r,r.return,me)}break;case 4:Cr(i,r),Jr(r);break;case 13:Cr(i,r),Jr(r),f=r.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(fh=it())),d&4&&Ig(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(ln=($=ln)||Z,Cr(i,r),ln=$):Cr(i,r),Jr(r),d&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Z&&(r.mode&1)!==0)for(fe=r,Z=r.child;Z!==null;){for(ne=fe=Z;fe!==null;){switch(J=fe,de=J.child,J.tag){case 0:case 11:case 14:case 15:ll(4,J,J.return);break;case 1:sa(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){d=J,a=J.return;try{i=d,pe.props=i.memoizedProps,pe.state=i.memoizedState,pe.componentWillUnmount()}catch(me){wt(d,a,me)}}break;case 5:sa(J,J.return);break;case 22:if(J.memoizedState!==null){Cg(ne);continue}}de!==null?(de.return=J,fe=de):Cg(ne)}Z=Z.sibling}e:for(Z=null,ne=r;;){if(ne.tag===5){if(Z===null){Z=ne;try{f=ne.stateNode,$?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(k=ne.stateNode,N=ne.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,k.style.display=Kn("display",w))}catch(me){wt(r,r.return,me)}}}else if(ne.tag===6){if(Z===null)try{ne.stateNode.nodeValue=$?"":ne.memoizedProps}catch(me){wt(r,r.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;Z===ne&&(Z=null),ne=ne.return}Z===ne&&(Z=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Cr(i,r),Jr(r),d&4&&Ig(r);break;case 21:break;default:Cr(i,r),Jr(r)}}function Jr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Eg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(xn(f,""),d.flags&=-33);var m=xg(r);ch(r,m,f);break;case 3:case 4:var w=d.stateNode.containerInfo,k=xg(r);uh(r,k,w);break;default:throw Error(t(161))}}catch(N){wt(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function UE(r,i,a){fe=r,kg(r)}function kg(r,i,a){for(var d=(r.mode&1)!==0;fe!==null;){var f=fe,m=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||Ru;if(!w){var k=f.alternate,N=k!==null&&k.memoizedState!==null||ln;k=Ru;var $=ln;if(Ru=w,(ln=N)&&!$)for(fe=f;fe!==null;)w=fe,N=w.child,w.tag===22&&w.memoizedState!==null?Ag(f):N!==null?(N.return=w,fe=N):Ag(f);for(;m!==null;)fe=m,kg(m),m=m.sibling;fe=f,Ru=k,ln=$}Sg(r)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,fe=m):Sg(r)}}function Sg(r){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:ln||Pu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!ln)if(a===null)d.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:kr(i.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Im(i,m,d);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Im(i,w,a)}break;case 5:var k=i.stateNode;if(a===null&&i.flags&4){a=k;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var ne=Z.dehydrated;ne!==null&&ti(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||i.flags&512&&lh(i)}catch(J){wt(i,i.return,J)}}if(i===r){fe=null;break}if(a=i.sibling,a!==null){a.return=i.return,fe=a;break}fe=i.return}}function Cg(r){for(;fe!==null;){var i=fe;if(i===r){fe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,fe=a;break}fe=i.return}}function Ag(r){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Pu(4,i)}catch(N){wt(i,a,N)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var f=i.return;try{d.componentDidMount()}catch(N){wt(i,f,N)}}var m=i.return;try{lh(i)}catch(N){wt(i,m,N)}break;case 5:var w=i.return;try{lh(i)}catch(N){wt(i,w,N)}}}catch(N){wt(i,i.return,N)}if(i===r){fe=null;break}var k=i.sibling;if(k!==null){k.return=i.return,fe=k;break}fe=i.return}}var zE=Math.ceil,Nu=we.ReactCurrentDispatcher,dh=we.ReactCurrentOwner,ir=we.ReactCurrentBatchConfig,Ke=0,Bt=null,Pt=null,Qt=0,qn=0,ia=oi(0),Lt=0,ul=null,lo=0,Du=0,hh=0,cl=null,Sn=null,fh=0,oa=1/0,Ns=null,Ou=!1,ph=null,hi=null,Vu=!1,fi=null,Lu=0,dl=0,mh=null,ju=-1,Mu=0;function vn(){return(Ke&6)!==0?it():ju!==-1?ju:ju=it()}function pi(r){return(r.mode&1)===0?1:(Ke&2)!==0&&Qt!==0?Qt&-Qt:IE.transition!==null?(Mu===0&&(Mu=ys()),Mu):(r=je,r!==0||(r=window.event,r=r===void 0?16:Vo(r.type)),r)}function Ar(r,i,a,d){if(50<dl)throw dl=0,mh=null,Error(t(185));_s(r,a,d),((Ke&2)===0||r!==Bt)&&(r===Bt&&((Ke&2)===0&&(Du|=a),Lt===4&&mi(r,Qt)),Cn(r,d),a===1&&Ke===0&&(i.mode&1)===0&&(oa=it()+500,hu&&li()))}function Cn(r,i){var a=r.callbackNode;wr(r,i);var d=_r(r,r===Bt?Qt:0);if(d===0)a!==null&&zr(a),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(a!=null&&zr(a),i===1)r.tag===0?TE(Pg.bind(null,r)):mm(Pg.bind(null,r)),_E(function(){(Ke&6)===0&&li()}),a=null;else{switch(Mn(d)){case 1:a=Js;break;case 4:a=Hi;break;case 16:a=ps;break;case 536870912:a=Zs;break;default:a=ps}a=Fg(a,Rg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Rg(r,i){if(ju=-1,Mu=0,(Ke&6)!==0)throw Error(t(327));var a=r.callbackNode;if(aa()&&r.callbackNode!==a)return null;var d=_r(r,r===Bt?Qt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=Fu(r,d);else{i=d;var f=Ke;Ke|=2;var m=Dg();(Bt!==r||Qt!==i)&&(Ns=null,oa=it()+500,co(r,i));do try{qE();break}catch(k){Ng(r,k)}while(!0);Dd(),Nu.current=m,Ke=f,Pt!==null?i=0:(Bt=null,Qt=0,i=Lt)}if(i!==0){if(i===2&&(f=Ki(r),f!==0&&(d=f,i=gh(r,f))),i===1)throw a=ul,co(r,0),mi(r,d),Cn(r,it()),a;if(i===6)mi(r,d);else{if(f=r.current.alternate,(d&30)===0&&!BE(f)&&(i=Fu(r,d),i===2&&(m=Ki(r),m!==0&&(d=m,i=gh(r,m))),i===1))throw a=ul,co(r,0),mi(r,d),Cn(r,it()),a;switch(r.finishedWork=f,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ho(r,Sn,Ns);break;case 3:if(mi(r,d),(d&130023424)===d&&(i=fh+500-it(),10<i)){if(_r(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=xd(ho.bind(null,r,Sn,Ns),i);break}ho(r,Sn,Ns);break;case 4:if(mi(r,d),(d&4194240)===d)break;for(i=r.eventTimes,f=-1;0<d;){var w=31-gn(d);m=1<<w,w=i[w],w>f&&(f=w),d&=~m}if(d=f,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*zE(d/1960))-d,10<d){r.timeoutHandle=xd(ho.bind(null,r,Sn,Ns),d);break}ho(r,Sn,Ns);break;case 5:ho(r,Sn,Ns);break;default:throw Error(t(329))}}}return Cn(r,it()),r.callbackNode===a?Rg.bind(null,r):null}function gh(r,i){var a=cl;return r.current.memoizedState.isDehydrated&&(co(r,i).flags|=256),r=Fu(r,i),r!==2&&(i=Sn,Sn=a,i!==null&&yh(i)),r}function yh(r){Sn===null?Sn=r:Sn.push.apply(Sn,r)}function BE(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],m=f.getSnapshot;f=f.value;try{if(!Ir(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(r,i){for(i&=~hh,i&=~Du,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-gn(i),d=1<<a;r[a]=-1,i&=~d}}function Pg(r){if((Ke&6)!==0)throw Error(t(327));aa();var i=_r(r,0);if((i&1)===0)return Cn(r,it()),null;var a=Fu(r,i);if(r.tag!==0&&a===2){var d=Ki(r);d!==0&&(i=d,a=gh(r,d))}if(a===1)throw a=ul,co(r,0),mi(r,i),Cn(r,it()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ho(r,Sn,Ns),Cn(r,it()),null}function vh(r,i){var a=Ke;Ke|=1;try{return r(i)}finally{Ke=a,Ke===0&&(oa=it()+500,hu&&li())}}function uo(r){fi!==null&&fi.tag===0&&(Ke&6)===0&&aa();var i=Ke;Ke|=1;var a=ir.transition,d=je;try{if(ir.transition=null,je=1,r)return r()}finally{je=d,ir.transition=a,Ke=i,(Ke&6)===0&&li()}}function _h(){qn=ia.current,ct(ia)}function co(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,vE(a)),Pt!==null)for(a=Pt.return;a!==null;){var d=a;switch(Cd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&cu();break;case 3:na(),ct(In),ct(sn),$d();break;case 5:zd(d);break;case 4:na();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:Od(d.type._context);break;case 22:case 23:_h()}a=a.return}if(Bt=r,Pt=r=gi(r.current,null),Qt=qn=i,Lt=0,ul=null,hh=Du=lo=0,Sn=cl=null,io!==null){for(i=0;i<io.length;i++)if(a=io[i],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,m=a.pending;if(m!==null){var w=m.next;m.next=f,d.next=w}a.pending=d}io=null}return r}function Ng(r,i){do{var a=Pt;try{if(Dd(),Tu.current=Su,Iu){for(var d=gt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Iu=!1}if(ao=0,zt=Vt=gt=null,rl=!1,sl=0,dh.current=null,a===null||a.return===null){Lt=1,ul=i,Pt=null;break}e:{var m=r,w=a.return,k=a,N=i;if(i=Qt,k.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,Z=k,ne=Z.tag;if((Z.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=rg(w);if(de!==null){de.flags&=-257,sg(de,w,k,m,i),de.mode&1&&ng(m,$,i),i=de,N=$;var pe=i.updateQueue;if(pe===null){var me=new Set;me.add(N),i.updateQueue=me}else pe.add(N);break e}else{if((i&1)===0){ng(m,$,i),wh();break e}N=Error(t(426))}}else if(ft&&k.mode&1){var It=rg(w);if(It!==null){(It.flags&65536)===0&&(It.flags|=256),sg(It,w,k,m,i),Pd(ra(N,k));break e}}m=N=ra(N,k),Lt!==4&&(Lt=2),cl===null?cl=[m]:cl.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=eg(m,N,i);Tm(m,M);break e;case 1:k=N;var V=m.type,B=m.stateNode;if((m.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(hi===null||!hi.has(B)))){m.flags|=65536,i&=-i,m.lanes|=i;var re=tg(m,k,i);Tm(m,re);break e}}m=m.return}while(m!==null)}Vg(a)}catch(ve){i=ve,Pt===a&&a!==null&&(Pt=a=a.return);continue}break}while(!0)}function Dg(){var r=Nu.current;return Nu.current=Su,r===null?Su:r}function wh(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Bt===null||(lo&268435455)===0&&(Du&268435455)===0||mi(Bt,Qt)}function Fu(r,i){var a=Ke;Ke|=2;var d=Dg();(Bt!==r||Qt!==i)&&(Ns=null,co(r,i));do try{$E();break}catch(f){Ng(r,f)}while(!0);if(Dd(),Ke=a,Nu.current=d,Pt!==null)throw Error(t(261));return Bt=null,Qt=0,Lt}function $E(){for(;Pt!==null;)Og(Pt)}function qE(){for(;Pt!==null&&!Ln();)Og(Pt)}function Og(r){var i=Mg(r.alternate,r,qn);r.memoizedProps=r.pendingProps,i===null?Vg(r):Pt=i,dh.current=null}function Vg(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=LE(a,i,qn),a!==null){Pt=a;return}}else{if(a=jE(a,i),a!==null){a.flags&=32767,Pt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,Pt=null;return}}if(i=i.sibling,i!==null){Pt=i;return}Pt=i=r}while(i!==null);Lt===0&&(Lt=5)}function ho(r,i,a){var d=je,f=ir.transition;try{ir.transition=null,je=1,HE(r,i,a,d)}finally{ir.transition=f,je=d}return null}function HE(r,i,a,d){do aa();while(fi!==null);if((Ke&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(Ma(r,m),r===Bt&&(Pt=Bt=null,Qt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Vu||(Vu=!0,Fg(ps,function(){return aa(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=ir.transition,ir.transition=null;var w=je;je=1;var k=Ke;Ke|=4,dh.current=null,FE(r,a),bg(a,r),dE(wd),xs=!!_d,wd=_d=null,r.current=a,UE(a),mn(),Ke=k,je=w,ir.transition=m}else r.current=a;if(Vu&&(Vu=!1,fi=r,Lu=f),m=r.pendingLanes,m===0&&(hi=null),Gi(a.stateNode),Cn(r,it()),i!==null)for(d=r.onRecoverableError,a=0;a<i.length;a++)f=i[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(Ou)throw Ou=!1,r=ph,ph=null,r;return(Lu&1)!==0&&r.tag!==0&&aa(),m=r.pendingLanes,(m&1)!==0?r===mh?dl++:(dl=0,mh=r):dl=0,li(),null}function aa(){if(fi!==null){var r=Mn(Lu),i=ir.transition,a=je;try{if(ir.transition=null,je=16>r?16:r,fi===null)var d=!1;else{if(r=fi,fi=null,Lu=0,(Ke&6)!==0)throw Error(t(331));var f=Ke;for(Ke|=4,fe=r.current;fe!==null;){var m=fe,w=m.child;if((fe.flags&16)!==0){var k=m.deletions;if(k!==null){for(var N=0;N<k.length;N++){var $=k[N];for(fe=$;fe!==null;){var Z=fe;switch(Z.tag){case 0:case 11:case 15:ll(8,Z,m)}var ne=Z.child;if(ne!==null)ne.return=Z,fe=ne;else for(;fe!==null;){Z=fe;var J=Z.sibling,de=Z.return;if(wg(Z),Z===$){fe=null;break}if(J!==null){J.return=de,fe=J;break}fe=de}}}var pe=m.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var It=me.sibling;me.sibling=null,me=It}while(me!==null)}}fe=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,fe=w;else e:for(;fe!==null;){if(m=fe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:ll(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,fe=M;break e}fe=m.return}}var V=r.current;for(fe=V;fe!==null;){w=fe;var B=w.child;if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,fe=B;else e:for(w=V;fe!==null;){if(k=fe,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Pu(9,k)}}catch(ve){wt(k,k.return,ve)}if(k===w){fe=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,fe=re;break e}fe=k.return}}if(Ke=f,li(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ms,r)}catch{}d=!0}return d}finally{je=a,ir.transition=i}}return!1}function Lg(r,i,a){i=ra(a,i),i=eg(r,i,1),r=ci(r,i,1),i=vn(),r!==null&&(_s(r,1,i),Cn(r,i))}function wt(r,i,a){if(r.tag===3)Lg(r,r,a);else for(;i!==null;){if(i.tag===3){Lg(i,r,a);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))){r=ra(a,r),r=tg(i,r,1),i=ci(i,r,1),r=vn(),i!==null&&(_s(i,1,r),Cn(i,r));break}}i=i.return}}function WE(r,i,a){var d=r.pingCache;d!==null&&d.delete(i),i=vn(),r.pingedLanes|=r.suspendedLanes&a,Bt===r&&(Qt&a)===a&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>it()-fh?co(r,0):hh|=a),Cn(r,i)}function jg(r,i){i===0&&((r.mode&1)===0?i=1:(i=vr,vr<<=1,(vr&130023424)===0&&(vr=4194304)));var a=vn();r=As(r,i),r!==null&&(_s(r,i,a),Cn(r,a))}function GE(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),jg(r,a)}function KE(r,i){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),jg(r,a)}var Mg;Mg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||In.current)kn=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return kn=!1,VE(r,i,a);kn=(r.flags&131072)!==0}else kn=!1,ft&&(i.flags&1048576)!==0&&gm(i,pu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Au(r,i),r=i.pendingProps;var f=Qo(i,sn.current);ea(i,a),f=Wd(null,i,d,r,f,a);var m=Gd();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(d)?(m=!0,du(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,jd(i),f.updater=wu,i.stateNode=f,f._reactInternals=i,Fd(i,d,r,a),i=th(null,i,d,!0,m,a)):(i.tag=0,ft&&m&&Sd(i),yn(null,i,f,a),i=i.child),i;case 16:d=i.elementType;e:{switch(Au(r,i),r=i.pendingProps,f=d._init,d=f(d._payload),i.type=d,f=i.tag=YE(d),r=kr(d,r),f){case 0:i=eh(null,i,d,r,a);break e;case 1:i=cg(null,i,d,r,a);break e;case 11:i=ig(null,i,d,r,a);break e;case 14:i=og(null,i,d,kr(d.type,r),a);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:kr(d,f),eh(r,i,d,f,a);case 1:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:kr(d,f),cg(r,i,d,f,a);case 3:e:{if(dg(i),r===null)throw Error(t(387));d=i.pendingProps,m=i.memoizedState,f=m.element,xm(r,i),_u(i,d,null,a);var w=i.memoizedState;if(d=w.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=ra(Error(t(423)),i),i=hg(r,i,d,a,f);break e}else if(d!==f){f=ra(Error(t(424)),i),i=hg(r,i,d,a,f);break e}else for($n=ii(i.stateNode.containerInfo.firstChild),Bn=i,ft=!0,br=null,a=Pm(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Jo(),d===f){i=Ps(r,i,a);break e}yn(r,i,d,a)}i=i.child}return i;case 5:return Nm(i),r===null&&Rd(i),d=i.type,f=i.pendingProps,m=r!==null?r.memoizedProps:null,w=f.children,Ed(d,f)?w=null:m!==null&&Ed(d,m)&&(i.flags|=32),ug(r,i),yn(r,i,w,a),i.child;case 6:return r===null&&Rd(i),null;case 13:return fg(r,i,a);case 4:return Ud(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=ta(i,null,d,a):yn(r,i,d,a),i.child;case 11:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:kr(d,f),ig(r,i,d,f,a);case 7:return yn(r,i,i.pendingProps,a),i.child;case 8:return yn(r,i,i.pendingProps.children,a),i.child;case 12:return yn(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(d=i.type._context,f=i.pendingProps,m=i.memoizedProps,w=f.value,lt(gu,d._currentValue),d._currentValue=w,m!==null)if(Ir(m.value,w)){if(m.children===f.children&&!In.current){i=Ps(r,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var k=m.dependencies;if(k!==null){w=m.child;for(var N=k.firstContext;N!==null;){if(N.context===d){if(m.tag===1){N=Rs(-1,a&-a),N.tag=2;var $=m.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),$.pending=N}}m.lanes|=a,N=m.alternate,N!==null&&(N.lanes|=a),Vd(m.return,a,i),k.lanes|=a;break}N=N.next}}else if(m.tag===10)w=m.type===i.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,k=w.alternate,k!==null&&(k.lanes|=a),Vd(w,a,i),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}yn(r,i,f.children,a),i=i.child}return i;case 9:return f=i.type,d=i.pendingProps.children,ea(i,a),f=rr(f),d=d(f),i.flags|=1,yn(r,i,d,a),i.child;case 14:return d=i.type,f=kr(d,i.pendingProps),f=kr(d.type,f),og(r,i,d,f,a);case 15:return ag(r,i,i.type,i.pendingProps,a);case 17:return d=i.type,f=i.pendingProps,f=i.elementType===d?f:kr(d,f),Au(r,i),i.tag=1,bn(d)?(r=!0,du(i)):r=!1,ea(i,a),Sm(i,d,f),Fd(i,d,f,a),th(null,i,d,!0,r,a);case 19:return mg(r,i,a);case 22:return lg(r,i,a)}throw Error(t(156,i.tag))};function Fg(r,i){return Xs(r,i)}function QE(r,i,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,i,a,d){return new QE(r,i,a,d)}function Eh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function YE(r){if(typeof r=="function")return Eh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===pt)return 14}return 2}function gi(r,i){var a=r.alternate;return a===null?(a=or(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Uu(r,i,a,d,f,m){var w=2;if(d=r,typeof r=="function")Eh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case R:return fo(a.children,f,m,i);case b:w=8,f|=8;break;case A:return r=or(12,a,i,f|2),r.elementType=A,r.lanes=m,r;case C:return r=or(13,a,i,f),r.elementType=C,r.lanes=m,r;case Ye:return r=or(19,a,i,f),r.elementType=Ye,r.lanes=m,r;case Xe:return zu(a,f,m,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:w=10;break e;case D:w=9;break e;case L:w=11;break e;case pt:w=14;break e;case Et:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=or(w,a,i,f),i.elementType=r,i.type=d,i.lanes=m,i}function fo(r,i,a,d){return r=or(7,r,d,i),r.lanes=a,r}function zu(r,i,a,d){return r=or(22,r,d,i),r.elementType=Xe,r.lanes=a,r.stateNode={isHidden:!1},r}function xh(r,i,a){return r=or(6,r,null,i),r.lanes=a,r}function Th(r,i,a){return i=or(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function XE(r,i,a,d,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ih(r,i,a,d,f,m,w,k,N){return r=new XE(r,i,a,k,N),i===1?(i=1,m===!0&&(i|=8)):i=0,m=or(3,null,null,i),r.current=m,m.stateNode=r,m.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(m),r}function JE(r,i,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:d==null?null:""+d,children:r,containerInfo:i,implementation:a}}function Ug(r){if(!r)return ai;r=r._reactInternals;e:{if(pn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(bn(a))return fm(r,a,i)}return i}function zg(r,i,a,d,f,m,w,k,N){return r=Ih(a,d,!0,r,f,m,w,k,N),r.context=Ug(null),a=r.current,d=vn(),f=pi(a),m=Rs(d,f),m.callback=i??null,ci(a,m,f),r.current.lanes=f,_s(r,f,d),Cn(r,d),r}function Bu(r,i,a,d){var f=i.current,m=vn(),w=pi(f);return a=Ug(a),i.context===null?i.context=a:i.pendingContext=a,i=Rs(m,w),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ci(f,i,w),r!==null&&(Ar(r,f,w,m),vu(r,f,w)),w}function $u(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Bg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function bh(r,i){Bg(r,i),(r=r.alternate)&&Bg(r,i)}function ZE(){return null}var $g=typeof reportError=="function"?reportError:function(r){console.error(r)};function kh(r){this._internalRoot=r}qu.prototype.render=kh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Bu(r,i,null,null)},qu.prototype.unmount=kh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;uo(function(){Bu(null,r,null,null)}),i[bs]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Yi();r={blockedOn:null,target:r,priority:i};for(var a=0;a<be.length&&i!==0&&i<be[a].priority;a++);be.splice(a,0,r),a===0&&xr(r)}};function Sh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Hu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function qg(){}function ex(r,i,a,d,f){if(f){if(typeof d=="function"){var m=d;d=function(){var $=$u(w);m.call($)}}var w=zg(i,d,r,0,null,!1,!1,"",qg);return r._reactRootContainer=w,r[bs]=w.current,Qa(r.nodeType===8?r.parentNode:r),uo(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var k=d;d=function(){var $=$u(N);k.call($)}}var N=Ih(r,0,!1,null,null,!1,!1,"",qg);return r._reactRootContainer=N,r[bs]=N.current,Qa(r.nodeType===8?r.parentNode:r),uo(function(){Bu(i,N,a,d)}),N}function Wu(r,i,a,d,f){var m=a._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var k=f;f=function(){var N=$u(w);k.call(N)}}Bu(i,w,r,f)}else w=ex(a,i,r,f,d);return $u(w)}nn=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ge(i.pendingLanes);a!==0&&(ws(i,a|1),Cn(i,it()),(Ke&6)===0&&(oa=it()+500,li()))}break;case 13:uo(function(){var d=As(r,1);if(d!==null){var f=vn();Ar(d,r,1,f)}}),bh(r,1)}},Br=function(r){if(r.tag===13){var i=As(r,134217728);if(i!==null){var a=vn();Ar(i,r,134217728,a)}bh(r,134217728)}},Qi=function(r){if(r.tag===13){var i=pi(r),a=As(r,i);if(a!==null){var d=vn();Ar(a,r,i,d)}bh(r,i)}},Yi=function(){return je},Xi=function(r,i){var a=je;try{return je=r,i()}finally{je=a}},Qn=function(r,i,a){switch(i){case"input":if(hr(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var d=a[i];if(d!==r&&d.form===r.form){var f=uu(d);if(!f)throw Error(t(90));dr(d),hr(d,f)}}}break;case"textarea":fr(r,a);break;case"select":i=a.value,i!=null&&wn(r,!!a.multiple,i,!1)}},Gs=vh,Bi=uo;var tx={usingClientEntryPoint:!1,Events:[Ja,Go,uu,Mr,Yn,vh]},hl={findFiberByHostInstance:to,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nx={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ys(r),r===null?null:r.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||ZE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{ms=Gu.inject(nx),At=Gu}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,An.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(i))throw Error(t(200));return JE(r,i,null,a)},An.createRoot=function(r,i){if(!Sh(r))throw Error(t(299));var a=!1,d="",f=$g;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Ih(r,1,!1,null,null,a,!1,d,f),r[bs]=i.current,Qa(r.nodeType===8?r.parentNode:r),new kh(i)},An.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ys(i),r=r===null?null:r.stateNode,r},An.flushSync=function(r){return uo(r)},An.hydrate=function(r,i,a){if(!Hu(i))throw Error(t(200));return Wu(null,r,i,!0,a)},An.hydrateRoot=function(r,i,a){if(!Sh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,m="",w=$g;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=zg(i,null,r,1,a??null,f,!1,m,w),r[bs]=i.current,Qa(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new qu(i)},An.render=function(r,i,a){if(!Hu(i))throw Error(t(200));return Wu(null,r,i,!1,a)},An.unmountComponentAtNode=function(r){if(!Hu(r))throw Error(t(40));return r._reactRootContainer?(uo(function(){Wu(null,null,r,!1,function(){r._reactRootContainer=null,r[bs]=null})}),!0):!1},An.unstable_batchedUpdates=vh,An.unstable_renderSubtreeIntoContainer=function(r,i,a,d){if(!Hu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Wu(r,i,a,!1,d)},An.version="18.2.0-next-9e3b772b8-20220608",An}var Jg;function Jv(){if(Jg)return Rh.exports;Jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rh.exports=dx(),Rh.exports}var Zg;function hx(){if(Zg)return Ku;Zg=1;var n=Jv();return Ku.createRoot=n.createRoot,Ku.hydrateRoot=n.hydrateRoot,Ku}var fx=hx();const px=Xv(fx);Jv();function Cl(){return Cl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Cl.apply(this,arguments)}var xi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(xi||(xi={}));const ey="popstate";function mx(n){n===void 0&&(n={});function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=ko(o.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Xh("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,v=p.indexOf("#");h=v===-1?p:p.slice(0,v)}return h+"#"+(typeof l=="string"?l:mc(l))}function s(o,l){Nf(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return yx(e,t,s,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gx(){return Math.random().toString(36).substr(2,8)}function ty(n,e){return{usr:n.state,key:n.key,idx:e}}function Xh(n,e,t,s){return t===void 0&&(t=null),Cl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:t,key:e&&e.key||s||gx()})}function mc(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function yx(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,h=xi.Pop,p=null,v=E();v==null&&(v=0,c.replaceState(Cl({},c.state,{idx:v}),""));function E(){return(c.state||{idx:null}).idx}function T(){h=xi.Pop;let U=E(),ae=U==null?null:U-v;v=U,p&&p({action:h,location:H.location,delta:ae})}function I(U,ae){h=xi.Push;let te=Xh(H.location,U,ae);t&&t(te,U),v=E()+1;let ie=ty(te,v),we=H.createHref(te);try{c.pushState(ie,"",we)}catch(Oe){if(Oe instanceof DOMException&&Oe.name==="DataCloneError")throw Oe;o.location.assign(we)}l&&p&&p({action:h,location:H.location,delta:1})}function F(U,ae){h=xi.Replace;let te=Xh(H.location,U,ae);t&&t(te,U),v=E();let ie=ty(te,v),we=H.createHref(te);c.replaceState(ie,"",we),l&&p&&p({action:h,location:H.location,delta:0})}function G(U){let ae=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof U=="string"?U:mc(U);return te=te.replace(/ $/,"%20"),St(ae,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,ae)}let H={get action(){return h},get location(){return n(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ey,T),p=U,()=>{o.removeEventListener(ey,T),p=null}},createHref(U){return e(o,U)},createURL:G,encodeLocation(U){let ae=G(U);return{pathname:ae.pathname,search:ae.search,hash:ae.hash}},push:I,replace:F,go(U){return c.go(U)}};return H}var ny;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ny||(ny={}));function vx(n,e,t){t===void 0&&(t="/");let s=typeof e=="string"?ko(e):e,o=Df(s.pathname||"/",t);if(o==null)return null;let l=Zv(n);_x(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=Px(o);c=Cx(l[h],p)}return c}function Zv(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(St(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let v=bi([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(St(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Zv(l.children,e,E,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:kx(v,l.index),routesMeta:E})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of e_(l.path))o(l,c,p)}),e}function e_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=e_(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function _x(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Sx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const wx=/^:[\w-]+$/,Ex=3,xx=2,Tx=1,Ix=10,bx=-2,ry=n=>n==="*";function kx(n,e){let t=n.split("/"),s=t.length;return t.some(ry)&&(s+=bx),e&&(s+=xx),t.filter(o=>!ry(o)).reduce((o,l)=>o+(wx.test(l)?Ex:l===""?Tx:Ix),s)}function Sx(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function Cx(n,e){let{routesMeta:t}=n,s={},o="/",l=[];for(let c=0;c<t.length;++c){let h=t[c],p=c===t.length-1,v=o==="/"?e:e.slice(o.length)||"/",E=Ax({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v);if(!E)return null;Object.assign(s,E.params);let T=h.route;l.push({params:s,pathname:bi([o,E.pathname]),pathnameBase:Vx(bi([o,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(o=bi([o,E.pathnameBase]))}return l}function Ax(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Rx(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((v,E,T)=>{let{paramName:I,isOptional:F}=E;if(I==="*"){let H=h[T]||"";c=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const G=h[T];return F&&!G?v[I]=void 0:v[I]=(G||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function Rx(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Nf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Px(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Df(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Nx(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?ko(n):n;return{pathname:t?t.startsWith("/")?t:Dx(t,e):e,search:Lx(s),hash:jx(o)}}function Dx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dh(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ox(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Of(n,e){let t=Ox(n);return e?t.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Vf(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=ko(n):(o=Cl({},n),St(!o.pathname||!o.pathname.includes("?"),Dh("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),Dh("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),Dh("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}h=T>=0?e[T]:"/"}let p=Nx(o,h),v=c&&c!=="/"&&c.endsWith("/"),E=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||E)&&(p.pathname+="/"),p}const bi=n=>n.join("/").replace(/\/\/+/g,"/"),Vx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Lx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Mx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const t_=["post","put","patch","delete"];new Set(t_);const Fx=["get",...t_];new Set(Fx);function Al(){return Al=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},Al.apply(this,arguments)}const Lf=j.createContext(null),Ux=j.createContext(null),ji=j.createContext(null),Uc=j.createContext(null),$s=j.createContext({outlet:null,matches:[],isDataRoute:!1}),n_=j.createContext(null);function zx(n,e){let{relative:t}=e===void 0?{}:e;Ca()||St(!1);let{basename:s,navigator:o}=j.useContext(ji),{hash:l,pathname:c,search:h}=s_(n,{relative:t}),p=c;return s!=="/"&&(p=c==="/"?s:bi([s,c])),o.createHref({pathname:p,search:h,hash:l})}function Ca(){return j.useContext(Uc)!=null}function Aa(){return Ca()||St(!1),j.useContext(Uc).location}function r_(n){j.useContext(ji).static||j.useLayoutEffect(n)}function Mi(){let{isDataRoute:n}=j.useContext($s);return n?tT():Bx()}function Bx(){Ca()||St(!1);let n=j.useContext(Lf),{basename:e,future:t,navigator:s}=j.useContext(ji),{matches:o}=j.useContext($s),{pathname:l}=Aa(),c=JSON.stringify(Of(o,t.v7_relativeSplatPath)),h=j.useRef(!1);return r_(()=>{h.current=!0}),j.useCallback(function(v,E){if(E===void 0&&(E={}),!h.current)return;if(typeof v=="number"){s.go(v);return}let T=Vf(v,JSON.parse(c),l,E.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:bi([e,T.pathname])),(E.replace?s.replace:s.push)(T,E.state,E)},[e,s,c,l,n])}function $x(){let{matches:n}=j.useContext($s),e=n[n.length-1];return e?e.params:{}}function s_(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=j.useContext(ji),{matches:o}=j.useContext($s),{pathname:l}=Aa(),c=JSON.stringify(Of(o,s.v7_relativeSplatPath));return j.useMemo(()=>Vf(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function qx(n,e){return Hx(n,e)}function Hx(n,e,t,s){Ca()||St(!1);let{navigator:o}=j.useContext(ji),{matches:l}=j.useContext($s),c=l[l.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let v=Aa(),E;if(e){var T;let U=typeof e=="string"?ko(e):e;p==="/"||(T=U.pathname)!=null&&T.startsWith(p)||St(!1),E=U}else E=v;let I=E.pathname||"/",F=I;if(p!=="/"){let U=p.replace(/^\//,"").split("/");F="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let G=vx(n,{pathname:F}),H=Yx(G&&G.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:bi([p,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:bi([p,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,s);return e&&H?j.createElement(Uc.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:xi.Pop}},H):H}function Wx(){let n=eT(),e=Mx(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,null)}const Gx=j.createElement(Wx,null);class Kx extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement($s.Provider,{value:this.props.routeContext},j.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qx(n){let{routeContext:e,match:t,children:s}=n,o=j.useContext(Lf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement($s.Provider,{value:e},s)}function Yx(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var l;if((l=t)!=null&&l.errors)n=t.matches;else return null}let c=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let E=c.findIndex(T=>T.route.id&&h?.[T.route.id]);E>=0||St(!1),c=c.slice(0,Math.min(c.length,E+1))}let p=!1,v=-1;if(t&&s&&s.v7_partialHydration)for(let E=0;E<c.length;E++){let T=c[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=E),T.route.id){let{loaderData:I,errors:F}=t,G=T.route.loader&&I[T.route.id]===void 0&&(!F||F[T.route.id]===void 0);if(T.route.lazy||G){p=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((E,T,I)=>{let F,G=!1,H=null,U=null;t&&(F=h&&T.route.id?h[T.route.id]:void 0,H=T.route.errorElement||Gx,p&&(v<0&&I===0?(nT("route-fallback"),G=!0,U=null):v===I&&(G=!0,U=T.route.hydrateFallbackElement||null)));let ae=e.concat(c.slice(0,I+1)),te=()=>{let ie;return F?ie=H:G?ie=U:T.route.Component?ie=j.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,j.createElement(Qx,{match:T,routeContext:{outlet:E,matches:ae,isDataRoute:t!=null},children:ie})};return t&&(T.route.ErrorBoundary||T.route.errorElement||I===0)?j.createElement(Kx,{location:t.location,revalidation:t.revalidation,component:H,error:F,children:te(),routeContext:{outlet:null,matches:ae,isDataRoute:!0}}):te()},null)}var i_=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(i_||{}),o_=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(o_||{});function Xx(n){let e=j.useContext(Lf);return e||St(!1),e}function Jx(n){let e=j.useContext(Ux);return e||St(!1),e}function Zx(n){let e=j.useContext($s);return e||St(!1),e}function a_(n){let e=Zx(),t=e.matches[e.matches.length-1];return t.route.id||St(!1),t.route.id}function eT(){var n;let e=j.useContext(n_),t=Jx(),s=a_();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function tT(){let{router:n}=Xx(i_.UseNavigateStable),e=a_(o_.UseNavigateStable),t=j.useRef(!1);return r_(()=>{t.current=!0}),j.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Al({fromRouteId:e},l)))},[n,e])}const sy={};function nT(n,e,t){sy[n]||(sy[n]=!0)}function Jh(n){let{to:e,replace:t,state:s,relative:o}=n;Ca()||St(!1);let{future:l,static:c}=j.useContext(ji),{matches:h}=j.useContext($s),{pathname:p}=Aa(),v=Mi(),E=Vf(e,Of(h,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(E);return j.useEffect(()=>v(JSON.parse(T),{replace:t,state:s,relative:o}),[v,T,o,t,s]),null}function Ds(n){St(!1)}function rT(n){let{basename:e="/",children:t=null,location:s,navigationType:o=xi.Pop,navigator:l,static:c=!1,future:h}=n;Ca()&&St(!1);let p=e.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:p,navigator:l,static:c,future:Al({v7_relativeSplatPath:!1},h)}),[p,h,l,c]);typeof s=="string"&&(s=ko(s));let{pathname:E="/",search:T="",hash:I="",state:F=null,key:G="default"}=s,H=j.useMemo(()=>{let U=Df(E,p);return U==null?null:{location:{pathname:U,search:T,hash:I,state:F,key:G},navigationType:o}},[p,E,T,I,F,G,o]);return H==null?null:j.createElement(ji.Provider,{value:v},j.createElement(Uc.Provider,{children:t,value:H}))}function sT(n){let{children:e,location:t}=n;return qx(Zh(e),t)}new Promise(()=>{});function Zh(n,e){e===void 0&&(e=[]);let t=[];return j.Children.forEach(n,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,Zh(s.props.children,l));return}s.type!==Ds&&St(!1),!s.props.index||!s.props.children||St(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Zh(s.props.children,l)),t.push(c)}),t}function ef(){return ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ef.apply(this,arguments)}function iT(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function oT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function aT(n,e){return n.button===0&&(!e||e==="_self")&&!oT(n)}function tf(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function lT(n,e){let t=tf(n);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}const uT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],cT="6";try{window.__reactRouterVersion=cT}catch{}const dT="startTransition",iy=lx[dT];function hT(n){let{basename:e,children:t,future:s,window:o}=n,l=j.useRef();l.current==null&&(l.current=mx({window:o,v5Compat:!0}));let c=l.current,[h,p]=j.useState({action:c.action,location:c.location}),{v7_startTransition:v}=s||{},E=j.useCallback(T=>{v&&iy?iy(()=>p(T)):p(T)},[p,v]);return j.useLayoutEffect(()=>c.listen(E),[c,E]),j.createElement(rT,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:c,future:s})}const fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wa=j.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:h,target:p,to:v,preventScrollReset:E,unstable_viewTransition:T}=e,I=iT(e,uT),{basename:F}=j.useContext(ji),G,H=!1;if(typeof v=="string"&&pT.test(v)&&(G=v,fT))try{let ie=new URL(window.location.href),we=v.startsWith("//")?new URL(ie.protocol+v):new URL(v),Oe=Df(we.pathname,F);we.origin===ie.origin&&Oe!=null?v=Oe+we.search+we.hash:H=!0}catch{}let U=zx(v,{relative:o}),ae=mT(v,{replace:c,state:h,target:p,preventScrollReset:E,relative:o,unstable_viewTransition:T});function te(ie){s&&s(ie),ie.defaultPrevented||ae(ie)}return j.createElement("a",ef({},I,{href:G||U,onClick:H||l?s:te,ref:t,target:p}))});var oy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var ay;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ay||(ay={}));function mT(n,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:h}=e===void 0?{}:e,p=Mi(),v=Aa(),E=s_(n,{relative:c});return j.useCallback(T=>{if(aT(T,t)){T.preventDefault();let I=s!==void 0?s:mc(v)===mc(E);p(n,{replace:I,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:h})}},[v,p,E,s,o,t,n,l,c,h])}function jf(n){let e=j.useRef(tf(n)),t=j.useRef(!1),s=Aa(),o=j.useMemo(()=>lT(s.search,t.current?null:e.current),[s.search]),l=Mi(),c=j.useCallback((h,p)=>{const v=tf(typeof h=="function"?h(o):h);t.current=!0,l("?"+v,p)},[l,o]);return[o,c]}const gT="modulepreload",yT=function(n,e){return new URL(n,e).href},ly={},nf=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let v=function(E){return Promise.all(E.map(T=>Promise.resolve(T).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");o=v(t.map(E=>{if(E=yT(E,s),E in ly)return;ly[E]=!0;const T=E.endsWith(".css"),I=T?'[rel="stylesheet"]':"";if(s)for(let G=c.length-1;G>=0;G--){const H=c[G];if(H.href===E&&(!T||H.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${E}"]${I}`))return;const F=document.createElement("link");if(F.rel=T?"stylesheet":gT,T||(F.as="script"),F.crossOrigin="",F.href=E,p&&F.setAttribute("nonce",p),document.head.appendChild(F),T)return new Promise((G,H)=>{F.addEventListener("load",G),F.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${E}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};let ml=null,rf=null;const Qu=new Map,pl=new Map,uy=6e4,vT=n=>{if(typeof atob=="function")try{return decodeURIComponent(escape(atob(n)))}catch{return atob(n)}return Buffer.from(n,"base64").toString("utf-8")},_T=n=>{if(typeof btoa=="function")try{return btoa(unescape(encodeURIComponent(n)))}catch{return btoa(n)}return Buffer.from(n,"utf-8").toString("base64")},bt=async n=>{if(n){const{Octokit:t}=await nf(async()=>{const{Octokit:s}=await import("./index-B1oidxwt.js");return{Octokit:s}},[],import.meta.url);return new t({auth:n})}if(ml)return ml;if(!rf)throw new Error("GitHub service not initialized. Please configure your token.");const{Octokit:e}=await nf(async()=>{const{Octokit:t}=await import("./index-B1oidxwt.js");return{Octokit:t}},[],import.meta.url);return ml=new e({auth:rf}),ml},cy=n=>{const e=n.map(t=>(t.name||"").toLowerCase());return e.some(t=>t==="critical"||t.includes("p0")||t.includes("sev: critical")||t.includes("severity: critical"))?"critical":e.some(t=>t==="high"||t.includes("p1")||t.includes("priority: high")||t.includes("severity: high"))?"high":e.some(t=>t==="medium"||t.includes("p2")||t.includes("priority: medium")||t.includes("severity: medium"))?"medium":e.some(t=>t==="low"||t.includes("p3")||t.includes("priority: low")||t.includes("severity: low")||t.includes("minor"))?"low":"medium"},Oh=async(n,e,t,s)=>{const o=await bt(),l=`${n}/${e}/${t}`;if(s){const p=Qu.get(l);if(p&&p.timestamp===s)return p.data}const h=(await o.paginate(o.issues.listComments,{owner:n,repo:e,issue_number:t,per_page:100})).map(p=>({id:String(p.id),text:p.body||"",buildNumber:void 0}));return s&&(Qu.size>500&&Qu.clear(),Qu.set(l,{timestamp:s,data:h})),h},Me={initialize:n=>{rf=n,ml=null,pl.clear()},getOwnerType:async n=>{const e=await bt();try{const{data:t}=await e.users.getByUsername({username:n});return t.type==="Organization"?"Organization":"User"}catch(t){return console.error("Failed to fetch owner type",t),null}},getIssueComments:Oh,getIssues:async(n,e,t="open",s=!1)=>{const o=await bt();try{const c=(await o.paginate(o.issues.listForRepo,{owner:n,repo:e,state:t,sort:"updated",direction:"desc",per_page:100})).filter(h=>!h.pull_request).map(h=>({id:h.id,number:h.number,title:h.title,description:h.body||"",state:h.state,priority:cy(h.labels),labels:h.labels.map(p=>p.name),type:h.labels.find(p=>p.name==="bug"||p.name==="feature"||p.name==="ui")?.name||"bug",createdAt:h.created_at,updatedAt:h.updated_at,commentsCount:h.comments,reporter:{name:h.user.login,avatar:h.user.avatar_url},comments:[]}));return s&&await Promise.all(c.map(async h=>{h.commentsCount>0&&(h.comments=await Oh(n,e,h.number,h.updatedAt))})),c}catch(l){return console.error("Failed to fetch issues",l),[]}},getPullRequests:async(n,e,t)=>{const s=await bt(t);try{return(await s.paginate(s.pulls.list,{owner:n,repo:e,state:"open",sort:"updated",direction:"desc",per_page:100})).map(l=>({id:l.id,number:l.number,title:l.title,branch:l.head.ref,targetBranch:l.base.ref,author:{name:l.user.login,avatar:l.user.avatar_url},hasConflicts:!1,isDraft:l.draft,status:l.draft?"draft":"open",filesChanged:0}))}catch(o){return console.error("Failed to fetch PRs",o),[]}},getIssue:async(n,e,t)=>{const s=await bt(),{data:o}=await s.issues.get({owner:n,repo:e,issue_number:t}),l={id:o.id,number:o.number,title:o.title,description:o.body||"",state:o.state,priority:cy(o.labels),labels:(o.labels||[]).map(c=>c.name),type:(o.labels||[]).find(c=>c.name==="bug"||c.name==="feature"||c.name==="ui")?.name||"bug",createdAt:o.created_at,updatedAt:o.updated_at,commentsCount:o.comments,reporter:{name:o.user?.login||"",avatar:o.user?.avatar_url||""},comments:[]};return o.comments>0&&(l.comments=await Oh(n,e,l.number,o.updated_at)),l},getPullRequest:async(n,e,t)=>{const s=await bt(),{data:o}=await s.pulls.get({owner:n,repo:e,pull_number:t});return o},getPullRequestFiles:async(n,e,t)=>{const s=await bt();return(await s.paginate(s.pulls.listFiles,{owner:n,repo:e,pull_number:t,per_page:100})).map(l=>({filename:l.filename,status:l.status,additions:l.additions,deletions:l.deletions,changes:l.changes,patch:l.patch}))},getFileContent:async(n,e,t,s)=>{const o=await bt(),{data:l}=await o.repos.getContent({owner:n,repo:e,path:t,ref:s});if(Array.isArray(l)||l.type!=="file")throw new Error("Unsupported content type for file resolution.");const c=l;return{content:vT(c.content||""),sha:c.sha,path:c.path,encoding:c.encoding}},updateFileContent:async(n,e,t,s,o,l,c)=>(await(await bt()).repos.createOrUpdateFileContents({owner:n,repo:e,path:t,branch:s,sha:l,message:c,content:_T(o)}),!0),createIssue:async(n,e,t,s)=>(await(await bt()).issues.create({owner:t,repo:s,title:e.title||"",body:e.description,labels:e.labels})).data,addComment:async(n,e,t,s)=>(await(await bt()).issues.createComment({owner:n,repo:e,issue_number:t,body:s}),!0),updateIssueStatus:async(n,e,t,s)=>(await(await bt()).issues.update({owner:n,repo:e,issue_number:t,state:s}),!0),mergePR:async(n,e,t)=>(await(await bt()).pulls.merge({owner:n,repo:e,pull_number:t}),!0),denyPR:async(n,e,t)=>(await(await bt()).pulls.update({owner:n,repo:e,pull_number:t,state:"closed"}),!0),updatePR:async(n,e,t,s)=>{const o=await bt(),{isDraft:l,...c}=s;if(l!==void 0){const{data:h}=await o.pulls.get({owner:n,repo:e,pull_number:t}),p=l?"mutation($id: ID!) { convertPullRequestToDraft(input: {pullRequestId: $id}) { clientMutationId } }":"mutation($id: ID!) { markPullRequestReadyForReview(input: {pullRequestId: $id}) { clientMutationId } }";await o.request("POST /graphql",{query:p,variables:{id:h.node_id}})}return Object.keys(c).length>0&&await o.pulls.update({owner:n,repo:e,pull_number:t,...c}),!0},markReadyForReview:async(n,e,t)=>{const s=await bt(),{data:o}=await s.pulls.get({owner:n,repo:e,pull_number:t});return o.draft&&await s.request("POST /graphql",{query:"mutation($id: ID!) { markPullRequestReadyForReview(input: {pullRequestId: $id}) { clientMutationId } }",variables:{id:o.node_id}}),!0},addReviewer:async(n,e,t,s)=>(await(await bt()).pulls.requestReviewers({owner:n,repo:e,pull_number:t,reviewers:[s]}),!0),approvePR:async(n,e,t)=>(await(await bt()).pulls.createReview({owner:n,repo:e,pull_number:t,event:"APPROVE"}),!0),updateBranch:async(n,e,t)=>{const s=await bt();try{return await s.pulls.updateBranch({owner:n,repo:e,pull_number:t}),!0}catch(o){return console.error("Auto-resolve (update branch) failed",o),!1}},getOpenIssueCount:async(n,e,t)=>{const s=`issue-${n}-${e}`,o=pl.get(s);if(o&&Date.now()-o.timestamp<uy)return o.count;const c=await(await bt(t)).search.issuesAndPullRequests({q:`repo:${n}/${e} is:issue is:open`});return pl.set(s,{timestamp:Date.now(),count:c.data.total_count}),c.data.total_count},getOpenPullRequestCount:async(n,e,t)=>{const s=`pr-${n}-${e}`,o=pl.get(s);if(o&&Date.now()-o.timestamp<uy)return o.count;const c=await(await bt(t)).search.issuesAndPullRequests({q:`repo:${n}/${e} is:pr is:open`});return pl.set(s,{timestamp:Date.now(),count:c.data.total_count}),c.data.total_count}},wT=()=>{};var dy={};const l_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ET=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,E=l>>2,T=(l&3)<<4|h>>4;let I=(h&15)<<2|v>>6,F=v&63;p||(F=64,c||(I=64)),s.push(t[E],t[T],t[I],t[F])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ET(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||v==null||T==null)throw new xT;const I=l<<2|h>>4;if(s.push(I),v!==64){const F=h<<4&240|v>>2;if(s.push(F),T!==64){const G=v<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(n){const e=l_(n);return u_.encodeByteArray(e,!0)},gc=function(n){return TT(n).replace(/\./g,"")},c_=function(n){try{return u_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function IT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bT=()=>IT().__FIREBASE_DEFAULTS__,kT=()=>{if(typeof process>"u"||typeof dy>"u")return;const n=dy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ST=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c_(n[1]);return e&&JSON.parse(e)},zc=()=>{try{return wT()||bT()||kT()||ST()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d_=n=>zc()?.emulatorHosts?.[n],CT=n=>{const e=d_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},h_=()=>zc()?.config,f_=n=>zc()?.[`_${n}`];class AT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Ra(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p_(n){return(await fetch(n,{credentials:"include"})).ok}function RT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gc(JSON.stringify(t)),gc(JSON.stringify(c)),""].join(".")}const xl={};function PT(){const n={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?n.emulator.push(e):n.prod.push(e);return n}function NT(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let hy=!1;function m_(n,e){if(typeof window>"u"||typeof document>"u"||!Ra(window.location.host)||xl[n]===e||xl[n]||hy)return;xl[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=PT().prod.length>0;function c(){const I=document.getElementById(s);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,F){I.setAttribute("width","24"),I.setAttribute("id",F),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{hy=!0,c()},I}function E(I,F){I.setAttribute("id",F),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=NT(s),F=t("text"),G=document.getElementById(F)||document.createElement("span"),H=t("learnmore"),U=document.getElementById(H)||document.createElement("a"),ae=t("preprendIcon"),te=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ie=I.element;h(ie),E(U,H);const we=v();p(te,ae),ie.append(te,G,U,we),document.body.appendChild(ie)}l?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function OT(){const n=zc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mf(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jT(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MT(){return!OT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ff(){try{return typeof indexedDB=="object"}catch{return!1}}function Uf(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function g_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const FT="FirebaseError";class Or extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=FT,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?UT(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Or(o,h,s)}}function UT(n,e){return n.replace(zT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zT=/\{\$([^}]+)}/g;function BT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(fy(l)&&fy(c)){if(!Ri(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}function Ul(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function yl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $T(n,e){const t=new qT(n,e);return t.subscribe.bind(t)}class qT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");HT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Vh),o.error===void 0&&(o.error=Vh),o.complete===void 0&&(o.complete=Vh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vh(){}const WT=1e3,GT=2,KT=14400*1e3,QT=.5;function py(n,e=WT,t=GT){const s=e*Math.pow(t,n),o=Math.round(QT*s*(Math.random()-.5)*2);return Math.min(KT,s+o)}function Jt(n){return n&&n._delegate?n._delegate:n}class Dr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const po="[DEFAULT]";class YT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new AT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JT(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(n){return n===po?void 0:n}function JT(n){return n.instantiationMode==="EAGER"}class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const eI={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},tI=ze.INFO,nI={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},rI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=nI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bc{constructor(e){this.name=e,this._logLevel=tI,this._logHandler=rI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const sI=(n,e)=>e.some(t=>n instanceof t);let my,gy;function iI(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oI(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,sf=new WeakMap,v_=new WeakMap,Lh=new WeakMap,zf=new WeakMap;function aI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ki(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&y_.set(t,n)}).catch(()=>{}),zf.set(e,n),e}function lI(n){if(sf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});sf.set(n,e)}let of={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uI(n){of=n(of)}function cI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(jh(this),e,...t);return v_.set(s,e.sort?e.sort():[e]),ki(s)}:oI().includes(n)?function(...e){return n.apply(jh(this),e),ki(y_.get(this))}:function(...e){return ki(n.apply(jh(this),e))}}function dI(n){return typeof n=="function"?cI(n):(n instanceof IDBTransaction&&lI(n),sI(n,iI())?new Proxy(n,of):n)}function ki(n){if(n instanceof IDBRequest)return aI(n);if(Lh.has(n))return Lh.get(n);const e=dI(n);return e!==n&&(Lh.set(n,e),zf.set(e,n)),e}const jh=n=>zf.get(n);function __(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),h=ki(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ki(c.result),p.oldVersion,p.newVersion,ki(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const hI=["get","getKey","getAll","getAllKeys","count"],fI=["put","add","delete","clear"],Mh=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=fI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hI.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),o&&p.done]))[0]};return Mh.set(e,l),l}uI(n=>({...n,get:(e,t,s)=>yy(e,t)||n.get(e,t,s),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));class pI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function mI(n){return n.getComponent()?.type==="VERSION"}const af="@firebase/app",vy="0.14.6";const Fs=new Bc("@firebase/app"),gI="@firebase/app-compat",yI="@firebase/analytics-compat",vI="@firebase/analytics",_I="@firebase/app-check-compat",wI="@firebase/app-check",EI="@firebase/auth",xI="@firebase/auth-compat",TI="@firebase/database",II="@firebase/data-connect",bI="@firebase/database-compat",kI="@firebase/functions",SI="@firebase/functions-compat",CI="@firebase/installations",AI="@firebase/installations-compat",RI="@firebase/messaging",PI="@firebase/messaging-compat",NI="@firebase/performance",DI="@firebase/performance-compat",OI="@firebase/remote-config",VI="@firebase/remote-config-compat",LI="@firebase/storage",jI="@firebase/storage-compat",MI="@firebase/firestore",FI="@firebase/ai",UI="@firebase/firestore-compat",zI="firebase",BI="12.6.0";const lf="[DEFAULT]",$I={[af]:"fire-core",[gI]:"fire-core-compat",[vI]:"fire-analytics",[yI]:"fire-analytics-compat",[wI]:"fire-app-check",[_I]:"fire-app-check-compat",[EI]:"fire-auth",[xI]:"fire-auth-compat",[TI]:"fire-rtdb",[II]:"fire-data-connect",[bI]:"fire-rtdb-compat",[kI]:"fire-fn",[SI]:"fire-fn-compat",[CI]:"fire-iid",[AI]:"fire-iid-compat",[RI]:"fire-fcm",[PI]:"fire-fcm-compat",[NI]:"fire-perf",[DI]:"fire-perf-compat",[OI]:"fire-rc",[VI]:"fire-rc-compat",[LI]:"fire-gcs",[jI]:"fire-gcs-compat",[MI]:"fire-fst",[UI]:"fire-fst-compat",[FI]:"fire-vertex","fire-js":"fire-js",[zI]:"fire-js-all"};const yc=new Map,qI=new Map,uf=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function os(n){const e=n.name;if(uf.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,n);for(const t of yc.values())_y(t,n);for(const t of qI.values())_y(t,n);return!0}function Co(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new So("app","Firebase",HI);class WI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}const Pa=BI;function w_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:lf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(t||(t=h_()),!t)throw Si.create("no-options");const l=yc.get(o);if(l){if(Ri(t,l.options)&&Ri(s,l.config))return l;throw Si.create("duplicate-app",{appName:o})}const c=new ZT(o);for(const p of uf.values())c.addComponent(p);const h=new WI(t,s,c);return yc.set(o,h),h}function Bf(n=lf){const e=yc.get(n);if(!e&&n===lf&&h_())return w_();if(!e)throw Si.create("no-app",{appName:n});return e}function ur(n,e,t){let s=$I[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}os(new Dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GI="firebase-heartbeat-database",KI=1,Rl="firebase-heartbeat-store";let Fh=null;function E_(){return Fh||(Fh=__(GI,KI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),Fh}async function QI(n){try{const t=(await E_()).transaction(Rl),s=await t.objectStore(Rl).get(x_(n));return await t.done,s}catch(e){if(e instanceof Or)Fs.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e?.message});Fs.warn(t.message)}}}async function wy(n,e){try{const s=(await E_()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(e,x_(n)),await s.done}catch(t){if(t instanceof Or)Fs.warn(t.message);else{const s=Si.create("idb-set",{originalErrorMessage:t?.message});Fs.warn(s.message)}}}function x_(n){return`${n.name}!${n.options.appId}`}const YI=1024,XI=30;class JI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eb(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ey();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>XI){const o=tb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ey(),{heartbeatsToSend:t,unsentEntries:s}=ZI(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fs.warn(e),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function ZI(n,e=YI){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),xy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class eb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ff()?Uf().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xy(n){return gc(JSON.stringify({version:2,heartbeats:n})).length}function tb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function nb(n){os(new Dr("platform-logger",e=>new pI(e),"PRIVATE")),os(new Dr("heartbeat",e=>new JI(e),"PRIVATE")),ur(af,vy,n),ur(af,vy,"esm2020"),ur("fire-js","")}nb("");var rb="firebase",sb="12.7.0";ur(rb,sb,"app");function T_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ib=T_,I_=new So("auth","Firebase",T_());const vc=new Bc("@firebase/auth");function ob(n,...e){vc.logLevel<=ze.WARN&&vc.warn(`Auth (${Pa}): ${n}`,...e)}function ic(n,...e){vc.logLevel<=ze.ERROR&&vc.error(`Auth (${Pa}): ${n}`,...e)}function cr(n,...e){throw qf(n,...e)}function Nr(n,...e){return qf(n,...e)}function $f(n,e,t){const s={...ib(),[e]:t};return new So("auth","Firebase",s).create(e,{appName:n.name})}function js(n){return $f(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ab(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&cr(n,"argument-error"),$f(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return I_.create(n,...e)}function Se(n,e,...t){if(!n)throw qf(e,...t)}function Vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function Us(n,e){n||Vs(e)}function cf(){return typeof self<"u"&&self.location?.href||""}function lb(){return Ty()==="http:"||Ty()==="https:"}function Ty(){return typeof self<"u"&&self.location?.protocol||null}function ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||Mf()||"connection"in navigator)?navigator.onLine:!0}function cb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=DT()||LT()}get(){return ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hf(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class b_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const db={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fb=new zl(3e4,6e4);function Fi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ui(n,e,t,s,o={}){return k_(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Ul({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:p,...l};return VT()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(v.credentials="include"),b_.fetch()(await S_(n,n.config.apiHost,t,h),v)})}async function k_(n,e,t){n._canInitEmulator=!1;const s={...db,...e};try{const o=new mb(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Yu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Yu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Yu(n,"user-disabled",c);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw $f(n,E,v);cr(n,E)}}catch(o){if(o instanceof Or)throw o;cr(n,"network-request-failed",{message:String(o)})}}async function Bl(n,e,t,s,o={}){const l=await Ui(n,e,t,s,o);return"mfaPendingCredential"in l&&cr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function S_(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?Hf(n.config,o):`${n.config.apiScheme}://${o}`;return hb.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function pb(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Nr(this.auth,"network-request-failed")),fb.get())})}}function Yu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Nr(n,e,s);return o.customData._tokenResponse=t,o}function Iy(n){return n!==void 0&&n.enterprise!==void 0}class gb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pb(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yb(n,e){return Ui(n,"GET","/v2/recaptchaConfig",Fi(n,e))}async function vb(n,e){return Ui(n,"POST","/v1/accounts:delete",e)}async function _c(n,e){return Ui(n,"POST","/v1/accounts:lookup",e)}function Tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _b(n,e=!1){const t=Jt(n),s=await t.getIdToken(e),o=Wf(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Tl(Uh(o.auth_time)),issuedAtTime:Tl(Uh(o.iat)),expirationTime:Tl(Uh(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Uh(n){return Number(n)*1e3}function Wf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=c_(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o?.toString()),null}}function by(n){const e=Wf(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Or&&wb(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function wb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Eb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class df{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wc(n){const e=n.auth,t=await n.getIdToken(),s=await Pl(n,_c(e,{idToken:t}));Se(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?C_(o.providerUserInfo):[],c=Tb(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,v=h?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new df(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function xb(n){const e=Jt(n);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tb(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function C_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Ib(n,e){const t=await k_(n,{},async()=>{const s=Ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await S_(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return n.emulatorConfig&&Ra(n.emulatorConfig.host)&&(p.credentials="include"),b_.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bb(n,e){return Ui(n,"POST","/v2/accounts:revokeToken",Fi(n,e))}class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):by(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=by(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await Ib(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new fa;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function vi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new df(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _b(this,e)}reload(){return xb(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Pl(this,vb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:F,providerData:G,stsTokenManager:H}=t;Se(T&&H,e,"internal-error");const U=fa.fromJSON(this.name,H);Se(typeof T=="string",e,"internal-error"),vi(s,e.name),vi(o,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof F=="boolean",e,"internal-error"),vi(l,e.name),vi(c,e.name),vi(h,e.name),vi(p,e.name),vi(v,e.name),vi(E,e.name);const ae=new Rr({uid:T,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:F,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:U,createdAt:v,lastLoginAt:E});return G&&Array.isArray(G)&&(ae.providerData=G.map(te=>({...te}))),p&&(ae._redirectEventId=p),ae}static async _fromIdTokenResponse(e,t,s=!1){const o=new fa;o.updateFromServerResponse(t);const l=new Rr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?C_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,h=new fa;h.updateFromIdToken(s);const p=new Rr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new df(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,v),p}}const ky=new Map;function Ls(n){Us(n instanceof Function,"Expected a class definition");let e=ky.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ky.set(n,e),e)}class A_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}A_.type="NONE";const Sy=A_;function oc(n,e,t){return`firebase:${n}:${e}:${t}`}class pa{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=oc(this.userKey,o.apiKey,l),this.fullPersistenceKey=oc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _c(this.auth,{idToken:e}).catch(()=>{});return t?Rr._fromGetAccountInfoResponse(this.auth,t,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new pa(Ls(Sy),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Ls(Sy);const c=oc(s,e.config.apiKey,e.name);let h=null;for(const v of t)try{const E=await v._get(c);if(E){let T;if(typeof E=="string"){const I=await _c(e,{idToken:E}).catch(()=>{});if(!I)break;T=await Rr._fromGetAccountInfoResponse(e,I,E)}else T=Rr._fromJSON(e,E);v!==l&&(h=T),l=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new pa(l,e,s):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new pa(l,e,s))}}function Cy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V_(e))return"Blackberry";if(L_(e))return"Webos";if(P_(e))return"Safari";if((e.includes("chrome/")||N_(e))&&!e.includes("edge/"))return"Chrome";if(O_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function R_(n=hn()){return/firefox\//i.test(n)}function P_(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N_(n=hn()){return/crios\//i.test(n)}function D_(n=hn()){return/iemobile/i.test(n)}function O_(n=hn()){return/android/i.test(n)}function V_(n=hn()){return/blackberry/i.test(n)}function L_(n=hn()){return/webos/i.test(n)}function Gf(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kb(n=hn()){return Gf(n)&&!!window.navigator?.standalone}function Sb(){return jT()&&document.documentMode===10}function j_(n=hn()){return Gf(n)||O_(n)||L_(n)||V_(n)||/windows phone/i.test(n)||D_(n)}function M_(n,e=[]){let t;switch(n){case"Browser":t=Cy(hn());break;case"Worker":t=`${Cy(hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pa}/${s}`}class Cb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ab(n,e={}){return Ui(n,"GET","/v2/passwordPolicy",Fi(n,e))}const Rb=6;class Pb{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Rb,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Nb{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ay(this),this.idTokenSubscription=new Ay(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _c(this,{idToken:e}),s=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(js(this));const t=e?Jt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ab(this),t=new Pb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await bb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ob(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zi(n){return Jt(n)}class Ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=$T(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Db(n){$c=n}function F_(n){return $c.loadJS(n)}function Ob(){return $c.recaptchaEnterpriseScript}function Vb(){return $c.gapiScript}function Lb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class jb{constructor(){this.enterprise=new Mb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Mb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Fb="recaptcha-enterprise",U_="NO_RECAPTCHA";class Ub{constructor(e){this.type=Fb,this.auth=zi(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{yb(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const v=new gb(p);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(p=>{h(p)})})}function o(l,c,h){const p=window.grecaptcha;Iy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(v=>{c(v)}).catch(()=>{c(U_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jb().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!t&&Iy(window.grecaptcha))o(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ob();p.length!==0&&(p+=h),F_(p).then(()=>{o(h,l,c)}).catch(v=>{c(v)})}}).catch(h=>{c(h)})})}}async function Ry(n,e,t,s=!1,o=!1){const l=new Ub(n);let c;if(o)c=U_;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,v=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hf(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ry(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ry(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(l)})}function zb(n,e){const t=Co(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ri(l,e??{}))return o;cr(o,"already-initialized")}return t.initialize({options:e})}function Bb(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ls);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function $b(n,e,t){const s=zi(n);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=z_(e),{host:c,port:h}=qb(e),p=h===null?"":`:${h}`,v={url:`${l}//${c}${p}/`},E=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ri(v,s.config.emulator)&&Ri(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ra(c)?(p_(`${l}//${c}${p}`),m_("Auth",!0)):Hb()}function z_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qb(n){const e=z_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Py(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Py(c)}}}function Py(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Hb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Kf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vs("not implemented")}_getIdTokenResponse(e){return Vs("not implemented")}_linkToIdToken(e,t){return Vs("not implemented")}_getReauthenticationResolver(e){return Vs("not implemented")}}async function Wb(n,e){return Ui(n,"POST","/v1/accounts:signUp",e)}async function Gb(n,e){return Bl(n,"POST","/v1/accounts:signInWithPassword",Fi(n,e))}async function Kb(n,e){return Bl(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,e))}async function Qb(n,e){return Bl(n,"POST","/v1/accounts:signInWithEmailLink",Fi(n,e))}class Nl extends Kf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Nl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(e,t,"signInWithPassword",Gb);case"emailLink":return Kb(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hf(e,s,"signUpPassword",Wb);case"emailLink":return Qb(e,{idToken:t,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ma(n,e){return Bl(n,"POST","/v1/accounts:signInWithIdp",Fi(n,e))}const Yb="http://localhost";class wo extends Kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new wo(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ma(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ma(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ma(e,t)}buildRequest(){const e={requestUri:Yb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ul(t)}return e}}function Xb(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jb(n){const e=gl(yl(n)).link,t=e?gl(yl(e)).deep_link_id:null,s=gl(yl(n)).deep_link_id;return(s?gl(yl(s)).link:null)||s||t||e||n}class Qf{constructor(e){const t=gl(yl(e)),s=t.apiKey??null,o=t.oobCode??null,l=Xb(t.mode??null);Se(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Jb(e);try{return new Qf(t)}catch{return null}}}class Na{constructor(){this.providerId=Na.PROVIDER_ID}static credential(e,t){return Nl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Qf.parseLink(t);return Se(s,"argument-error"),Nl._fromEmailAndCode(e,s.code,s.tenantId)}}Na.PROVIDER_ID="password";Na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $l extends Yf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _i extends $l{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";class Os extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Os.credential(t,s)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class wi extends $l{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";class Ei extends $l{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ei.credential(t,s)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";async function Zb(n,e){return Bl(n,"POST","/v1/accounts:signUp",Fi(n,e))}class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Rr._fromIdTokenResponse(e,s,o),c=Ny(s);return new Eo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ny(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ec extends Or{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ec(e,t,s,o)}}function B_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(n,l,e,s):l})}async function ek(n,e,t=!1){const s=await Pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",s)}async function tk(n,e,t=!1){const{auth:s}=n;if(Hn(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const l=await Pl(n,B_(s,o,e,n),t);Se(l.idToken,s,"internal-error");const c=Wf(l.idToken);Se(c,s,"internal-error");const{sub:h}=c;return Se(n.uid===h,s,"user-mismatch"),Eo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&cr(s,"user-mismatch"),l}}async function $_(n,e,t=!1){if(Hn(n.app))return Promise.reject(js(n));const s="signIn",o=await B_(n,s,e),l=await Eo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function nk(n,e){return $_(zi(n),e)}async function q_(n){const e=zi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rk(n,e,t){if(Hn(n.app))return Promise.reject(js(n));const s=zi(n),c=await hf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zb).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q_(n),p}),h=await Eo._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function sk(n,e,t){return Hn(n.app)?Promise.reject(js(n)):nk(Jt(n),Na.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&q_(n),s})}function ik(n,e,t,s){return Jt(n).onIdTokenChanged(e,t,s)}function ok(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function ak(n,e,t,s){return Jt(n).onAuthStateChanged(e,t,s)}function lk(n){return Jt(n).signOut()}const xc="__sak";class H_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uk=1e3,ck=10;class W_ extends H_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Sb()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ck):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},uk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}W_.type="LOCAL";const dk=W_;class G_ extends H_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}G_.type="SESSION";const K_=G_;function hk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new qc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async v=>v(t.origin,l)),p=await hk(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];function Xf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class fk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const v=Xf("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(I.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ts(){return window}function pk(n){ts().location.href=n}function Q_(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function mk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gk(){return navigator?.serviceWorker?.controller||null}function yk(){return Q_()?self:null}const Y_="firebaseLocalStorageDb",vk=1,Tc="firebaseLocalStorage",X_="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(n,e){return n.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function _k(){const n=indexedDB.deleteDatabase(Y_);return new ql(n).toPromise()}function ff(){const n=indexedDB.open(Y_,vk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Tc,{keyPath:X_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Tc)?e(s):(s.close(),await _k(),e(await ff()))})})}async function Dy(n,e,t){const s=Hc(n,!0).put({[X_]:e,value:t});return new ql(s).toPromise()}async function wk(n,e){const t=Hc(n,!1).get(e),s=await new ql(t).toPromise();return s===void 0?null:s.value}function Oy(n,e){const t=Hc(n,!0).delete(e);return new ql(t).toPromise()}const Ek=800,xk=3;class J_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ff(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>xk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(yk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mk(),!this.activeServiceWorker)return;this.sender=new fk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ff();return await Dy(e,xc,"1"),await Oy(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dy(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>wk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Oy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Hc(o,!1).getAll();return new ql(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J_.type="LOCAL";const Tk=J_;new zl(3e4,6e4);function Z_(n,e){return e?Ls(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Jf extends Kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ma(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ik(n){return $_(n.auth,new Jf(n),n.bypassAuthState)}function bk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),tk(t,new Jf(n),n.bypassAuthState)}async function kk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),ek(t,new Jf(n),n.bypassAuthState)}class ew{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ik;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return bk;default:cr(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sk=new zl(2e3,1e4);async function Ck(n,e,t){if(Hn(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const s=zi(n);ab(n,e,Yf);const o=Z_(s,t);return new mo(s,"signInViaPopup",e,o).executeNotNull()}class mo extends ew{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=Xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sk.get())};e()}}mo.currentPopupAction=null;const Ak="pendingRedirect",ac=new Map;class Rk extends ew{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const s=await Pk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pk(n,e){const t=Ok(e),s=Dk(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Nk(n,e){ac.set(n._key(),e)}function Dk(n){return Ls(n._redirectPersistence)}function Ok(n){return oc(Ak,n.config.apiKey,n.name)}async function Vk(n,e,t=!1){if(Hn(n.app))return Promise.reject(js(n));const s=zi(n),o=Z_(s,e),c=await new Rk(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const Lk=600*1e3;class jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!tw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Nr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vy(e))}saveEventToCache(e){this.cachedEventUids.add(Vy(e)),this.lastProcessedEventTime=Date.now()}}function Vy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Mk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(n);default:return!1}}async function Fk(n,e={}){return Ui(n,"GET","/v1/projects",e)}const Uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zk=/^https?/;async function Bk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Fk(n);for(const t of e)try{if($k(t))return}catch{}cr(n,"unauthorized-domain")}function $k(n){const e=cf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!zk.test(t))return!1;if(Uk.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const qk=new zl(3e4,6e4);function Ly(){const n=ts().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Hk(n){return new Promise((e,t)=>{function s(){Ly(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ly(),t(Nr(n,"network-request-failed"))},timeout:qk.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)s();else{const o=Lb("iframefcb");return ts()[o]=()=>{gapi.load?s():t(Nr(n,"network-request-failed"))},F_(`${Vb()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw lc=null,e})}let lc=null;function Wk(n){return lc=lc||Hk(n),lc}const Gk=new zl(5e3,15e3),Kk="__/auth/iframe",Qk="emulator/auth/iframe",Yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jk(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hf(e,Qk):`https://${n.config.authDomain}/${Kk}`,s={apiKey:e.apiKey,appName:n.name,v:Pa},o=Xk.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ul(s).slice(1)}`}async function Zk(n){const e=await Wk(n),t=ts().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:Jk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yk,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Nr(n,"network-request-failed"),h=ts().setTimeout(()=>{l(c)},Gk.get());function p(){ts().clearTimeout(h),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const e1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t1=500,n1=600,r1="_blank",s1="http://localhost";class jy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i1(n,e,t,s=t1,o=n1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...e1,width:s.toString(),height:o.toString(),top:l,left:c},v=hn().toLowerCase();t&&(h=N_(v)?r1:t),R_(v)&&(e=e||s1,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[F,G])=>`${I}${F}=${G},`,"");if(kb(v)&&h!=="_self")return o1(e||"",h),new jy(null);const T=window.open(e||"",h,E);Se(T,n,"popup-blocked");try{T.focus()}catch{}return new jy(T)}function o1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const a1="__/auth/handler",l1="emulator/auth/handler",u1=encodeURIComponent("fac");async function My(n,e,t,s,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Pa,eventId:o};if(e instanceof Yf){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",BT(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof $l){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const E of Object.keys(h))h[E]===void 0&&delete h[E];const p=await n._getAppCheckToken(),v=p?`#${u1}=${encodeURIComponent(p)}`:"";return`${c1(n)}?${Ul(h).slice(1)}${v}`}function c1({config:n}){return n.emulator?Hf(n,l1):`https://${n.authDomain}/${a1}`}const zh="webStorageSupport";class d1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K_,this._completeRedirectFn=Vk,this._overrideRedirectResult=Nk}async _openPopup(e,t,s,o){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await My(e,t,s,cf(),o);return i1(e,l,Xf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await My(e,t,s,cf(),o);return pk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Us(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Zk(e),s=new jk(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zh,{type:zh},o=>{const l=o?.[0]?.[zh];l!==void 0&&t(!!l),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j_()||P_()||Gf()}}const h1=d1;var Fy="@firebase/auth",Uy="1.12.0";class f1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m1(n){os(new Dr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M_(n)},v=new Nb(s,o,l,p);return Bb(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),os(new Dr("auth-internal",e=>{const t=zi(e.getProvider("auth").getImmediate());return(s=>new f1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(Fy,Uy,p1(n)),ur(Fy,Uy,"esm2020")}const g1=300,y1=f_("authIdTokenMaxAge")||g1;let zy=null;const v1=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>y1)return;const o=t?.token;zy!==o&&(zy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _1(n=Bf()){const e=Co(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zb(n,{popupRedirectResolver:h1,persistence:[Tk,dk,K_]}),s=f_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=v1(l.toString());ok(t,c,()=>c(t.currentUser)),ik(t,h=>c(h))}}const o=d_("auth");return o&&$b(t,`http://${o}`),t}function w1(){return document.getElementsByTagName("head")?.[0]??document}Db({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=Nr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",w1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m1("Browser");var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ci,nw;(function(){var n;function e(R,b){function A(){}A.prototype=b.prototype,R.F=b.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(O,D,L){for(var C=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)C[Ye-2]=arguments[Ye];return b.prototype[D].apply(O,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,A){A||(A=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;D<16;++D)O[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=R.g[0],A=R.g[1],D=R.g[2];let L=R.g[3],C;C=b+(L^A&(D^L))+O[0]+3614090360&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(D^b&(A^D))+O[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=D+(A^L&(b^A))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(b^D&(L^b))+O[3]+3250441966&4294967295,A=D+(C<<22&4294967295|C>>>10),C=b+(L^A&(D^L))+O[4]+4118548399&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(D^b&(A^D))+O[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=D+(A^L&(b^A))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(b^D&(L^b))+O[7]+4249261313&4294967295,A=D+(C<<22&4294967295|C>>>10),C=b+(L^A&(D^L))+O[8]+1770035416&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(D^b&(A^D))+O[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=D+(A^L&(b^A))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(b^D&(L^b))+O[11]+2304563134&4294967295,A=D+(C<<22&4294967295|C>>>10),C=b+(L^A&(D^L))+O[12]+1804603682&4294967295,b=A+(C<<7&4294967295|C>>>25),C=L+(D^b&(A^D))+O[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=D+(A^L&(b^A))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(b^D&(L^b))+O[15]+1236535329&4294967295,A=D+(C<<22&4294967295|C>>>10),C=b+(D^L&(A^D))+O[1]+4129170786&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(b^A))+O[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=D+(b^A&(L^b))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(D^L))+O[0]+3921069994&4294967295,A=D+(C<<20&4294967295|C>>>12),C=b+(D^L&(A^D))+O[5]+3593408605&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(b^A))+O[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=D+(b^A&(L^b))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(D^L))+O[4]+3889429448&4294967295,A=D+(C<<20&4294967295|C>>>12),C=b+(D^L&(A^D))+O[9]+568446438&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(b^A))+O[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=D+(b^A&(L^b))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(D^L))+O[8]+1163531501&4294967295,A=D+(C<<20&4294967295|C>>>12),C=b+(D^L&(A^D))+O[13]+2850285829&4294967295,b=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(b^A))+O[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=D+(b^A&(L^b))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^b&(D^L))+O[12]+2368359562&4294967295,A=D+(C<<20&4294967295|C>>>12),C=b+(A^D^L)+O[5]+4294588738&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^D)+O[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=D+(L^b^A)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^b)+O[14]+4259657740&4294967295,A=D+(C<<23&4294967295|C>>>9),C=b+(A^D^L)+O[1]+2763975236&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^D)+O[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=D+(L^b^A)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^b)+O[10]+3200236656&4294967295,A=D+(C<<23&4294967295|C>>>9),C=b+(A^D^L)+O[13]+681279174&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^D)+O[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=D+(L^b^A)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^b)+O[6]+76029189&4294967295,A=D+(C<<23&4294967295|C>>>9),C=b+(A^D^L)+O[9]+3654602809&4294967295,b=A+(C<<4&4294967295|C>>>28),C=L+(b^A^D)+O[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=D+(L^b^A)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^b)+O[2]+3299628645&4294967295,A=D+(C<<23&4294967295|C>>>9),C=b+(D^(A|~L))+O[0]+4096336452&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~D))+O[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=D+(b^(L|~A))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~b))+O[5]+4237533241&4294967295,A=D+(C<<21&4294967295|C>>>11),C=b+(D^(A|~L))+O[12]+1700485571&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~D))+O[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=D+(b^(L|~A))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~b))+O[1]+2240044497&4294967295,A=D+(C<<21&4294967295|C>>>11),C=b+(D^(A|~L))+O[8]+1873313359&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~D))+O[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=D+(b^(L|~A))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~b))+O[13]+1309151649&4294967295,A=D+(C<<21&4294967295|C>>>11),C=b+(D^(A|~L))+O[4]+4149444226&4294967295,b=A+(C<<6&4294967295|C>>>26),C=L+(A^(b|~D))+O[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=D+(b^(L|~A))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~b))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const A=b-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<b;){if(D==0)for(;L<=A;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<b;)if(O[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<b;)if(O[D++]=R[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)R[b++]=this.g[A]>>>O&255;return R};function l(R,b){var A=h;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=b(R)}function c(R,b){this.h=b;const A=[];let O=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;O&&L==b||(A[D]=L,O=!1)}this.g=A}var h={};function p(R){return-128<=R&&R<128?l(R,function(b){return new c([b|0],b<0?-1:0)}):new c([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return U(v(-R));const b=[];let A=1;for(let O=0;R>=A;O++)b[O]=R/A|0,A*=4294967296;return new c(b,0)}function E(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return U(E(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=v(Math.pow(b,8));let O=T;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+D),b);D<8?(D=v(Math.pow(b,D)),O=O.j(D).add(v(C))):(O=O.j(A),O=O.add(v(C)))}return O}var T=p(0),I=p(1),F=p(16777216);n=c.prototype,n.m=function(){if(H(this))return-U(this).m();let R=0,b=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);R+=(O>=0?O:4294967296+O)*b,b*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(G(this))return"0";if(H(this))return"-"+U(this).toString(R);const b=v(Math.pow(R,6));var A=this;let O="";for(;;){const D=we(A,b).g;A=ae(A,D.j(b));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=D,G(A))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function G(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function H(R){return R.h==-1}n.l=function(R){return R=ae(this,R),H(R)?-1:G(R)?0:1};function U(R){const b=R.g.length,A=[];for(let O=0;O<b;O++)A[O]=~R.g[O];return new c(A,~R.h).add(I)}n.abs=function(){return H(this)?U(this):this},n.add=function(R){const b=Math.max(this.g.length,R.g.length),A=[];let O=0;for(let D=0;D<=b;D++){let L=O+(this.i(D)&65535)+(R.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,A[D]=C<<16|L}return new c(A,A[A.length-1]&-2147483648?-1:0)};function ae(R,b){return R.add(U(b))}n.j=function(R){if(G(this)||G(R))return T;if(H(this))return H(R)?U(this).j(U(R)):U(U(this).j(R));if(H(R))return U(this.j(U(R)));if(this.l(F)<0&&R.l(F)<0)return v(this.m()*R.m());const b=this.g.length+R.g.length,A=[];for(var O=0;O<2*b;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,Ye=R.i(D)>>>16,pt=R.i(D)&65535;A[2*O+2*D]+=C*pt,te(A,2*O+2*D),A[2*O+2*D+1]+=L*pt,te(A,2*O+2*D+1),A[2*O+2*D+1]+=C*Ye,te(A,2*O+2*D+1),A[2*O+2*D+2]+=L*Ye,te(A,2*O+2*D+2)}for(R=0;R<b;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=b;R<2*b;R++)A[R]=0;return new c(A,0)};function te(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function ie(R,b){this.g=R,this.h=b}function we(R,b){if(G(b))throw Error("division by zero");if(G(R))return new ie(T,T);if(H(R))return b=we(U(R),b),new ie(U(b.g),U(b.h));if(H(b))return b=we(R,U(b)),new ie(U(b.g),b.h);if(R.g.length>30){if(H(R)||H(b))throw Error("slowDivide_ only works with positive integers.");for(var A=I,O=b;O.l(R)<=0;)A=Oe(A),O=Oe(O);var D=ge(A,1),L=ge(O,1);for(O=ge(O,2),A=ge(A,2);!G(O);){var C=L.add(O);C.l(R)<=0&&(D=D.add(A),L=C),O=ge(O,1),A=ge(A,1)}return b=ae(R,D.j(b)),new ie(D,b)}for(D=T;R.l(b)>=0;){for(A=Math.max(1,Math.floor(R.m()/b.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=v(A),C=L.j(b);H(C)||C.l(R)>0;)A-=O,L=v(A),C=L.j(b);G(L)&&(L=I),D=D.add(L),R=ae(R,C)}return new ie(D,R)}n.B=function(R){return we(this,R).h},n.and=function(R){const b=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)&R.i(O);return new c(A,this.h&R.h)},n.or=function(R){const b=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)|R.i(O);return new c(A,this.h|R.h)},n.xor=function(R){const b=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)^R.i(O);return new c(A,this.h^R.h)};function Oe(R){const b=R.g.length+1,A=[];for(let O=0;O<b;O++)A[O]=R.i(O)<<1|R.i(O-1)>>>31;return new c(A,R.h)}function ge(R,b){const A=b>>5;b%=32;const O=R.g.length-A,D=[];for(let L=0;L<O;L++)D[L]=b>0?R.i(L+A)>>>b|R.i(L+A+1)<<32-b:R.i(L+A);return new c(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=E,Ci=c}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rw,vl,sw,uc,pf,iw,ow,aw;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var x=0;x<u.length-1;x++){var z=u[x];if(!(z in _))break e;_=_[z]}u=u[u.length-1],x=_[u],g=g(x),g!=x&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var _=[],x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([x,g[x]]);return _}});var l=l||{},c=this||self;function h(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,_){return u.call.apply(u.bind,arguments)}function v(u,g,_){return v=p,v.apply(null,arguments)}function E(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function T(u,g){function _(){}_.prototype=g.prototype,u.Z=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,z,q){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return g.prototype[z].apply(x,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const g=u.length;if(g>0){const _=Array(g);for(let x=0;x<g;x++)_[x]=u[x];return _}return[]}function G(u,g){for(let x=1;x<arguments.length;x++){const z=arguments[x];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const q=z.length||0;u.length=_+q;for(let se=0;se<q;se++)u[_+se]=z[se]}else u.push(z)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(u){c.setTimeout(()=>{throw u},0)}function ae(){var u=R;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class te{constructor(){this.h=this.g=null}add(g,_){const x=ie.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ie=new H(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ge=!1,R=new te,b=()=>{const u=Promise.resolve(void 0);Oe=()=>{u.then(A)}};function A(){for(var u;u=ae();){try{u.h.call(u.g)}catch(_){U(_)}var g=ie;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}ge=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};c.addEventListener("test",_,g),c.removeEventListener("test",_,g)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Ye(u,g){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}T(Ye,D),Ye.prototype.init=function(u,g){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(_=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),Et=0;function Xe(u,g,_,x,z){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=z,this.key=++Et,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function K(u,g,_){for(const x in u)g.call(_,u[x],x,u)}function S(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function W(u){const g={};for(const _ in u)g[_]=u[_];return g}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ve(u,g){let _,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(_ in x)u[_]=x[_];for(let q=0;q<ce.length;q++)_=ce[q],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function Re(u){this.src=u,this.g={},this.h=0}Re.prototype.add=function(u,g,_,x,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const se=Le(u,g,x,z);return se>-1?(g=u[se],_||(g.fa=!1)):(g=new Xe(g,this.src,q,!!x,z),g.fa=_,u.push(g)),g};function qe(u,g){const _=g.type;if(_ in u.g){var x=u.g[_],z=Array.prototype.indexOf.call(x,g,void 0),q;(q=z>=0)&&Array.prototype.splice.call(x,z,1),q&&(oe(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Le(u,g,_,x){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==x)return z}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ct(u,g,_,x,z){if(Array.isArray(g)){for(let q=0;q<g.length;q++)Ct(u,g[q],_,x,z);return null}return _=nt(_),u&&u[pt]?u.J(g,_,h(x)?!!x.capture:!1,z):en(u,g,_,!1,x,z)}function en(u,g,_,x,z,q){if(!g)throw Error("Invalid event type");const se=h(z)?!!z.capture:!!z;let Ne=us(u);if(Ne||(u[He]=Ne=new Re(u)),_=Ne.add(g,_,x,se,q),_.proxy)return _;if(x=Pn(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)L||(z=se),z===void 0&&(z=!1),u.addEventListener(g.toString(),x,z);else if(u.attachEvent)u.attachEvent(fn(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pn(){function u(_){return g.call(u.src,u.listener,_)}const g=qs;return u}function dr(u,g,_,x,z){if(Array.isArray(g))for(var q=0;q<g.length;q++)dr(u,g[q],_,x,z);else x=h(x)?!!x.capture:!!x,_=nt(_),u&&u[pt]?(u=u.i,q=String(g).toString(),q in u.g&&(g=u.g[q],_=Le(g,_,x,z),_>-1&&(oe(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete u.g[q],u.h--)))):u&&(u=us(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Le(g,_,x,z)),(_=u>-1?g[u]:null)&&Wt(_))}function Wt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[pt])qe(g.i,u);else{var _=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(_,x,u.capture):g.detachEvent?g.detachEvent(fn(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=us(g))?(qe(_,u),_.h==0&&(_.src=null,g[He]=null)):oe(u)}}}function fn(u){return u in Ue?Ue[u]:Ue[u]="on"+u}function qs(u,g){if(u.da)u=!0;else{g=new Ye(g,this);const _=u.listener,x=u.ha||u.src;u.fa&&Wt(u),u=_.call(x,g)}return u}function us(u){return u=u[He],u instanceof Re?u:null}var hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(u){return typeof u=="function"?u:(u[hr]||(u[hr]=function(g){return u.handleEvent(g)}),u[hr])}function ht(){O.call(this),this.i=new Re(this),this.M=this,this.G=null}T(ht,O),ht.prototype[pt]=!0,ht.prototype.removeEventListener=function(u,g,_,x){dr(this,u,g,_,x)};function at(u,g){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new D(g,u);else if(g instanceof D)g.target=g.target||u;else{var z=g;g=new D(x,u),Ve(g,z)}z=!0;let q,se;if(_)for(se=_.length-1;se>=0;se--)q=g.g=_[se],z=wn(q,x,!0,g)&&z;if(q=g.g=u,z=wn(q,x,!0,g)&&z,z=wn(q,x,!1,g)&&z,_)for(se=0;se<_.length;se++)q=g.g=_[se],z=wn(q,x,!1,g)&&z}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const _=u.g[g];for(let x=0;x<_.length;x++)oe(_[x]);delete u.g[g],u.h--}}this.G=null},ht.prototype.J=function(u,g,_,x){return this.i.add(String(u),g,!1,_,x)},ht.prototype.K=function(u,g,_,x){return this.i.add(String(u),g,!0,_,x)};function wn(u,g,_,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let q=0;q<g.length;++q){const se=g[q];if(se&&!se.da&&se.capture==_){const Ne=se.listener,Tt=se.ha||se.src;se.fa&&qe(u.i,se),z=Ne.call(Tt,x)!==!1&&z}}return z&&!x.defaultPrevented}function et(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(u,g||0)}function Hs(u){u.g=et(()=>{u.g=null,u.i&&(u.i=!1,Hs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class fr extends O{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(u){O.call(this),this.h=u,this.g={}}T(Gn,O);var En=[];function Ft(u){K(u.g,function(g,_){this.g.hasOwnProperty(_)&&Wt(g)},u),u.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),Ft(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=c.JSON.stringify,Ot=c.JSON.parse,xn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Nn(){}function Ws(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cs(){D.call(this,"d")}T(cs,D);function Vr(){D.call(this,"c")}T(Vr,D);var Ut={},Lr=null;function Dn(){return Lr=Lr||new ht}Ut.Ia="serverreachability";function mr(u){D.call(this,Ut.Ia,u)}T(mr,D);function Qn(u){const g=Dn();at(g,new mr(g))}Ut.STAT_EVENT="statevent";function On(u,g){D.call(this,Ut.STAT_EVENT,u),this.stat=g}T(On,D);function st(u){const g=Dn();at(g,new On(g,u))}Ut.Ja="timingevent";function jr(u,g){D.call(this,Ut.Ja,u),this.size=g}T(jr,D);function Mr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},g)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Gs(u,g,_,x,z,q){u.info(function(){if(u.g)if(q){var se="",Ne=q.split("&");for(let tt=0;tt<Ne.length;tt++){var Tt=Ne[tt].split("=");if(Tt.length>1){const Rt=Tt[0];Tt=Tt[1];const zn=Rt.split("_");se=zn.length>=2&&zn[1]=="type"?se+(Rt+"="+Tt+"&"):se+(Rt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+g+`
`+_+`
`+se})}function Bi(u,g,_,x,z,q,se){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+g+`
`+_+`
`+q+" "+se})}function Xn(u,g,_,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Fr(u,_)+(x?" "+x:"")})}function Do(u,g){u.info(function(){return"TIMEOUT: "+g})}Yn.prototype.info=function(){};function Fr(u,g){if(!u.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<x.length;se++)x[se]=""}}}}return pr(q)}catch{return g}}var Jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tn;function yr(){}T(yr,Nn),yr.prototype.g=function(){return new XMLHttpRequest},tn=new yr;function Vn(u){return encodeURIComponent(String(u))}function ds(u){var g=1;u=u.split(":");const _=[];for(;g>0&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function xt(u,g,_,x){this.j=u,this.i=g,this.l=_,this.S=x||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ur}function Ur(){this.i=null,this.g="",this.h=!1}var hs={},Ks={};function pn(u,g,_){u.M=1,u.A=_r(Tn(g)),u.u=_,u.R=!0,Qs(u,null)}function Qs(u,g){u.F=Date.now(),fs(u),u.B=Tn(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Yi(_.i,"t",x),u.C=0,_=u.j.L,u.h=new Ur,u.g=Jl(u.j,_?g:null,!u.u),u.P>0&&(u.O=new fr(v(u.Y,u,u.g),u.P)),g=u.V,_=u.g,x=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(En[0]=z.toString()),z=En);for(let q=0;q<z.length;q++){const se=Ct(_,z[q],x||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=u.J?W(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Qn(),Gs(u.i,u.v,u.B,u.l,u.S,u.u)}xt.prototype.ba=function(u){u=u.target;const g=this.O;g&&$r(u)==3?g.j():this.Y(u)},xt.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=$r(this.g),Tt=this.g.ya(),tt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Yl(this.g)))){this.K||Ne!=4||Tt==7||(Tt==8||tt<=0?Qn(3):Qn(2)),zr(this);var g=this.g.ca();this.X=g;var _=$i(this);if(this.o=g==200,Bi(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(x)){var q=x;break t}}q=null}if(u=q)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,it(this,u);else{this.o=!1,this.m=3,st(12),mn(this),Ln(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<_.length;)if(Rt=Ys(this,_),Rt==Ks){Ne==4&&(this.m=4,st(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==hs){this.m=4,st(15),Xn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,Rt,null),it(this,Rt);if(qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||_.length!=0||this.h.h||(this.m=1,st(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,_,"[Invalid Chunked Response]"),mn(this),Ln(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Zi(se),se.P=!0,st(11))}}else Xn(this.i,this.l,_,null),it(this,_);Ne==4&&mn(this),this.o&&!this.K&&(Ne==4?Mo(this.j,this):(this.o=!1,fs(this)))}else Fa(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),mn(this),Ln(this)}}}catch{}};function $i(u){if(!qi(u))return u.g.la();const g=Yl(u.g);if(g==="")return"";let _="";const x=g.length,z=$r(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Ln(u),"";u.h.i=new c.TextDecoder}for(let q=0;q<x;q++)u.h.h=!0,_+=u.h.i.decode(g[q],{stream:!(z&&q==x-1)});return g.length=0,u.h.g+=_,u.C=0,u.h.g}function qi(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ys(u,g){var _=u.C,x=g.indexOf(`
`,_);return x==-1?Ks:(_=Number(g.substring(_,x)),isNaN(_)?hs:(x+=1,x+_>g.length?Ks:(g=g.slice(x,x+_),u.C=x+_,g)))}xt.prototype.cancel=function(){this.K=!0,mn(this)};function fs(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Mr(v(u.aa,u),g)}function zr(u){u.D&&(c.clearTimeout(u.D),u.D=null)}xt.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Do(this.i,this.B),this.M!=2&&(Qn(),st(17)),mn(this),this.m=2,Ln(this)):Xs(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Mo(u.j,u)}function mn(u){zr(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Ft(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function it(u,g){try{var _=u.j;if(_.I!=0&&(_.g==u||Wi(_.h,u))){if(!u.L&&Wi(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)jo(_),Fn(_);else break e;Wr(_),st(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Mr(v(_.Va,_),6e3));ps(_.h)<=1&&_.ta&&(_.ta=void 0)}else Un(_,11)}else if((u.L||_.g==u)&&jo(_),!C(g))for(z=_.Ba.g.parse(g),g=0;g<z.length;g++){let tt=z[g];const Rt=tt[0];if(!(Rt<=_.K))if(_.K=Rt,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const zn=tt[3];zn!=null&&(_.ka=zn,_.j.info("VER="+_.ka));const Is=tt[4];Is!=null&&(_.za=Is,_.j.info("SVER="+_.za));const Gr=tt[5];Gr!=null&&typeof Gr=="number"&&Gr>0&&(x=1.5*Gr,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Kr=u.g;if(Kr){const zo=Kr.g?Kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zo){var q=x.h;q.g||zo.indexOf("spdy")==-1&&zo.indexOf("quic")==-1&&zo.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Zs(q,q.h),q.h=null))}if(x.G){const Ba=Kr.g?Kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(x.wa=Ba,Ge(x.J,x.G,Ba))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var se=u;if(x.na=za(x,x.L?x.ba:null,x.W),se.L){ms(x.h,se);var Ne=se,Tt=x.O;Tt&&(Ne.H=Tt),Ne.D&&(zr(Ne),fs(Ne)),x.g=se}else rn(x);_.i.length>0&&Ts(_)}else tt[0]!="stop"&&tt[0]!="close"||Un(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Un(_,7):Vo(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}Qn(4)}catch{}}var ja=class{constructor(u,g){this.g=u,this.map=g}};function Js(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ps(u){return u.h?1:u.g?u.g.size:0}function Wi(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Zs(u,g){u.g?u.g.add(g):u.h=g}function ms(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Js.prototype.cancel=function(){if(this.i=At(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function At(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.G);return g}return F(u.i)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gn(u,g){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let z,q=null;x>=0?(z=u[_].substring(0,x),q=u[_].substring(x+1)):z=u[_],g(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Zn?(this.l=u.l,gs(this,u.j),this.o=u.o,this.g=u.g,er(this,u.u),this.h=u.h,vr(this,Xi(u.i)),this.m=u.m):u&&(g=String(u).match(Gi))?(this.l=!1,gs(this,g[1]||"",!0),this.o=jn(g[2]||""),this.g=jn(g[3]||"",!0),er(this,g[4]),this.h=jn(g[5]||"",!0),vr(this,g[6]||"",!0),this.m=jn(g[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Zn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(wr(g,ys,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(wr(g,ys,!0),"@"),u.push(Vn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wr(_,_.charAt(0)=="/"?_s:vs,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wr(_,ws)),u.join("")},Zn.prototype.resolve=function(u){const g=Tn(this);let _=!!u.j;_?gs(g,u.j):_=!!u.o,_?g.o=u.o:_=!!u.g,_?g.g=u.g:_=u.u!=null;var x=u.h;if(_)er(g,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=g.h.lastIndexOf("/");z!=-1&&(x=g.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let se=0;se<z.length;){const Ne=z[se++];Ne=="."?x&&se==z.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),x&&se==z.length&&q.push("")):(q.push(Ne),x=!0)}x=q.join("/")}else x=z}return _?g.h=x:_=u.i.toString()!=="",_?vr(g,Xi(u.i)):_=!!u.m,_&&(g.m=u.m),g};function Tn(u){return new Zn(u)}function gs(u,g,_){u.j=_?jn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function vr(u,g,_){g instanceof je?(u.i=g,Q(u.i,u.l)):(_||(g=wr(g,Ma)),u.i=new je(g,u.l))}function Ge(u,g,_){u.i.set(g,_)}function _r(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function jn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Ki),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ki(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ys=/[#\/\?@]/g,vs=/[#\?:]/g,_s=/[#\?]/g,Ma=/[#\?@]/g,ws=/#/g;function je(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&gn(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=je.prototype,n.add=function(u,g){Mn(this),this.i=null,u=P(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function nn(u,g){Mn(u),g=P(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Br(u,g){return Mn(u),g=P(u,g),u.g.has(g)}n.forEach=function(u,g){Mn(this),this.g.forEach(function(_,x){_.forEach(function(z){u.call(g,z,x,this)},this)},this)};function Qi(u,g){Mn(u);let _=[];if(typeof g=="string")Br(u,g)&&(_=_.concat(u.g.get(P(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)_=_.concat(u[g]);return _}n.set=function(u,g){return Mn(this),this.i=null,u=P(this,u),Br(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=Qi(this,u),u.length>0?String(u[0]):g):g};function Yi(u,g,_){nn(u,g),_.length>0&&(u.i=null,u.g.set(P(u,g),F(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let x=0;x<g.length;x++){var _=g[x];const z=Vn(_);_=Qi(this,_);for(let q=0;q<_.length;q++){let se=z;_[q]!==""&&(se+="="+Vn(_[q])),u.push(se)}}return this.i=u.join("&")};function Xi(u){const g=new je;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function P(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Q(u,g){g&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(_,x){const z=x.toLowerCase();x!=z&&(nn(this,x),Yi(this,z,_))},u)),u.j=g}function X(u,g){const _=new Yn;if(c.Image){const x=new Image;x.onload=E(ue,_,"TestLoadImage: loaded",!0,g,x),x.onerror=E(ue,_,"TestLoadImage: error",!1,g,x),x.onabort=E(ue,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=E(ue,_,"TestLoadImage: timeout",!1,g,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function le(u,g){const _=new Yn,x=new AbortController,z=setTimeout(()=>{x.abort(),ue(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(q=>{clearTimeout(z),q.ok?ue(_,"TestPingServer: ok",!0,g):ue(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),ue(_,"TestPingServer: error",!1,g)})}function ue(u,g,_,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(_)}catch{}}function Ee(){this.g=new xn}function ye(u){this.i=u.Sb||null,this.h=u.ab||!1}T(ye,Nn),ye.prototype.g=function(){return new be(this.i,this.h)};function be(u,g){ht.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(be,ht),n=be.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,rt(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ot(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rt(this)),this.g&&(this.readyState=3,rt(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Je(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Je(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ot(this):rt(this),this.readyState==3&&Je(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ot(this))},n.Na=function(u){this.g&&(this.response=u,ot(this))},n.ga=function(){this.g&&ot(this)};function ot(u){u.readyState=4,u.l=null,u.j=null,u.B=null,rt(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function rt(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(be.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Er(u){let g="";return K(u,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function xr(u,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Er(_),typeof u=="string"?_!=null&&Vn(_):Ge(u,g,_))}function ke(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ke,ht);var _t=/^https?$/i,Tr=["POST","PUT"];n=ke.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tn.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){ei(this,q);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)_.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const q of x.keys())_.set(q,x.get(q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),z=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Tr,g,void 0)>=0)||x||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of _)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ei(this,q)}};function ei(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,ti(u),xs(u)}function ti(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),xs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),ke.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},n.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof l<"u"){if(u.v&&$r(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),$r(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=q===0){let se=String(u.D).match(Gi)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),x=!_t.test(se?se.toLowerCase():"")}_=x}if(_)at(u,"complete"),at(u,"success");else{u.o=6;try{var z=$r(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",ti(u)}}finally{xs(u)}}}}function xs(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,g||at(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(u){return u.g?u.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ot(g)}};function Yl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(u){const g={};u=(u.g&&$r(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(C(u[x]))continue;var _=ds(u[x]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[z]||[];g[z]=q,q.push(_)}S(g,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Oo(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,u),this.Za=qr("retryDelaySeedMs",1e4,u),this.Ta=qr("forwardChannelMaxRetries",2,u),this.va=qr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Js(u&&u.concurrentRequestLimit),this.Ba=new Ee,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Oo.prototype,n.ka=8,n.I=1,n.connect=function(u,g,_,x){st(0),this.W=u,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=za(this,null,this.W),Ts(this)};function Vo(u){if(Lo(u),u.I==3){var g=u.V++,_=Tn(u.J);if(Ge(_,"SID",u.M),Ge(_,"RID",g),Ge(_,"TYPE","terminate"),Hr(u,_),g=new xt(u,u.j,g),g.M=2,g.A=_r(Tn(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=g.A,_=!0),_||(g.g=Jl(g.j,null),g.g.ea(g.A)),g.F=Date.now(),fs(g)}eo(u)}function Fn(u){u.g&&(Zi(u),u.g.cancel(),u.g=null)}function Lo(u){Fn(u),u.v&&(c.clearTimeout(u.v),u.v=null),jo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Ts(u){if(!Hi(u.h)&&!u.m){u.m=!0;var g=u.Ea;Oe||b(),ge||(Oe(),ge=!0),R.add(g,u),u.D=0}}function Xl(u,g){return ps(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Mr(v(u.Ea,u,g),Fo(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new xt(this,this.j,u);let q=this.o;if(this.U&&(q?(q=W(q),Ve(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ua(this,z,g),_=Tn(this.J),Ge(_,"RID",u),Ge(_,"CVER",22),this.G&&Ge(_,"X-HTTP-Session-Id",this.G),Hr(this,_),q&&(this.R?g="headers="+Vn(Er(q))+"&"+g:this.u&&xr(_,this.u,q)),Zs(this.h,z),this.Ra&&Ge(_,"TYPE","init"),this.S?(Ge(_,"$req",g),Ge(_,"SID","null"),z.U=!0,pn(z,_,null)):pn(z,_,g),this.I=2}}else this.I==3&&(u?Ji(this,u):this.i.length==0||Hi(this.h)||Ji(this))};function Ji(u,g){var _;g?_=g.l:_=u.V++;const x=Tn(u.J);Ge(x,"SID",u.M),Ge(x,"RID",_),Ge(x,"AID",u.K),Hr(u,x),u.u&&u.o&&xr(x,u.u,u.o),_=new xt(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Ua(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zs(u.h,_),pn(_,x,g)}function Hr(u,g){u.H&&K(u.H,function(_,x){Ge(g,x,_)}),u.l&&K({},function(_,x){Ge(g,x,_)})}function Ua(u,g,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;e:{var z=u.i;let Ne=-1;for(;;){const Tt=["count="+_];Ne==-1?_>0?(Ne=z[0].g,Tt.push("ofs="+Ne)):Ne=0:Tt.push("ofs="+Ne);let tt=!0;for(let Rt=0;Rt<_;Rt++){var q=z[Rt].g;const zn=z[Rt].map;if(q-=Ne,q<0)Ne=Math.max(0,z[Rt].g-100),tt=!1;else try{q="req"+q+"_"||"";try{var se=zn instanceof Map?zn:Object.entries(zn);for(const[Is,Gr]of se){let Kr=Gr;h(Gr)&&(Kr=pr(Gr)),Tt.push(q+Is+"="+encodeURIComponent(Kr))}}catch(Is){throw Tt.push(q+"type="+encodeURIComponent("_badmap")),Is}}catch{x&&x(zn)}}if(tt){se=Tt.join("&");break e}}se=void 0}return u=u.i.splice(0,_),g.G=u,se}function rn(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Oe||b(),ge||(Oe(),ge=!0),R.add(g,u),u.A=0}}function Wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Mr(v(u.Da,u),Fo(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ni(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Mr(v(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),Fn(this),ni(this))};function Zi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function ni(u){u.g=new xt(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Tn(u.na);Ge(g,"RID","rpc"),Ge(g,"SID",u.M),Ge(g,"AID",u.K),Ge(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(g,"TO",u.ia),Ge(g,"TYPE","xmlhttp"),Hr(u,g),u.u&&u.o&&xr(g,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=_r(Tn(g)),_.u=null,_.R=!0,Qs(_,u)}n.Va=function(){this.C!=null&&(this.C=null,Fn(this),Wr(this),st(19))};function jo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function Mo(u,g){var _=null;if(u.g==g){jo(u),Zi(u),u.g=null;var x=2}else if(Wi(u.h,g))_=g.G,ms(u.h,g),x=1;else return;if(u.I!=0){if(g.o)if(x==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var z=u.D;x=Dn(),at(x,new jr(x,_)),Ts(u)}else rn(u);else if(z=g.m,z==3||z==0&&g.X>0||!(x==1&&Xl(u,g)||x==2&&Wr(u)))switch(_&&_.length>0&&(g=u.h,g.i=g.i.concat(_)),z){case 1:Un(u,5);break;case 4:Un(u,10);break;case 3:Un(u,6);break;default:Un(u,2)}}}function Fo(u,g){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*g}function Un(u,g){if(u.j.info("Error code "+g),g==2){var _=v(u.bb,u),x=u.Ua;const z=!x;x=new Zn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gs(x,"https"),_r(x),z?X(x.toString(),_):le(x.toString(),_)}else st(2);u.I=0,u.l&&u.l.pa(g),eo(u),Lo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function eo(u){if(u.I=0,u.ja=[],u.l){const g=At(u.h);(g.length!=0||u.i.length!=0)&&(G(u.ja,g),G(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function za(u,g,_){var x=_ instanceof Zn?Tn(_):new Zn(_);if(x.g!="")g&&(x.g=g+"."+x.g),er(x,x.u);else{var z=c.location;x=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const q=new Zn(null);x&&gs(q,x),g&&(q.g=g),z&&er(q,z),_&&(q.h=_),x=q}return _=u.G,g=u.wa,_&&g&&Ge(x,_,g),Ge(x,"VER",u.ka),Hr(u,x),x}function Jl(u,g,_){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new ke(new ye({ab:_})):new ke(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zl(){}n=Zl.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Uo(){}Uo.prototype.g=function(u,g){return new Gt(u,g)};function Gt(u,g){ht.call(this),this.g=new Oo(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!C(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ri(this)}T(Gt,ht),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Vo(this.g)},Gt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=pr(u),u=_);g.i.push(new ja(g.Ya++,u)),g.I==3&&Ts(g)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,Gt.Z.N.call(this)};function eu(u){cs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(eu,cs);function tu(){Vr.call(this),this.status=1}T(tu,Vr);function ri(u){this.g=u}T(ri,Zl),ri.prototype.ra=function(){at(this.g,"a")},ri.prototype.qa=function(u){at(this.g,new eu(u))},ri.prototype.pa=function(u){at(this.g,new tu)},ri.prototype.oa=function(){at(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,aw=function(){return new Uo},ow=function(){return Dn()},iw=Ut,pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jn.NO_ERROR=0,Jn.TIMEOUT=8,Jn.HTTP_ERROR=6,uc=Jn,gr.COMPLETE="complete",sw=gr,Ws.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ht.prototype.listen=ht.prototype.J,vl=Ws,ke.prototype.listenOnce=ke.prototype.K,ke.prototype.getLastError=ke.prototype.Ha,ke.prototype.getLastErrorCode=ke.prototype.ya,ke.prototype.getStatus=ke.prototype.ca,ke.prototype.getResponseJson=ke.prototype.La,ke.prototype.getResponseText=ke.prototype.la,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Fa,rw=ke}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",qy="4.9.3";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Da="12.7.0";const xo=new Bc("@firebase/firestore");function ua(){return xo.logLevel}function he(n,...e){if(xo.logLevel<=ze.DEBUG){const t=e.map(Zf);xo.debug(`Firestore (${Da}): ${n}`,...t)}}function zs(n,...e){if(xo.logLevel<=ze.ERROR){const t=e.map(Zf);xo.error(`Firestore (${Da}): ${n}`,...t)}}function Ea(n,...e){if(xo.logLevel<=ze.WARN){const t=e.map(Zf);xo.warn(`Firestore (${Da}): ${n}`,...t)}}function Zf(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ce(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,lw(n,s,t)}function lw(n,e,t){let s=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw zs(s),new Error(s)}function Ze(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||lw(e,o,s)}function De(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class x1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class T1{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vo,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vo)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new uw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class I1{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b1{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new I1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const s=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function S1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=S1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Be(n,e){return n<e?-1:n>e?1:0}function mf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return Bh(o)===Bh(l)?Be(o,l):Bh(o)?1:-1}return Be(n.length,e.length)}const C1=55296,A1=57343;function Bh(n){const e=n.charCodeAt(0);return e>=C1&&e<=A1}function xa(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}const Wy="__name__";class es{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ce(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=es.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const s=es.isNumericId(e),o=es.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?es.extractNumericId(e).compare(es.extractNumericId(t)):mf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class yt extends es{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const R1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends es{construct(e,t,s){return new Xt(e,t,s)}static isValidIdentifier(e){return R1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new Xt([Wy])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new _e(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(s+=h,o++):(l(),o++)}if(l(),c)throw new _e(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(yt.fromString(e))}static fromName(e){return new Ie(yt.fromString(e).popFirst(5))}static empty(){return new Ie(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new yt(e.slice()))}}function P1(n,e,t){if(!t)throw new _e(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N1(n,e,t,s){if(e===!0&&s===!0)throw new _e(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gy(n){if(!Ie.isDocumentKey(n))throw new _e(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce(12329,{type:typeof n})}function ga(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tp(n);throw new _e(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Dt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!cw(n))throw new _e(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new _e(ee.INVALID_ARGUMENT,t);return!0}const Ky=-62135596800,Qy=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Qy);return new dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ky)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Dt("string",dt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new dt(0,0))}static max(){return new Pe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function D1(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new dt(t+1,0):new dt(t,s));return new Pi(o,Ie.empty(),e)}function O1(n){return new Pi(n.readTime,n.key,Dl)}class Pi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Pi(Pe.min(),Ie.empty(),Dl)}static max(){return new Pi(Pe.max(),Ie.empty(),Dl)}}function V1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}const L1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Oa(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==L1)throw n;he("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,s)=>{t(e)}))}static reject(e){return new Y(((t,s)=>{s(e)}))}static waitFor(e){return new Y(((t,s)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&t()}),(p=>s(p)))})),c=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next((o=>o?Y.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Y(((s,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const v=p;t(e[v]).next((E=>{c[v]=E,++h,h===l&&s(c)}),(E=>o(E)))}}))}static doWhile(e,t){return new Y(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function M1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Va(n){return n.name==="IndexedDbTransactionError"}class Wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wc.ce=-1;const np=-1;function Gc(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function F1(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const dw="";function U1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yy(e)),e=z1(n.get(t),e);return Yy(e)}function z1(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case dw:t+="";break;default:t+=l}}return t}function Yy(n){return n+dw+""}function Xy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=l??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Yt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(e){return new Jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new Mt(Xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fw("Invalid base64 string: "+l):l}})(e);return new Zt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=B1.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}const pw="server_timestamp",mw="__type__",gw="__previous_value__",yw="__local_write_time__";function rp(n){return(n?.mapValue?.fields||{})[mw]?.stringValue===pw}function Kc(n){const e=n.mapValue.fields[gw];return rp(e)?Kc(e):e}function Ol(n){const e=Ni(n.mapValue.fields[yw].timestampValue);return new dt(e.seconds,e.nanos)}class $1{constructor(e,t,s,o,l,c,h,p,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=E}}const bc="(default)";class Vl{constructor(e,t){this.projectId=e,this.database=t||bc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}const vw="__type__",q1="__max__",Zu={mapValue:{}},_w="__vector__",kc="value";function Oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rp(n)?4:W1(n)?9007199254740991:H1(n)?10:11:Ce(28295,{value:n})}function as(n,e){if(n===e)return!0;const t=Oi(n);if(t!==Oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ni(o.timestampValue),h=Ni(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Di(o.bytesValue).isEqual(Di(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=kt(o.doubleValue),h=kt(l.doubleValue);return c===h?Ic(c)===Ic(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return xa(n.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Xy(c)!==Xy(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!as(c[p],h[p])))return!1;return!0})(n,e);default:return Ce(52216,{left:n})}}function Ll(n,e){return(n.values||[]).find((t=>as(t,e)))!==void 0}function Ta(n,e){if(n===e)return 0;const t=Oi(n),s=Oi(e);if(t!==s)return Be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return Zy(n.timestampValue,e.timestampValue);case 4:return Zy(Ol(n),Ol(e));case 5:return mf(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=Di(l),p=Di(c);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const E=Be(h[v],p[v]);if(E!==0)return E}return Be(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Be(kt(l.latitude),kt(c.latitude));return h!==0?h:Be(kt(l.longitude),kt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ev(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},p=c.fields||{},v=h[kc]?.arrayValue,E=p[kc]?.arrayValue,T=Be(v?.values?.length||0,E?.values?.length||0);return T!==0?T:ev(v,E)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Zu.mapValue&&c===Zu.mapValue)return 0;if(l===Zu.mapValue)return 1;if(c===Zu.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),v=c.fields||{},E=Object.keys(v);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const I=mf(p[T],E[T]);if(I!==0)return I;const F=Ta(h[p[T]],v[E[T]]);if(F!==0)return F}return Be(p.length,E.length)})(n.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function Zy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Ni(n),s=Ni(e),o=Be(t.seconds,s.seconds);return o!==0?o:Be(t.nanos,s.nanos)}function ev(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ta(t[o],s[o]);if(l)return l}return Be(t.length,s.length)}function Ia(n){return gf(n)}function gf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ni(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Di(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=gf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${gf(t.fields[c])}`;return o+"}"})(n.mapValue):Ce(61005,{value:n})}function cc(n){switch(Oi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+cc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ao(s.fields,((l,c)=>{o+=l.length+cc(c)})),o})(n.mapValue);default:throw Ce(13486,{value:n})}}function yf(n){return!!n&&"integerValue"in n}function sp(n){return!!n&&"arrayValue"in n}function tv(n){return!!n&&"nullValue"in n}function nv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dc(n){return!!n&&"mapValue"in n}function H1(n){return(n?.mapValue?.fields||{})[vw]?.stringValue===_w}function Il(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Il(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return{...n}}function W1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===q1}class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!dc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=Xt.emptyPath(),s={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=h.popLast()}c?s[h.lastSegment()]=Il(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());dc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ao(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new ar(Il(this.value))}}function ww(n){const e=[];return Ao(n.fields,((t,s)=>{const o=new Xt([t]);if(dc(s)){const l=ww(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Pr(e)}class dn{constructor(e,t,s,o,l,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new dn(e,0,Pe.min(),Pe.min(),Pe.min(),ar.empty(),0)}static newFoundDocument(e,t,s,o){return new dn(e,1,t,Pe.min(),s,o,0)}static newNoDocument(e,t){return new dn(e,2,t,Pe.min(),Pe.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Pe.min(),Pe.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function rv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(c.referenceValue),t.key):s=Ta(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!as(n.position[t],e.position[t]))return!1;return!0}class Cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function G1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ew{}class jt extends Ew{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Q1(e,t,s):t==="array-contains"?new J1(e,s):t==="in"?new Z1(e,s):t==="not-in"?new eS(e,s):t==="array-contains-any"?new tS(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Y1(e,s):new X1(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ta(t,this.value)):t!==null&&Oi(this.value)===Oi(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ls extends Ew{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ls(e,t)}matches(e){return xw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(n){return n.op==="and"}function Tw(n){return K1(n)&&xw(n)}function K1(n){for(const e of n.filters)if(e instanceof ls)return!1;return!0}function vf(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Ia(n.value);if(Tw(n))return n.filters.map((e=>vf(e))).join(",");{const e=n.filters.map((t=>vf(t))).join(",");return`${n.op}(${e})`}}function Iw(n,e){return n instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&as(s.value,o.value)})(n,e):n instanceof ls?(function(s,o){return o instanceof ls&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,h)=>l&&Iw(c,o.filters[h])),!0):!1})(n,e):void Ce(19439)}function bw(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ia(t.value)}`})(n):n instanceof ls?(function(t){return t.op.toString()+" {"+t.getFilters().map(bw).join(" ,")+"}"})(n):"Filter"}class Q1 extends jt{constructor(e,t,s){super(e,t,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class Y1 extends jt{constructor(e,t){super(e,"in",t),this.keys=kw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class X1 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=kw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kw(n,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class J1 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sp(t)&&Ll(t.arrayValue,this.value)}}class Z1 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class eS extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ll(this.value.arrayValue,t)}}class tS extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ll(this.value.arrayValue,s)))}}class nS{constructor(e,t=null,s=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function iv(n,e=null,t=[],s=[],o=null,l=null,c=null){return new nS(n,e,t,s,o,l,c)}function ip(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>vf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ia(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ia(s))).join(",")),e.Te=t}return e.Te}function op(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!G1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sv(n.startAt,e.startAt)&&sv(n.endAt,e.endAt)}function _f(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Qc{constructor(e,t=null,s=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rS(n,e,t,s,o,l,c,h){return new Qc(n,e,t,s,o,l,c,h)}function ap(n){return new Qc(n)}function ov(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sS(n){return n.collectionGroup!==null}function bl(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mt(Xt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(h=h.add(v.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Cc(l,s))})),t.has(Xt.keyField().canonicalString())||e.Ie.push(new Cc(Xt.keyField(),s))}return e.Ie}function ns(n){const e=De(n);return e.Ee||(e.Ee=iS(e,bl(n))),e.Ee}function iS(n,e){if(n.limitType==="F")return iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Cc(o.field,l)}));const t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function wf(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yc(n,e){return op(ns(n),ns(e))&&n.limitType===e.limitType}function Sw(n){return`${ip(ns(n))}|lt:${n.limitType}`}function ca(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>bw(o))).join(", ")}]`),Gc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ia(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ia(o))).join(",")),`Target(${s})`})(ns(n))}; limitType=${n.limitType})`}function Xc(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of bl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,h,p){const v=rv(c,h,p);return c.inclusive?v<=0:v<0})(s.startAt,bl(s),o)||s.endAt&&!(function(c,h,p){const v=rv(c,h,p);return c.inclusive?v>=0:v>0})(s.endAt,bl(s),o))})(n,e)}function oS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cw(n){return(e,t)=>{let s=!1;for(const o of bl(n)){const l=aS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function aS(n,e,t){const s=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(l,c,h){const p=c.data.field(l),v=h.data.field(l);return p!==null&&v!==null?Ta(p,v):Ce(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:n.dir})}}class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return hw(this.inner)}size(){return this.innerSize}}const lS=new vt(Ie.comparator);function Bs(){return lS}const Aw=new vt(Ie.comparator);function _l(...n){let e=Aw;for(const t of n)e=e.insert(t.key,t);return e}function Rw(n){let e=Aw;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function go(){return kl()}function Pw(){return kl()}function kl(){return new Ro((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uS=new vt(Ie.comparator),cS=new Mt(Ie.comparator);function $e(...n){let e=cS;for(const t of n)e=e.add(t);return e}const dS=new Mt(Be);function hS(){return dS}function lp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function Nw(n){return{integerValue:""+n}}function fS(n,e){return F1(e)?Nw(e):lp(n,e)}class Jc{constructor(){this._=void 0}}function pS(n,e,t){return n instanceof Ac?(function(o,l){const c={fields:{[mw]:{stringValue:pw},[yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&rp(l)&&(l=Kc(l)),l&&(c.fields[gw]=l),{mapValue:c}})(t,e):n instanceof jl?Ow(n,e):n instanceof Ml?Vw(n,e):(function(o,l){const c=Dw(o,l),h=av(c)+av(o.Ae);return yf(c)&&yf(o.Ae)?Nw(h):lp(o.serializer,h)})(n,e)}function mS(n,e,t){return n instanceof jl?Ow(n,e):n instanceof Ml?Vw(n,e):t}function Dw(n,e){return n instanceof Rc?(function(s){return yf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ac extends Jc{}class jl extends Jc{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Lw(e);for(const s of n.elements)t.some((o=>as(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ml extends Jc{constructor(e){super(),this.elements=e}}function Vw(n,e){let t=Lw(e);for(const s of n.elements)t=t.filter((o=>!as(o,s)));return{arrayValue:{values:t}}}class Rc extends Jc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function av(n){return kt(n.integerValue||n.doubleValue)}function Lw(n){return sp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gS(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof jl&&o instanceof jl||s instanceof Ml&&o instanceof Ml?xa(s.elements,o.elements,as):s instanceof Rc&&o instanceof Rc?as(s.Ae,o.Ae):s instanceof Ac&&o instanceof Ac})(n.transform,e.transform)}class yS{constructor(e,t){this.version=e,this.transformResults=t}}class Ms{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ms}static exists(e){return new Ms(void 0,e)}static updateTime(e){return new Ms(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zc{}function jw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fw(n.key,Ms.none()):new Wl(n.key,n.data,Ms.none());{const t=n.data,s=ar.empty();let o=new Mt(Xt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Po(n.key,s,new Pr(o.toArray()),Ms.none())}}function vS(n,e,t){n instanceof Wl?(function(o,l,c){const h=o.value.clone(),p=uv(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Po?(function(o,l,c){if(!hc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=uv(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Mw(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Sl(n,e,t,s){return n instanceof Wl?(function(l,c,h,p){if(!hc(l.precondition,c))return h;const v=l.value.clone(),E=cv(l.fieldTransforms,p,c);return v.setAll(E),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Po?(function(l,c,h,p){if(!hc(l.precondition,c))return h;const v=cv(l.fieldTransforms,p,c),E=c.data;return E.setAll(Mw(l)),E.setAll(v),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(l,c,h){return hc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function _S(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Dw(s.transform,o||null);l!=null&&(t===null&&(t=ar.empty()),t.set(s.field,l))}return t||null}function lv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xa(s,o,((l,c)=>gS(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Zc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Po extends Zc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function uv(n,e,t){const s=new Map;Ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,h=e.data.field(l.field);s.set(l.field,mS(c,h,t[o]))}return s}function cv(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,pS(l,c,e))}return s}class Fw extends Zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wS extends Zc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ES{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&vS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Sl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Sl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Pw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const p=jw(c,h);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,((t,s)=>lv(t,s)))&&xa(this.baseMutations,e.baseMutations,((t,s)=>lv(t,s)))}}class up{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return uS})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new up(e,t,s,o)}}class xS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TS{constructor(e,t){this.count=e,this.unchangedNames=t}}var Nt,We;function IS(n){switch(n){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:n})}}function Uw(n){if(n===void 0)return zs("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Nt.OK:return ee.OK;case Nt.CANCELLED:return ee.CANCELLED;case Nt.UNKNOWN:return ee.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ee.INTERNAL;case Nt.UNAVAILABLE:return ee.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ee.NOT_FOUND;case Nt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Nt.ABORTED:return ee.ABORTED;case Nt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Nt.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:n})}}(We=Nt||(Nt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function bS(){return new TextEncoder}const kS=new Ci([4294967295,4294967295],0);function dv(n){const e=bS().encode(n),t=new nw;return t.update(e),new Uint8Array(t.digest())}function hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ci([t,s],0),new Ci([o,l],0)]}class cp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ci.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ci.fromNumber(s)));return o.compare(kS)===1&&(o=new Ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dv(e),[s,o]=hv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cp(l,o,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=dv(e),[s,o]=hv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ed{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ed(Pe.min(),o,new vt(Be),Bs(),$e())}}class Gl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gl(s,t,$e(),$e(),$e())}}class fc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class zw{constructor(e,t){this.targetId=e,this.Ce=t}}class Bw{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class fv{constructor(){this.ve=0,this.Fe=pv(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),s=$e();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:l})}})),new Gl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=pv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=ec(),this.He=ec(),this.Ye=new vt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(_f(l))if(s===0){const c=new Ie(l.path);this.et(t,c,dn.newNoDocument(c,Pe.min()))}else Ze(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=Di(s).toUint8Array()}catch(p){if(p instanceof fw)return Ea("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new cp(c,o,l)}catch(p){return Ea(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&_f(h.target)){const p=new Ie(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,dn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=$e();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new ed(e,t,this.Ye,this.je,s);return this.je=Bs(),this.Je=ec(),this.He=ec(),this.Ye=new vt(Be),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new fv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Mt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Mt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ec(){return new vt(Ie.comparator)}function pv(){return new vt(Ie.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},AS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RS={and:"AND",or:"OR"};class PS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ef(n,e){return n.useProto3Json||Gc(e)?e:{value:e}}function Pc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $w(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NS(n,e){return Pc(n,e.toTimestamp())}function rs(n){return Ze(!!n,49232),Pe.fromTimestamp((function(t){const s=Ni(t);return new dt(s.seconds,s.nanos)})(n))}function dp(n,e){return xf(n,e).canonicalString()}function xf(n,e){const t=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function qw(n){const e=yt.fromString(n);return Ze(Qw(e),10190,{key:e.toString()}),e}function Tf(n,e){return dp(n.databaseId,e.path)}function $h(n,e){const t=qw(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(Ww(t))}function Hw(n,e){return dp(n.databaseId,e)}function DS(n){const e=qw(n);return e.length===4?yt.emptyPath():Ww(e)}function If(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mv(n,e,t){return{name:Tf(n,e),fields:t.value.mapValue.fields}}function OS(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ce(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,E){return v.useProto3Json?(Ze(E===void 0||typeof E=="string",58123),Zt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zt.fromUint8Array(E||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(v){const E=v.code===void 0?ee.UNKNOWN:Uw(v.code);return new _e(E,v.message||"")})(c);t=new Bw(s,o,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$h(n,s.document.name),l=rs(s.document.updateTime),c=s.document.createTime?rs(s.document.createTime):Pe.min(),h=new ar({mapValue:{fields:s.document.fields}}),p=dn.newFoundDocument(o,l,c,h),v=s.targetIds||[],E=s.removedTargetIds||[];t=new fc(v,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$h(n,s.document),l=s.readTime?rs(s.readTime):Pe.min(),c=dn.newNoDocument(o,l),h=s.removedTargetIds||[];t=new fc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$h(n,s.document),l=s.removedTargetIds||[];t=new fc([],l,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new TS(o,l),h=s.targetId;t=new zw(h,c)}}return t}function VS(n,e){let t;if(e instanceof Wl)t={update:mv(n,e.key,e.value)};else if(e instanceof Fw)t={delete:Tf(n,e.key)};else if(e instanceof Po)t={update:mv(n,e.key,e.data),updateMask:qS(e.fieldMask)};else{if(!(e instanceof wS))return Ce(16599,{Vt:e.type});t={verify:Tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof jl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ml)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rc)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ce(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:NS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(n,e.precondition)),t}function LS(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?rs(o.updateTime):rs(l);return c.isEqual(Pe.min())&&(c=rs(l)),new yS(c,o.transformResults||[])})(t,e)))):[]}function jS(n,e){return{documents:[Hw(n,e.path)]}}function MS(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Hw(n,o);const l=(function(v){if(v.length!==0)return Kw(ls.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(v){if(v.length!==0)return v.map((E=>(function(I){return{field:da(I.field),direction:zS(I.dir)}})(E)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Ef(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function FS(n){let e=DS(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ze(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=(function(T){const I=Gw(T);return I instanceof ls&&Tw(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((I=>(function(G){return new Cc(ha(G.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(t.orderBy));let h=null;t.limit&&(h=(function(T){let I;return I=typeof T=="object"?T.value:T,Gc(I)?null:I})(t.limit));let p=null;t.startAt&&(p=(function(T){const I=!!T.before,F=T.values||[];return new Sc(F,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const I=!T.before,F=T.values||[];return new Sc(F,I)})(t.endAt)),rS(e,o,c,l,h,"F",p,v)}function US(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ha(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ha(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ha(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ha(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(ha(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ls.create(t.compositeFilter.filters.map((s=>Gw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(n):Ce(30097,{filter:n})}function zS(n){return CS[n]}function BS(n){return AS[n]}function $S(n){return RS[n]}function da(n){return{fieldPath:n.canonicalString()}}function ha(n){return Xt.fromServerFormat(n.fieldPath)}function Kw(n){return n instanceof jt?(function(t){if(t.op==="=="){if(nv(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NAN"}};if(tv(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nv(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NAN"}};if(tv(t.value))return{unaryFilter:{field:da(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(t.field),op:BS(t.op),value:t.value}}})(n):n instanceof ls?(function(t){const s=t.getFilters().map((o=>Kw(o)));return s.length===1?s[0]:{compositeFilter:{op:$S(t.op),filters:s}}})(n):Ce(54877,{filter:n})}function qS(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Qw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ti{constructor(e,t,s,o,l=Pe.min(),c=Pe.min(),h=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class HS{constructor(e){this.yt=e}}function WS(n){const e=FS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wf(e,e.limit,"L"):e}class GS{constructor(){this.Cn=new KS}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Pi.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class KS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Mt(yt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(yt.comparator)).toArray()}}const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(Yw,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ba(0)}static cr(){return new ba(-1)}}const yv="LruGarbageCollector",QS=1048576;function vv([n,e],[t,s]){const o=Be(n,t);return o===0?Be(e,s):o}class YS{constructor(e){this.Ir=e,this.buffer=new Mt(vv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(yv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Va(t)?he(yv,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Vr(3e5)}))}}class JS{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Wc.ce);const s=new YS(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(gv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,h,p,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,h=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),ua()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-E}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function ZS(n,e){return new JS(n,e)}class eC{constructor(){this.changes=new Ro((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Sl(s.mutation,o,Pr.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=$e()){const o=go();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=_l();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=go();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,$e())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,o){let l=Bs();const c=kl(),h=(function(){return kl()})();return t.forEach(((p,v)=>{const E=s.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof Po)?l=l.insert(v.key,v):E!==void 0?(c.set(v.key,E.mutation.getFieldMask()),Sl(E.mutation,v,E.mutation.getFieldMask(),dt.now())):c.set(v.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((v,E)=>c.set(v,E))),t.forEach(((v,E)=>h.set(v,new tC(E,c.get(v)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=kl();let o=new vt(((c,h)=>c-h)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let E=s.get(p)||Pr.empty();E=h.applyToLocalView(v,E),s.set(p,E);const T=(o.get(h.batchId)||$e()).add(p);o=o.insert(h.batchId,T)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,E=p.value,T=Pw();E.forEach((I=>{if(!l.has(I)){const F=jw(t.get(I),s.get(I));F!==null&&T.set(I,F),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return Y.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Y.resolve(go());let h=Dl,p=l;return c.next((v=>Y.forEach(v,((E,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(E)?Y.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{p=p.insert(E,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,p,v,$e()))).next((E=>({batchId:h,changes:Rw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((s=>{let o=_l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=_l();return this.indexManager.getCollectionParents(e,l).next((h=>Y.forEach(h,(p=>{const v=(function(T,I){return new Qc(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((E=>{E.forEach(((T,I)=>{c=c.insert(T,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((p,v)=>{const E=v.getKey();c.get(E)===null&&(c=c.insert(E,dn.newInvalidDocument(E)))}));let h=_l();return c.forEach(((p,v)=>{const E=l.get(p);E!==void 0&&Sl(E.mutation,v,Pr.empty(),dt.now()),Xc(t,v)&&(h=h.insert(p,v))})),h}))}}class rC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:rs(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:WS(o.bundledQuery),readTime:rs(o.readTime)}})(t)),Y.resolve()}}class sC{constructor(){this.overlays=new vt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=go();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=go(),l=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new vt(((v,E)=>v-E));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let E=l.get(v.largestBatchId);E===null&&(E=go(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const h=go(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,E)=>h.set(v,E))),!(h.size()>=o)););return Y.resolve(h)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new xS(t,s));let l=this.qr.get(t);l===void 0&&(l=$e(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}class iC{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}class hp{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ie(new yt([])),s=new qt(t,e),o=new qt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new yt([])),s=new qt(t,e),o=new qt(t,e+1);let l=$e();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}class oC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ES(l,t,s,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new qt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const h=this.Xr(c.Yr);l.push(h)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mt(Be);return t.forEach((o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{s=s.add(h.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const c=new qt(new Ie(l),0);let h=new Mt(Be);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(h=h.add(p.Yr)),!0)}),c),Y.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(t.mutations,(o=>{const l=new qt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),o=this.Zr.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aC{constructor(e){this.ri=e,this.docs=(function(){return new vt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let s=Bs();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():dn.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Bs();const c=t.path,h=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:E}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||V1(O1(E),s)<=0||(o.has(E.key)||Xc(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ce(9500)}ii(e,t){return Y.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new lC(this)}getSize(e){return Y.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class uC{constructor(e){this.persistence=e,this.si=new Ro((t=>ip(t)),op),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new hp,this.targetCount=0,this.ai=ba.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ba(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}class Xw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wc(0),this.li=!1,this.li=!0,this.hi=new iC,this.referenceDelegate=e(this),this.Pi=new uC(this),this.indexManager=new GS,this.remoteDocumentCache=(function(o){return new aC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new HS(t),this.Ii=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new oC(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new cC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class cC extends j1{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Vi=null}static mi(e){return new fp(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const o=Ie.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nc{constructor(e,t){this.persistence=e,this.pi=new Ro((s=>U1(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZS(this,t)}static mi(e,t){return new Nc(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((h=>{h||(s++,l.removeEntry(c,Pe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}br(e,t,s){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class pp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=$e(),o=$e();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new pp(e,t.fromCache,s,o)}}class dC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MT()?8:M1(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dC;return this.Ss(e,t,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(ua()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ca(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ua()<=ze.DEBUG&&he("QueryEngine","Query:",ca(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ua()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ca(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(t))):Y.resolve())}ys(e,t){if(ov(t))return Y.resolve(null);let s=ns(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=wf(t,null,"F"),s=ns(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=$e(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.Ds(t,h);return this.Cs(t,v,c,p.readTime)?this.ys(e,wf(t,null,"F")):this.vs(e,v,t,p)}))))})))))}ws(e,t,s,o){return ov(t)||o.isEqual(Pe.min())?Y.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?Y.resolve(null):(ua()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ca(t)),this.vs(e,c,t,D1(o,Dl)).next((h=>h)))}))}Ds(e,t){let s=new Mt(Cw(e));return t.forEach(((o,l)=>{Xc(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return ua()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ca(t)),this.ps.getDocumentsMatchingQuery(e,t,Pi.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const mp="LocalStore",fC=3e8;class pC{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(Be),this.xs=new Ro((l=>ip(l)),op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function mC(n,e,t,s){return new pC(n,e,t,s)}async function Jw(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=$e();for(const v of o){c.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}for(const v of l){h.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Ls:v,removedBatchIds:c,addedBatchIds:h})))}))}))}function gC(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,v,E){const T=v.batch,I=T.keys();let F=Y.resolve();return I.forEach((G=>{F=F.next((()=>E.getEntry(p,G))).next((H=>{const U=v.docVersions.get(G);Ze(U!==null,48541),H.version.compareTo(U)<0&&(T.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))}))})),F.next((()=>h.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=$e();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Zw(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function yC(n,e){const t=De(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((E,T)=>{const I=o.get(T);if(!I)return;h.push(t.Pi.removeMatchingKeys(l,E.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,E.addedDocuments,T))));let F=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?F=F.withResumeToken(Zt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,s)),o=o.insert(T,F),(function(H,U,ae){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=fC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(I,F,E)&&h.push(t.Pi.updateTargetData(l,F))}));let p=Bs(),v=$e();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))})),h.push(vC(l,c,e.documentUpdates).next((E=>{p=E.ks,v=E.qs}))),!s.isEqual(Pe.min())){const E=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(E)}return Y.waitFor(h).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,v))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function vC(n,e,t){let s=$e(),o=$e();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=Bs();return t.forEach(((h,p)=>{const v=l.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):he(mp,"Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function _C(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=np),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wC(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,Y.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new Ti(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function bf(n,e,t){const s=De(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Va(c))throw c;he(mp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _v(n,e,t){const s=De(n);let o=Pe.min(),l=$e();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,v,E){const T=De(p),I=T.xs.get(E);return I!==void 0?Y.resolve(T.Ms.get(I)):T.Pi.getTargetData(v,E)})(s,c,ns(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Pe.min(),t?l:$e()))).next((h=>(EC(s,oS(e),h),{documents:h,Qs:l})))))}function EC(n,e,t){let s=n.Os.get(e)||Pe.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class wv{constructor(){this.activeTargetIds=hS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xC{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TC{Oo(e){}shutdown(){}}const Ev="ConnectivityMonitor";class xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tc=null;function kf(){return tc===null?tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():tc++,"0x"+tc.toString(16)}const qh="RestConnection",IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=kf(),h=this.zo(e,t.toUriEncodedString());he(qh,`Sending RPC '${e}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:v}=new URL(h),E=Ra(v);return this.Jo(e,h,p,s,E).then((T=>(he(qh,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ea(qh,`RPC '${e}' ${c} failed with error: `,T,"url: ",h,"request:",s),T}))}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Da})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=IC[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class kC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class SC extends bC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=kf();return new Promise(((h,p)=>{const v=new rw;v.setWithCredentials(!0),v.listenOnce(sw.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case uc.NO_ERROR:const T=v.getResponseJson();he(un,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),h(T);break;case uc.TIMEOUT:he(un,`RPC '${e}' ${c} timed out`),p(new _e(ee.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const I=v.getStatus();if(he(un,`RPC '${e}' ${c} failed with status:`,I,"response text:",v.getResponseText()),I>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const G=F?.error;if(G&&G.status&&G.message){const H=(function(ae){const te=ae.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(te)>=0?te:ee.UNKNOWN})(G.status);p(new _e(H,G.message))}else p(new _e(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new _e(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{he(un,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);he(un,`RPC '${e}' ${c} sending request:`,o),v.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=kf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aw(),h=ow(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");he(un,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=c.createWebChannel(E,p);this.I_(T);let I=!1,F=!1;const G=new kC({Yo:U=>{F?he(un,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(I||(he(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),he(un,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),H=(U,ae,te)=>{U.listen(ae,(ie=>{try{te(ie)}catch(we){setTimeout((()=>{throw we}),0)}}))};return H(T,vl.EventType.OPEN,(()=>{F||(he(un,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),H(T,vl.EventType.CLOSE,(()=>{F||(F=!0,he(un,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),H(T,vl.EventType.ERROR,(U=>{F||(F=!0,Ea(un,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),G.a_(new _e(ee.UNAVAILABLE,"The operation could not be completed")))})),H(T,vl.EventType.MESSAGE,(U=>{if(!F){const ae=U.data[0];Ze(!!ae,16349);const te=ae,ie=te?.error||te[0]?.error;if(ie){he(un,`RPC '${e}' stream ${o} received error:`,ie);const we=ie.status;let Oe=(function(b){const A=Nt[b];if(A!==void 0)return Uw(A)})(we),ge=ie.message;Oe===void 0&&(Oe=ee.INTERNAL,ge="Unknown error status: "+we+" with message "+ie.message),F=!0,G.a_(new _e(Oe,ge)),T.close()}else he(un,`RPC '${e}' stream ${o} received:`,ae),G.u_(ae)}})),H(h,iw.STAT_EVENT,(U=>{U.stat===pf.PROXY?he(un,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===pf.NOPROXY&&he(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Hh(){return typeof document<"u"?document:null}function td(n){return new PS(n,!0)}class e0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tv="PersistentStream";class t0{constructor(e,t,s,o,l,c,h,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new _e(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CC extends t0{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=OS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?rs(c.readTime):Pe.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=If(this.serializer),t.addTarget=(function(l,c){let h;const p=c.target;if(h=_f(p)?{documents:jS(l,p)}:{query:MS(l,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=$w(l,c.resumeToken);const v=Ef(l,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(Pe.min())>0){h.readTime=Pc(l,c.snapshotVersion.toTimestamp());const v=Ef(l,c.expectedCount);v!==null&&(h.expectedCount=v)}return h})(this.serializer,e);const s=US(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.q_(t)}}class AC extends t0{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LS(e.writeResults,e.commitTime),s=rs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=If(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>VS(this.serializer,s)))};this.q_(t)}}class RC{}class PC extends RC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,xf(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ee.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,xf(t,s),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const To="RemoteStore";class DC{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{No(this)&&(he(To,"Restarting streams for network reachability change."),await(async function(p){const v=De(p);v.Ea.add(4),await Kl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await nd(v)})(this))}))})),this.Ra=new NC(s,o)}}async function nd(n){if(No(n))for(const e of n.da)await e(!0)}async function Kl(n){for(const e of n.da)await e(!1)}function n0(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_p(t)?vp(t):La(t).O_()&&yp(t,e))}function gp(n,e){const t=De(n),s=La(t);t.Ia.delete(e),s.O_()&&r0(t,e),t.Ia.size===0&&(s.O_()?s.L_():No(t)&&t.Ra.set("Unknown"))}function yp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}La(n).Y_(e)}function r0(n,e){n.Va.Ue(e),La(n).Z_(e)}function vp(n){n.Va=new SS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),La(n).start(),n.Ra.ua()}function _p(n){return No(n)&&!La(n).x_()&&n.Ia.size>0}function No(n){return De(n).Ea.size===0}function s0(n){n.Va=void 0}async function OC(n){n.Ra.set("Online")}async function VC(n){n.Ia.forEach(((e,t)=>{yp(n,e)}))}async function LC(n,e){s0(n),_p(n)?(n.Ra.ha(e),vp(n)):n.Ra.set("Unknown")}async function jC(n,e,t){if(n.Ra.set("Online"),e instanceof Bw&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(n,e)}catch(s){he(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(n,s)}else if(e instanceof fc?n.Va.Ze(e):e instanceof zw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const s=await Zw(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ia.get(v);E&&l.Ia.set(v,E.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,v)=>{const E=l.Ia.get(p);if(!E)return;l.Ia.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),r0(l,p);const T=new Ti(E.target,p,v,E.sequenceNumber);yp(l,T)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){he(To,"Failed to raise snapshot:",s),await Dc(n,s)}}async function Dc(n,e,t){if(!Va(e))throw e;n.Ea.add(1),await Kl(n),n.Ra.set("Offline"),t||(t=()=>Zw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(To,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await nd(n)}))}function i0(n,e){return e().catch((t=>Dc(n,t,e)))}async function rd(n){const e=De(n),t=Vi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;MC(e);)try{const o=await _C(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,FC(e,o)}catch(o){await Dc(e,o)}o0(e)&&a0(e)}function MC(n){return No(n)&&n.Ta.length<10}function FC(n,e){n.Ta.push(e);const t=Vi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function o0(n){return No(n)&&!Vi(n).x_()&&n.Ta.length>0}function a0(n){Vi(n).start()}async function UC(n){Vi(n).ra()}async function zC(n){const e=Vi(n);for(const t of n.Ta)e.ea(t.mutations)}async function BC(n,e,t){const s=n.Ta.shift(),o=up.from(s,e,t);await i0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await rd(n)}async function $C(n,e){e&&Vi(n).X_&&await(async function(s,o){if((function(c){return IS(c)&&c!==ee.ABORTED})(o.code)){const l=s.Ta.shift();Vi(s).B_(),await i0(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await rd(s)}})(n,e),o0(n)&&a0(n)}async function Iv(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),he(To,"RemoteStore received new credentials");const s=No(t);t.Ea.add(3),await Kl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await nd(t)}async function qC(n,e){const t=De(n);e?(t.Ea.delete(2),await nd(t)):e||(t.Ea.add(2),await Kl(t),t.Ra.set("Unknown"))}function La(n){return n.ma||(n.ma=(function(t,s,o){const l=De(t);return l.sa(),new CC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:OC.bind(null,n),t_:VC.bind(null,n),r_:LC.bind(null,n),H_:jC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),_p(n)?vp(n):n.Ra.set("Unknown")):(await n.ma.stop(),s0(n))}))),n.ma}function Vi(n){return n.fa||(n.fa=(function(t,s,o){const l=De(t);return l.sa(),new AC(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,n),r_:$C.bind(null,n),ta:zC.bind(null,n),na:BC.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await rd(n)):(await n.fa.stop(),n.Ta.length>0&&(he(To,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class wp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,h=new wp(e,t,c,o,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(n,e){if(zs("AsyncQueue",`${e}: ${n}`),Va(n))return new _e(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class ya{static emptySet(e){return new ya(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ie.comparator(t.key,s.key):(t,s)=>Ie.comparator(t.key,s.key),this.keyedMap=_l(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ya;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class bv{constructor(){this.ga=new vt(Ie.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ka{constructor(e,t,s,o,l,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new ka(e,t,ya.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class HC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WC{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),l=o.queries;o.queries=kv(),l.forEach(((c,h)=>{for(const p of h.Sa)p.onError(s)}))})(this,new _e(ee.ABORTED,"Firestore shutting down"))}}function kv(){return new Ro((n=>Sw(n)),Yc)}async function GC(n,e){const t=De(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new HC,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Ep(c,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&xp(t)}async function KC(n,e){const t=De(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function QC(n,e){const t=De(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.Sa)h.Fa(o)&&(s=!0);c.wa=o}}s&&xp(t)}function YC(n,e,t){const s=De(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function xp(n){n.Ca.forEach((e=>{e.next()}))}var Sf,Sv;(Sv=Sf||(Sf={})).Ma="default",Sv.Cache="cache";class XC{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ka(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sf.Cache}}class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class JC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=Cw(e),this.tu=new ya(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new bv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const I=o.get(E),F=Xc(this.query,T)?T:null,G=!!I&&this.mutatedKeys.has(I.key),H=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let U=!1;I&&F?I.data.isEqual(F.data)?G!==H&&(s.track({type:3,doc:F}),U=!0):this.su(I,F)||(s.track({type:2,doc:F}),U=!0,(p&&this.eu(F,p)>0||v&&this.eu(F,v)<0)&&(h=!0)):!I&&F?(s.track({type:0,doc:F}),U=!0):I&&!F&&(s.track({type:1,doc:I}),U=!0,(p||v)&&(h=!0)),U&&(F?(c=c.add(F),l=H?l.add(E):l.delete(E)):(c=c.delete(E),l=l.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{tu:c,iu:s,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,T)=>(function(F,G){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:U})}};return H(F)-H(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,v=p!==this.Za;return this.Za=p,c.length!==0||v?{snapshot:new ka(this.query,e.tu,l,c,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new u0(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new l0(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class ZC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class eA{constructor(e){this.key=e,this.hu=!1}}class tA{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ro((h=>Sw(h)),Yc),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Ie.comparator),this.Au=new Map,this.Ru=new hp,this.Vu={},this.mu=new Map,this.fu=ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nA(n,e,t=!0){const s=m0(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await c0(s,e,t,!0),o}async function rA(n,e){const t=m0(n);await c0(t,e,!0,!1)}async function c0(n,e,t,s){const o=await wC(n.localStore,ns(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return s&&(h=await sA(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&n0(n.remoteStore,o),h}async function sA(n,e,t,s,o){n.pu=(T,I,F)=>(async function(H,U,ae,te){let ie=U.view.ru(ae);ie.Cs&&(ie=await _v(H.localStore,U.query,!1).then((({documents:R})=>U.view.ru(R,ie))));const we=te&&te.targetChanges.get(U.targetId),Oe=te&&te.targetMismatches.get(U.targetId)!=null,ge=U.view.applyChanges(ie,H.isPrimaryClient,we,Oe);return Av(H,U.targetId,ge.au),ge.snapshot})(n,T,I,F);const l=await _v(n.localStore,e,!0),c=new JC(e,l.Qs),h=c.ru(l.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=c.applyChanges(h,n.isPrimaryClient,p);Av(n,t,v.au);const E=new ZC(e,t,c);return n.Tu.set(e,E),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function iA(n,e,t){const s=De(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Yc(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&gp(s.remoteStore,o.targetId),Cf(s,o.targetId)})).catch(Oa)):(Cf(s,o.targetId),await bf(s.localStore,o.targetId,!0))}async function oA(n,e){const t=De(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gp(t.remoteStore,s.targetId))}async function aA(n,e,t){const s=pA(n);try{const o=await(function(c,h){const p=De(c),v=dt.now(),E=h.reduce(((F,G)=>F.add(G.key)),$e());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let G=Bs(),H=$e();return p.Ns.getEntries(F,E).next((U=>{G=U,G.forEach(((ae,te)=>{te.isValidDocument()||(H=H.add(ae))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,G))).next((U=>{T=U;const ae=[];for(const te of h){const ie=_S(te,T.get(te.key).overlayedDocument);ie!=null&&ae.push(new Po(te.key,ie,ww(ie.value.mapValue),Ms.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,ae,h)})).next((U=>{I=U;const ae=U.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(F,U.batchId,ae)}))})).then((()=>({batchId:I.batchId,changes:Rw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let v=c.Vu[c.currentUser.toKey()];v||(v=new vt(Be)),v=v.insert(h,p),c.Vu[c.currentUser.toKey()]=v})(s,o.batchId,t),await Ql(s,o.changes),await rd(s.remoteStore)}catch(o){const l=Ep(o,"Failed to persist write");t.reject(l)}}async function d0(n,e){const t=De(n);try{const s=await yC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ze(c.hu,14607):o.removedDocuments.size>0&&(Ze(c.hu,42227),c.hu=!1))})),await Ql(t,s,e)}catch(s){await Oa(s)}}function Cv(n,e,t){const s=De(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=De(c);p.onlineState=h;let v=!1;p.queries.forEach(((E,T)=>{for(const I of T.Sa)I.va(h)&&(v=!0)})),v&&xp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lA(n,e,t){const s=De(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new vt(Ie.comparator);c=c.insert(l,dn.newNoDocument(l,Pe.min()));const h=$e().add(l),p=new ed(Pe.min(),new Map,new vt(Be),c,h);await d0(s,p),s.du=s.du.remove(l),s.Au.delete(e),Ip(s)}else await bf(s.localStore,e,!1).then((()=>Cf(s,e,t))).catch(Oa)}async function uA(n,e){const t=De(n),s=e.batch.batchId;try{const o=await gC(t.localStore,e);f0(t,s,null),h0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ql(t,o)}catch(o){await Oa(o)}}async function cA(n,e,t){const s=De(n);try{const o=await(function(c,h){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return p.mutationQueue.lookupMutationBatch(v,h).next((T=>(Ze(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(v,T)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,E,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>p.localDocuments.getDocuments(v,E)))}))})(s.localStore,e);f0(s,e,t),h0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ql(s,o)}catch(o){await Oa(o)}}function h0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function f0(n,e,t){const s=De(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||p0(n,s)}))}function p0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(gp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ip(n))}function Av(n,e,t){for(const s of t)s instanceof l0?(n.Ru.addReference(s.key,e),dA(n,s)):s instanceof u0?(he(Tp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||p0(n,s.key)):Ce(19791,{wu:s})}function dA(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(he(Tp,"New document in limbo: "+t),n.Eu.add(s),Ip(n))}function Ip(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(yt.fromString(e)),s=n.fu.next();n.Au.set(s,new eA(t)),n.du=n.du.insert(t,s),n0(n.remoteStore,new Ti(ns(ap(t.path)),s,"TargetPurposeLimboResolution",Wc.ce))}}async function Ql(n,e,t){const s=De(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,p)=>{c.push(s.pu(p,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const E=v?!v.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(v){o.push(v);const E=pp.As(p.targetId,v);l.push(E)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,v){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Y.forEach(v,(I=>Y.forEach(I.Es,(F=>E.persistence.referenceDelegate.addReference(T,I.targetId,F))).next((()=>Y.forEach(I.ds,(F=>E.persistence.referenceDelegate.removeReference(T,I.targetId,F)))))))))}catch(T){if(!Va(T))throw T;he(mp,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const F=E.Ms.get(I),G=F.snapshotVersion,H=F.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(I,H)}}})(s.localStore,l))}async function hA(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){he(Tp,"User change. New user:",e.toKey());const s=await Jw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new _e(ee.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ql(t,s.Ls)}}function fA(n,e){const t=De(n),s=t.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const h=t.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function m0(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.Pu.H_=QC.bind(null,e.eventManager),e.Pu.yu=YC.bind(null,e.eventManager),e}function pA(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cA.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return mC(this.persistence,new hC,e.initialUser,this.serializer)}Cu(e){return new Xw(fp.mi,this.serializer)}Du(e){return new xC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class mA extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Nc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XS(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Xw((s=>Nc.mi(s,t)),this.serializer)}}class Af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WC})()}createDatastore(e){const t=td(e.databaseInfo.databaseId),s=(function(l){return new SC(l)})(e.databaseInfo);return(function(l,c,h,p){return new PC(l,c,h,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,h){return new DC(s,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Cv(this.syncEngine,t,0)),(function(){return xv.v()?new xv:new TC})())}createSyncEngine(e,t){return(function(o,l,c,h,p,v,E){const T=new tA(o,l,c,h,p,v);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);he(To,"RemoteStore shutting down."),s.Ea.add(5),await Kl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Af.provider={build:()=>new Af};class gA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Li="FirestoreClient";class yA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{he(Li,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(Li,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ep(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wh(n,e){n.asyncQueue.verifyOperationInProgress(),he(Li,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Jw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Rv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vA(n);he(Li,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Iv(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Iv(e.remoteStore,o))),n._onlineComponents=e}async function vA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Li,"Using user provided OfflineComponentProvider");try{await Wh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ea("Error using user provided cache. Falling back to memory cache: "+t),await Wh(n,new Oc)}}else he(Li,"Using default OfflineComponentProvider"),await Wh(n,new mA(void 0));return n._offlineComponents}async function g0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Li,"Using user provided OnlineComponentProvider"),await Rv(n,n._uninitializedComponentsProvider._online)):(he(Li,"Using default OnlineComponentProvider"),await Rv(n,new Af))),n._onlineComponents}function _A(n){return g0(n).then((e=>e.syncEngine))}async function Pv(n){const e=await g0(n),t=e.eventManager;return t.onListen=nA.bind(null,e.syncEngine),t.onUnlisten=iA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oA.bind(null,e.syncEngine),t}function y0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Nv=new Map;const v0="firestore.googleapis.com",Dv=!0;class Ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v0,this.ssl=Dv}else this.host=e.host,this.ssl=e.ssl??Dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QS)throw new _e(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new E1;switch(s.type){case"firstParty":return new b1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Nv.get(t);s&&(he("ComponentProvider","Removing Datastore"),Nv.delete(t),s.terminate())})(this),Promise.resolve()}}function wA(n,e,t,s={}){n=ga(n,bp);const o=Ra(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;o&&(p_(`https://${h}`),m_("Firestore",!0)),l.host!==v0&&l.host!==h&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:o,emulatorOptions:s};if(!Ri(p,c)&&(n._setSettings(p),s.mockUserToken)){let v,E;if(typeof s.mockUserToken=="string")v=s.mockUserToken,E=cn.MOCK_USER;else{v=RT(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new _e(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(T)}n._authCredentials=new x1(new uw(v,E))}}class sd{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sd(this.firestore,e,this._query)}}class Ht{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Hl(t,Ht._jsonSchema))return new Ht(e,s||null,new Ie(yt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Dt("string",Ht._jsonSchemaVersion),referencePath:Dt("string")};class Fl extends sd{constructor(e,t,s){super(e,t,ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ie(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function nc(n,e,...t){if(n=Jt(n),arguments.length===1&&(e=ep.newId()),P1("doc","path",e),n instanceof bp){const s=yt.fromString(e,...t);return Gy(s),new Ht(n,null,new Ie(s))}{if(!(n instanceof Ht||n instanceof Fl))throw new _e(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(yt.fromString(e,...t));return Gy(s),new Ht(n.firestore,n instanceof Fl?n.converter:null,new Ie(s))}}const Vv="AsyncQueue";class Lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e0(this,"async_queue_retry"),this._c=()=>{const s=Hh();s&&he(Vv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Hh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Hh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Va(e))throw e;he(Vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",jv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=wp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Mv(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Vc extends bp{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lv(e),this._firestoreClient=void 0,await e}}}function EA(n,e){const t=typeof n=="object"?n:Bf(),s=typeof n=="string"?n:bc,o=Co(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=CT("firestore");l&&wA(o,...l)}return o}function _0(n){if(n._terminated)throw new _e(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xA(n),n._firestoreClient}function xA(n){const e=n._freezeSettings(),t=(function(o,l,c,h){return new $1(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,y0(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new yA(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(Zt.fromBase64String(e))}catch(t){throw new _e(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Dt("string",lr._jsonSchemaVersion),bytes:Dt("string")};class kp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w0{constructor(e){this._methodName=e}}class ss{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ss._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,ss._jsonSchema))return new ss(e.latitude,e.longitude)}}ss._jsonSchemaVersion="firestore/geoPoint/1.0",ss._jsonSchema={type:Dt("string",ss._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class is{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new is(e.vectorValues);throw new _e(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Dt("string",is._jsonSchemaVersion),vectorValues:Dt("object")};const TA=/^__.*__$/;class IA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}function E0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:n})}}class Sp{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E0(this.Ac)&&TA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||td(e)}Cc(e,t,s,o=!1){return new Sp({Ac:e,methodName:t,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kA(n){const e=n._freezeSettings(),t=td(n._databaseId);return new bA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SA(n,e,t,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);b0("Data must be an object, but it was:",c,s);const h=T0(s,c);let p,v;if(l.merge)p=new Pr(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const I=CA(e,T,t);if(!c.contains(I))throw new _e(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);RA(E,I)||E.push(I)}p=new Pr(E),v=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,v=c.fieldTransforms;return new IA(new ar(h),p,v)}function x0(n,e){if(I0(n=Jt(n)))return b0("Unsupported field value:",e,n),T0(n,e);if(n instanceof w0)return(function(s,o){if(!E0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const h of s){let p=x0(h,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=dt.fromDate(s);return{timestampValue:Pc(o.serializer,l)}}if(s instanceof dt){const l=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Pc(o.serializer,l)}}if(s instanceof ss)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof lr)return{bytesValue:$w(o.serializer,s._byteString)};if(s instanceof Ht){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof is)return(function(c,h){return{mapValue:{fields:{[vw]:{stringValue:_w},[kc]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw h.Sc("VectorValues must only contain numeric values.");return lp(h.serializer,v)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tp(s)}`)})(n,e)}function T0(n,e){const t={};return hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,((s,o)=>{const l=x0(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function I0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof ss||n instanceof lr||n instanceof Ht||n instanceof w0||n instanceof is)}function b0(n,e,t){if(!I0(t)||!cw(t)){const s=tp(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function CA(n,e,t){if((e=Jt(e))instanceof kp)return e._internalPath;if(typeof e=="string")return k0(n,e);throw Lc("Field path arguments must be of type string or ",n,!1,void 0,t)}const AA=new RegExp("[~\\*/\\[\\]]");function k0(n,e,t){if(e.search(AA)>=0)throw Lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kp(...e.split("."))._internalPath}catch{throw Lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lc(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new _e(ee.INVALID_ARGUMENT,h+n+p)}function RA(n,e){return n.some((t=>t.isEqual(e)))}class S0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(C0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PA extends S0{data(){return super.data()}}function C0(n,e){return typeof e=="string"?k0(n,e):e instanceof kp?e._internalPath:e._delegate._internalPath}function NA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DA{convertValue(e,t="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ao(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[kc].arrayValue?.values?.map((s=>kt(s.doubleValue)));return new is(t)}convertGeoPoint(e){return new ss(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Kc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);Ze(Qw(s),9688,{name:e});const o=new Vl(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return o.isEqual(t)||zs(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function OA(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends S0{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(C0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_o._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Dt("string",_o._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class pc extends _o{data(e={}){return super.data(e)}}class va{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new pc(this._firestore,this._userDataWriter,s.key,s,new El(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const p=new pc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new El(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new pc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new El(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return h.type!==0&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),E=c.indexOf(h.doc.key)),{type:VA(h.type),doc:p,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:n})}}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Dt("string",va._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class A0 extends DA{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function Fv(n,e,t){n=ga(n,Ht);const s=ga(n.firestore,Vc),o=OA(n.converter,e,t);return LA(s,[SA(kA(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ms.none())])}function Uv(n,...e){n=Jt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Mv(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Mv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let l,c,h;if(n instanceof Ht)c=ga(n.firestore,Vc),h=ap(n._key.path),l={next:p=>{e[s]&&e[s](jA(c,n,p))},error:e[s+1],complete:e[s+2]};else{const p=ga(n,sd);c=ga(p.firestore,Vc),h=p._query;const v=new A0(c);l={next:E=>{e[s]&&e[s](new va(c,v,p,E))},error:e[s+1],complete:e[s+2]},NA(n._query)}return(function(v,E,T,I){const F=new gA(I),G=new XC(E,F,T);return v.asyncQueue.enqueueAndForget((async()=>GC(await Pv(v),G))),()=>{F.Nu(),v.asyncQueue.enqueueAndForget((async()=>KC(await Pv(v),G)))}})(_0(c),h,o,l)}function LA(n,e){return(function(s,o){const l=new vo;return s.asyncQueue.enqueueAndForget((async()=>aA(await _A(s),o,l))),l.promise})(_0(n),e)}function jA(n,e,t){const s=t.docs.get(e._key),o=new A0(n);return new _o(n,o,e._key,s,new El(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Da=o})(Pa),os(new Dr("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Vc(new T1(s.getProvider("auth-internal")),new k1(c,s.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new _e(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(v.options.projectId,E)})(c,o),c);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ur($y,qy,e),ur($y,qy,"esm2020")})();const R0="@firebase/installations",Cp="0.6.19";const P0=1e4,N0=`w:${Cp}`,D0="FIS_v2",MA="https://firebaseinstallations.googleapis.com/v1",FA=3600*1e3,UA="installations",zA="Installations";const BA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Io=new So(UA,zA,BA);function O0(n){return n instanceof Or&&n.code.includes("request-failed")}function V0({projectId:n}){return`${MA}/projects/${n}/installations`}function L0(n){return{token:n.token,requestStatus:2,expiresIn:qA(n.expiresIn),creationTime:Date.now()}}async function j0(n,e){const s=(await e.json()).error;return Io.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function M0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function $A(n,{refreshToken:e}){const t=M0(n);return t.append("Authorization",HA(e)),t}async function F0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qA(n){return Number(n.replace("s","000"))}function HA(n){return`${D0} ${n}`}async function WA({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=V0(n),o=M0(n),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:t,authVersion:D0,appId:n.appId,sdkVersion:N0},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await F0(()=>fetch(s,h));if(p.ok){const v=await p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:L0(v.authToken)}}else throw await j0("Create Installation",p)}function U0(n){return new Promise(e=>{setTimeout(e,n)})}function GA(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const KA=/^[cdef][\w-]{21}$/,Rf="";function QA(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=YA(n);return KA.test(t)?t:Rf}catch{return Rf}}function YA(n){return GA(n).substr(0,22)}function id(n){return`${n.appName}!${n.appId}`}const z0=new Map;function B0(n,e){const t=id(n);$0(t,e),XA(t,e)}function $0(n,e){const t=z0.get(n);if(t)for(const s of t)s(e)}function XA(n,e){const t=JA();t&&t.postMessage({key:n,fid:e}),ZA()}let yo=null;function JA(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=n=>{$0(n.data.key,n.data.fid)}),yo}function ZA(){z0.size===0&&yo&&(yo.close(),yo=null)}const eR="firebase-installations-database",tR=1,bo="firebase-installations-store";let Gh=null;function Ap(){return Gh||(Gh=__(eR,tR,{upgrade:(n,e)=>{e===0&&n.createObjectStore(bo)}})),Gh}async function jc(n,e){const t=id(n),o=(await Ap()).transaction(bo,"readwrite"),l=o.objectStore(bo),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&B0(n,e.fid),e}async function q0(n){const e=id(n),s=(await Ap()).transaction(bo,"readwrite");await s.objectStore(bo).delete(e),await s.done}async function od(n,e){const t=id(n),o=(await Ap()).transaction(bo,"readwrite"),l=o.objectStore(bo),c=await l.get(t),h=e(c);return h===void 0?await l.delete(t):await l.put(h,t),await o.done,h&&(!c||c.fid!==h.fid)&&B0(n,h.fid),h}async function Rp(n){let e;const t=await od(n.appConfig,s=>{const o=nR(s),l=rR(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Rf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function nR(n){const e=n||{fid:QA(),registrationStatus:0};return H0(e)}function rR(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Io.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=sR(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iR(n)}:{installationEntry:e}}async function sR(n,e){try{const t=await WA(n,e);return jc(n.appConfig,t)}catch(t){throw O0(t)&&t.customData.serverCode===409?await q0(n.appConfig):await jc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function iR(n){let e=await zv(n.appConfig);for(;e.registrationStatus===1;)await U0(100),e=await zv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Rp(n);return s||t}return e}function zv(n){return od(n,e=>{if(!e)throw Io.create("installation-not-found");return H0(e)})}function H0(n){return oR(n)?{fid:n.fid,registrationStatus:0}:n}function oR(n){return n.registrationStatus===1&&n.registrationTime+P0<Date.now()}async function aR({appConfig:n,heartbeatServiceProvider:e},t){const s=lR(n,t),o=$A(n,t),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:N0,appId:n.appId}},h={method:"POST",headers:o,body:JSON.stringify(c)},p=await F0(()=>fetch(s,h));if(p.ok){const v=await p.json();return L0(v)}else throw await j0("Generate Auth Token",p)}function lR(n,{fid:e}){return`${V0(n)}/${e}/authTokens:generate`}async function Pp(n,e=!1){let t;const s=await od(n.appConfig,l=>{if(!W0(l))throw Io.create("not-registered");const c=l.authToken;if(!e&&dR(c))return l;if(c.requestStatus===1)return t=uR(n,e),l;{if(!navigator.onLine)throw Io.create("app-offline");const h=fR(l);return t=cR(n,h),h}});return t?await t:s.authToken}async function uR(n,e){let t=await Bv(n.appConfig);for(;t.authToken.requestStatus===1;)await U0(100),t=await Bv(n.appConfig);const s=t.authToken;return s.requestStatus===0?Pp(n,e):s}function Bv(n){return od(n,e=>{if(!W0(e))throw Io.create("not-registered");const t=e.authToken;return pR(t)?{...e,authToken:{requestStatus:0}}:e})}async function cR(n,e){try{const t=await aR(n,e),s={...e,authToken:t};return await jc(n.appConfig,s),t}catch(t){if(O0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await q0(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await jc(n.appConfig,s)}throw t}}function W0(n){return n!==void 0&&n.registrationStatus===2}function dR(n){return n.requestStatus===2&&!hR(n)}function hR(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+FA}function fR(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function pR(n){return n.requestStatus===1&&n.requestTime+P0<Date.now()}async function mR(n){const e=n,{installationEntry:t,registrationPromise:s}=await Rp(e);return s?s.catch(console.error):Pp(e).catch(console.error),t.fid}async function gR(n,e=!1){const t=n;return await yR(t),(await Pp(t,e)).token}async function yR(n){const{registrationPromise:e}=await Rp(n);e&&await e}function vR(n){if(!n||!n.options)throw Kh("App Configuration");if(!n.name)throw Kh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Kh(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Kh(n){return Io.create("missing-app-config-values",{valueName:n})}const G0="installations",_R="installations-internal",wR=n=>{const e=n.getProvider("app").getImmediate(),t=vR(e),s=Co(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ER=n=>{const e=n.getProvider("app").getImmediate(),t=Co(e,G0).getImmediate();return{getId:()=>mR(t),getToken:o=>gR(t,o)}};function xR(){os(new Dr(G0,wR,"PUBLIC")),os(new Dr(_R,ER,"PRIVATE"))}xR();ur(R0,Cp);ur(R0,Cp,"esm2020");const Mc="analytics",TR="firebase_id",IR="origin",bR=60*1e3,kR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Np="https://www.googletagmanager.com/gtag/js";const _n=new Bc("@firebase/analytics");const SR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wn=new So("analytics","Analytics",SR);function CR(n){if(!n.startsWith(Np)){const e=Wn.create("invalid-gtag-resource",{gtagURL:n});return _n.warn(e.message),""}return n}function K0(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function AR(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function RR(n,e){const t=AR("firebase-js-sdk-policy",{createScriptURL:CR}),s=document.createElement("script"),o=`${Np}?l=${n}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function PR(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function NR(n,e,t,s,o,l){const c=s[o];try{if(c)await e[c];else{const p=(await K0(t)).find(v=>v.measurementId===o);p&&await e[p.appId]}}catch(h){_n.error(h)}n("config",o,l)}async function DR(n,e,t,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const h=await K0(t);for(const p of c){const v=h.find(T=>T.measurementId===p),E=v&&e[v.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,o||{})}catch(l){_n.error(l)}}function OR(n,e,t,s){async function o(l,...c){try{if(l==="event"){const[h,p]=c;await DR(n,e,t,h,p)}else if(l==="config"){const[h,p]=c;await NR(n,e,t,s,h,p)}else if(l==="consent"){const[h,p]=c;n("consent",h,p)}else if(l==="get"){const[h,p,v]=c;n("get",h,p,v)}else if(l==="set"){const[h]=c;n("set",h)}else n(l,...c)}catch(h){_n.error(h)}}return o}function VR(n,e,t,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=OR(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function LR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Np)&&t.src.includes(n))return t;return null}const jR=30,MR=1e3;class FR{constructor(e={},t=MR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Q0=new FR;function UR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function zR(n){const{appId:e,apiKey:t}=n,s={method:"GET",headers:UR(t)},o=kR.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();h.error?.message&&(c=h.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function BR(n,e=Q0,t){const{appId:s,apiKey:o,measurementId:l}=n.options;if(!s)throw Wn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw Wn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new HR;return setTimeout(async()=>{h.abort()},bR),Y0({appId:s,apiKey:o,measurementId:l},c,h,e)}async function Y0(n,{throttleEndTimeMillis:e,backoffCount:t},s,o=Q0){const{appId:l,measurementId:c}=n;try{await $R(s,e)}catch(h){if(c)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw h}try{const h=await zR(n);return o.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!qR(p)){if(o.deleteThrottleMetadata(l),c)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw h}const v=Number(p?.customData?.httpStatus)===503?py(t,o.intervalMillis,jR):py(t,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(l,E),_n.debug(`Calling attemptFetch again in ${v} millis`),Y0(n,E,s,o)}}function $R(n,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),s(Wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qR(n){if(!(n instanceof Or)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class HR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WR(n,e,t,s,o){if(o&&o.global){n("event",t,s);return}else{const l=await e,c={...s,send_to:l};n("event",t,c)}}async function GR(n,e,t,s){if(s&&s.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}async function KR(){if(Ff())try{await Uf()}catch(n){return _n.warn(Wn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return _n.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QR(n,e,t,s,o,l,c){const h=BR(n);h.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>_n.error(I)),e.push(h);const p=KR().then(I=>{if(I)return s.getId()}),[v,E]=await Promise.all([h,p]);LR(l)||RR(l,v.measurementId),o("js",new Date);const T=c?.config??{};return T[IR]="firebase",T.update=!0,E!=null&&(T[TR]=E),o("config",v.measurementId,T),v.measurementId}class YR{constructor(e){this.app=e}_delete(){return delete _a[this.app.options.appId],Promise.resolve()}}let _a={},$v=[];const qv={};let Qh="dataLayer",XR="gtag",Hv,Dp,Wv=!1;function JR(){const n=[];if(Mf()&&n.push("This is a browser extension environment."),g_()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Wn.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}function ZR(n,e,t){JR();const s=n.options.appId;if(!s)throw Wn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wn.create("no-api-key");if(_a[s]!=null)throw Wn.create("already-exists",{id:s});if(!Wv){PR(Qh);const{wrappedGtag:l,gtagCore:c}=VR(_a,$v,qv,Qh,XR);Dp=l,Hv=c,Wv=!0}return _a[s]=QR(n,$v,qv,e,Hv,Qh,t),new YR(n)}function eP(n=Bf()){n=Jt(n);const e=Co(n,Mc);return e.isInitialized()?e.getImmediate():tP(n)}function tP(n,e={}){const t=Co(n,Mc);if(t.isInitialized()){const o=t.getImmediate();if(Ri(e,t.getOptions()))return o;throw Wn.create("already-initialized")}return t.initialize({options:e})}async function nP(){if(Mf()||!g_()||!Ff())return!1;try{return await Uf()}catch{return!1}}function rP(n,e,t){n=Jt(n),GR(Dp,_a[n.app.options.appId],e,t).catch(s=>_n.error(s))}function sP(n,e,t,s){n=Jt(n),WR(Dp,_a[n.app.options.appId],e,t,s).catch(o=>_n.error(o))}const Gv="@firebase/analytics",Kv="0.10.19";function iP(){os(new Dr(Mc,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return ZR(s,o,t)},"PUBLIC")),os(new Dr("analytics-internal",n,"PRIVATE")),ur(Gv,Kv),ur(Gv,Kv,"esm2020");function n(e){try{const t=e.getProvider(Mc).getImmediate();return{logEvent:(s,o,l)=>sP(t,s,o,l),setUserProperties:(s,o)=>rP(t,s,o)}}catch(t){throw Wn.create("interop-component-reg-failed",{reason:t})}}}iP();const oP={apiKey:"AIzaSyAgKnkhu_dcjcbXsl1GVWOXYoY-CmhMwZ4",authDomain:"qa-verify-and-ttack.firebaseapp.com",projectId:"qa-verify-and-ttack",storageBucket:"qa-verify-and-ttack.firebasestorage.app",messagingSenderId:"656737115796",appId:"1:656737115796:web:779252a25a44df70001e81",measurementId:"G-RBKTZGBYV9"},Op=w_(oP),Sa=_1(Op),rc=EA(Op),aP=new Os;nP().then(n=>{n&&eP(Op)});const Ai={signInWithGoogle:async()=>{try{return(await Ck(Sa,aP)).user}catch(n){throw console.error("Error signing in with Google",n),n}},subscribeToRepos:(n,e)=>{const t=nc(rc,"user_settings",n);return Uv(t,s=>{if(s.exists()){const o=s.data();e(o.repos||[])}else e([])})},subscribeToGlobalSettings:(n,e)=>{const t=nc(rc,"user_settings",n);return Uv(t,s=>{if(s.exists()){const o=s.data();e(o.globalSettings||{})}else e({})})},saveUserRepos:async(n,e)=>{const t=nc(rc,"user_settings",n);await Fv(t,{repos:e},{merge:!0})},saveGlobalSettings:async(n,e)=>{const t=nc(rc,"user_settings",n);await Fv(t,{globalSettings:e},{merge:!0})}},lP=()=>"AIzaSyAwG-Ss1YRx9xkiKk9WTysfD3Oyn8Zv8Cs";let sc=null;const Qv=async()=>{if(sc)return sc;const n=lP(),{GoogleGenAI:e}=await nf(async()=>{const{GoogleGenAI:t}=await import("./index-C4XZfPoY.js");return{GoogleGenAI:t}},[],import.meta.url);return sc=new e({apiKey:n}),sc},Yv={analyzeIssue:async(n,e)=>{const t=await Qv();if(!t)return"AI analysis disabled (no Gemini API key configured). Add VITE_GEMINI_API_KEY to .env.local to enable.";try{return(await t.models.generateContent({model:"gemini-3-flash-preview",contents:`You are a QA Lead. Analyze this bug report and provide 3 concise bullet points: 1) Potential root cause, 2) Key verification step, 3) Severity assessment.

Bug: ${n}
Details: ${e}`,config:{temperature:.2}})).text||"No analysis available."}catch(s){return console.error("AI Analysis failed",s),"Unable to analyze issue at this time. Please check your network or API key."}},generateTests:async(n,e)=>{const t=await Qv();if(!t)return["Verify login functionality","Check user profile update","Test checkout flow (Mock)"];try{return((await t.models.generateContent({model:"gemini-3-flash-preview",contents:`You are a QA Lead. Generate a checklist of 5-10 essential functional verification tests for a software project named "${n}" with the following description/context: "${e}". Return ONLY the list of tests, one per line, without numbering or bullets.`,config:{temperature:.4}})).text||"").split(`
`).map(l=>l.replace(/^[-*\d\.]+\s+/,"").trim()).filter(Boolean)}catch(s){return console.error("AI Test Generation failed",s),[]}}},Fc=[{id:"pulse-green",name:"Pulse Green",colors:{primary:"#12d622",primaryHover:"#0fa61c",backgroundLight:"#e8efe8",backgroundDark:"#0b1b0f",surfaceDark:"#0f1f12",surfaceDarkLighter:"#132618",inputDark:"#152b1a"}},{id:"cyber-blue",name:"Cyber Blue",colors:{primary:"#00e5ff",primaryHover:"#00b8d4",backgroundLight:"#e0f7fa",backgroundDark:"#001a1f",surfaceDark:"#00252b",surfaceDarkLighter:"#00333b",inputDark:"#00363d"}},{id:"crimson-red",name:"Crimson Red",colors:{primary:"#ff1744",primaryHover:"#d50000",backgroundLight:"#ffebee",backgroundDark:"#1a0505",surfaceDark:"#2b0b0b",surfaceDarkLighter:"#3b1212",inputDark:"#4a1515"}},{id:"royal-purple",name:"Royal Purple",colors:{primary:"#d500f9",primaryHover:"#aa00ff",backgroundLight:"#f3e5f5",backgroundDark:"#1a051a",surfaceDark:"#2b0b2b",surfaceDarkLighter:"#3b123b",inputDark:"#4a154a"}},{id:"sunset-orange",name:"Sunset Orange",colors:{primary:"#ff9100",primaryHover:"#ff6d00",backgroundLight:"#fff3e0",backgroundDark:"#1a1005",surfaceDark:"#2b1a0b",surfaceDarkLighter:"#3b2512",inputDark:"#4a3015"}},{id:"teal-ocean",name:"Teal Ocean",colors:{primary:"#1de9b6",primaryHover:"#00bfa5",backgroundLight:"#e0f2f1",backgroundDark:"#001a18",surfaceDark:"#002b26",surfaceDarkLighter:"#003b34",inputDark:"#004a42"}},{id:"golden-hour",name:"Golden Hour",colors:{primary:"#ffc400",primaryHover:"#ffab00",backgroundLight:"#fff8e1",backgroundDark:"#1a1605",surfaceDark:"#2b240b",surfaceDarkLighter:"#3b3112",inputDark:"#4a3e15"}},{id:"pink-neon",name:"Pink Neon",colors:{primary:"#ff4081",primaryHover:"#f50057",backgroundLight:"#fce4ec",backgroundDark:"#1a050e",surfaceDark:"#2b0b18",surfaceDarkLighter:"#3b1222",inputDark:"#4a152a"}},{id:"monochrome",name:"Monochrome",colors:{primary:"#ffffff",primaryHover:"#e0e0e0",backgroundLight:"#f5f5f5",backgroundDark:"#000000",surfaceDark:"#121212",surfaceDarkLighter:"#1e1e1e",inputDark:"#2c2c2c"}},{id:"nature",name:"Nature",colors:{primary:"#76ff03",primaryHover:"#64dd17",backgroundLight:"#f1f8e9",backgroundDark:"#0f1a05",surfaceDark:"#182b0b",surfaceDarkLighter:"#223b12",inputDark:"#2a4a15"}},{id:"berry",name:"Berry",colors:{primary:"#f50057",primaryHover:"#c51162",backgroundLight:"#f8bbd0",backgroundDark:"#1a000a",surfaceDark:"#2b0011",surfaceDarkLighter:"#3b0017",inputDark:"#4a001e"}},{id:"slate",name:"Slate",colors:{primary:"#64b5f6",primaryHover:"#42a5f5",backgroundLight:"#e3f2fd",backgroundDark:"#0d1b26",surfaceDark:"#152b3b",surfaceDarkLighter:"#1e3a4f",inputDark:"#264a63"}},{id:"midnight",name:"Midnight",colors:{primary:"#536dfe",primaryHover:"#304ffe",backgroundLight:"#e8eaf6",backgroundDark:"#050a1a",surfaceDark:"#0b122b",surfaceDarkLighter:"#121b3b",inputDark:"#18244a"}},{id:"coffee",name:"Coffee",colors:{primary:"#d7ccc8",primaryHover:"#bcaaa4",backgroundLight:"#efebe9",backgroundDark:"#1a1412",surfaceDark:"#2b211e",surfaceDarkLighter:"#3b2e2a",inputDark:"#4a3b36"}},{id:"lavender",name:"Lavender",colors:{primary:"#ea80fc",primaryHover:"#e040fb",backgroundLight:"#f3e5f5",backgroundDark:"#1a0d1a",surfaceDark:"#2b152b",surfaceDarkLighter:"#3b1d3b",inputDark:"#4a254a"}}],Ii={applyTheme:n=>{const e=Fc.find(s=>s.id===n)||Fc[0],t=document.documentElement;t.style.setProperty("--color-primary",e.colors.primary),t.style.setProperty("--color-primary-hover",e.colors.primaryHover),t.style.setProperty("--color-background-light",e.colors.backgroundLight),t.style.setProperty("--color-background-dark",e.colors.backgroundDark),t.style.setProperty("--color-surface-dark",e.colors.surfaceDark),t.style.setProperty("--color-surface-dark-lighter",e.colors.surfaceDarkLighter),t.style.setProperty("--color-input-dark",e.colors.inputDark),localStorage.setItem("theme-preference",n)},getSavedThemeId:()=>localStorage.getItem("theme-preference")||"pulse-green",setDarkMode:n=>{const e=document.documentElement;n?(e.classList.add("dark"),localStorage.setItem("theme-mode","dark")):(e.classList.remove("dark"),localStorage.setItem("theme-mode","light"))},getSavedMode:()=>{const n=localStorage.getItem("theme-mode");return n?n==="dark":!0}},uP=({isOpen:n,onClose:e,userId:t})=>{const[s,o]=j.useState(""),l=`notes_${t}`,c=1e4;j.useEffect(()=>{if(n)try{const p=localStorage.getItem(l);o(p||"")}catch(p){console.error("Unable to read notes from local storage",p),o("")}},[n,t,l]),j.useEffect(()=>{const p=v=>{v.key==="Escape"&&e()};return n&&window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[n,e]);const h=p=>{let v=p.target.value;v.length>c&&(v=v.substring(0,c)),o(v);try{localStorage.setItem(l,v)}catch(E){console.error("Unable to save notes to local storage",E)}};return n?y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-surface-dark rounded-lg shadow-2xl w-full max-w-md mx-4",role:"dialog","aria-modal":"true","aria-labelledby":"notes-modal-title",children:[y.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-white/10",children:[y.jsx("h2",{id:"notes-modal-title",className:"text-lg font-bold",children:"Notes"}),y.jsx("button",{onClick:e,"aria-label":"Close Notes",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsx("textarea",{value:s,onChange:h,maxLength:c,className:"w-full h-64 bg-input-dark p-4 text-white resize-none focus:outline-none focus:ring-2 focus:ring-primary/50",placeholder:"Jot down your notes here...",autoFocus:!0,"aria-labelledby":"notes-modal-title","aria-describedby":"notes-char-count"}),y.jsxs("div",{id:"notes-char-count",className:"px-4 pb-4 text-right text-xs text-gray-500",children:[s.length,"/",c]})]})}):null},cP=j.memo(({issue:n,repoId:e,isBusy:t,isAnalyzing:s,analysisResult:o,onFixed:l,onOpen:c,onBlock:h,onAnalyze:p,onAutoFix:v,autoFixAvailable:E})=>y.jsxs("article",{className:"relative flex flex-col gap-1.5 rounded-lg bg-white dark:bg-surface-dark-lighter/80 p-2 shadow-sm border border-gray-100 dark:border-white/10 animate-fade-in",children:[y.jsx("div",{className:"flex items-start justify-between gap-2.5",children:y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:`font-bold text-xs tracking-tight flex items-center gap-1 uppercase ${n.priority==="critical"?"text-red-500":n.priority==="high"?"text-orange-500":"text-blue-400"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-[14px] fill-1",children:n.priority==="critical"?"error":"flag"}),n.priority]}),y.jsxs("span",{className:"text-gray-500 dark:text-gray-500 text-[11px] font-medium",children:["#",n.number]})]}),y.jsx(wa,{to:`/issue/${e}/${n.number}`,className:"text-base font-semibold text-slate-900 dark:text-white leading-snug hover:text-primary",children:n.title})]})}),y.jsx("div",{className:"bg-gray-50 dark:bg-black/30 rounded-lg p-1.5",children:y.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-200 line-clamp-3 font-mono leading-snug",children:n.description})}),o&&y.jsxs("div",{className:"bg-primary/10 border border-primary/25 rounded-lg p-2 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center gap-1 mb-1 text-primary",children:[y.jsx("span",{className:"material-symbols-outlined text-[15px]",children:"smart_toy"}),y.jsx("span",{className:"text-[11px] font-bold uppercase",children:"Gemini Analysis"})]}),y.jsx("p",{className:"text-[11px] text-slate-800 dark:text-gray-100 whitespace-pre-wrap leading-relaxed",children:o})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-1.5 mt-0.5",children:[y.jsxs("button",{disabled:t,onClick:()=>l(n.id,n.number),className:"col-span-1 flex flex-col items-center justify-center gap-1 h-9 rounded-lg bg-primary text-black font-semibold text-[11px] shadow-[0_2px_8px_rgba(19,236,37,0.25)] active:scale-95 transition-transform disabled:opacity-50",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"check_circle"}),"Fixed"]}),y.jsxs("button",{disabled:t,onClick:()=>c(n.id,n.number),className:"col-span-1 flex flex-col items-center justify-center gap-1 h-9 rounded-lg bg-orange-500 text-white font-semibold text-[11px] shadow-[0_2px_8px_rgba(249,115,22,0.25)] active:scale-95 transition-transform disabled:opacity-50",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"warning"}),"Open"]}),y.jsxs("button",{disabled:t,onClick:()=>h(n),className:"col-span-1 flex flex-col items-center justify-center gap-1 h-9 rounded-lg bg-red-600 text-white font-semibold text-[11px] shadow-[0_2px_8px_rgba(220,38,38,0.25)] active:scale-95 transition-transform disabled:opacity-50",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"block"}),"Blocked"]}),y.jsxs("button",{onClick:()=>p(n),disabled:s,className:"col-span-1 flex flex-col items-center justify-center gap-1 h-9 rounded-lg bg-blue-600/10 dark:bg-blue-500/10 text-blue-600 dark:text-blue-300 border border-blue-600/20 dark:border-blue-500/25 font-semibold text-[11px] active:scale-95 transition-transform disabled:opacity-50",children:[s?y.jsx("span",{className:"size-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"analytics"}),"Analyze"]})]}),E&&v&&y.jsx("div",{className:"mt-2",children:y.jsxs("button",{onClick:()=>v(n),disabled:t,className:"w-full flex items-center justify-center gap-2 h-9 rounded-lg bg-purple-600 text-white font-semibold text-xs shadow-[0_2px_8px_rgba(147,51,234,0.3)] active:scale-95 transition-transform disabled:opacity-50 hover:bg-purple-700",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"auto_fix_high"}),"Auto Fix & Publish"]})})]})),dP=n=>n.map(e=>({...e,apps:(e.apps||[]).map((t,s)=>({...t,id:t.id||`${e.id||e.name||"repo"}-app-${s}`,platform:t.platform||"android",buildNumber:(t.buildNumber??"1").toString().trim()||"1"})),tests:e.tests||[]})),Yh=n=>{if(!n)return null;const e=n.match(/(\d+)/);if(!e)return null;const t=parseInt(e[1],10);return Number.isNaN(t)?null:t},ad=(n,e)=>n.useCustomToken===!1?e?.globalGithubToken||n.githubToken||"":n.githubToken||e?.globalGithubToken||"",Vp=({onNotesClick:n})=>y.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-background-light/80 dark:bg-background-dark/90 backdrop-blur-lg border-t border-gray-200 dark:border-white/10 z-50 pb-safe",children:y.jsxs("div",{className:"flex items-center justify-around h-16 max-w-md mx-auto",children:[y.jsxs(wa,{to:"/",className:"flex flex-col items-center justify-center w-16 h-full gap-1 text-primary group",children:[y.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"grid_view"}),y.jsx("span",{className:"text-[10px] font-bold",children:"Projects"})]}),y.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center w-16 h-full gap-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors","aria-label":"Open Notes",children:[y.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"description"}),y.jsx("span",{className:"text-[10px] font-medium",children:"Notes"})]}),y.jsxs(wa,{to:"/config",className:"flex flex-col items-center justify-center w-16 h-full gap-1 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"settings"}),y.jsx("span",{className:"text-[10px] font-medium",children:"Config"})]})]})}),hP=()=>{const[n,e]=j.useState(!0),[t,s]=j.useState(""),[o,l]=j.useState(""),[c,h]=j.useState(""),[p,v]=j.useState(!1),E=async I=>{I.preventDefault(),h(""),v(!0);try{n?await sk(Sa,t,o):await rk(Sa,t,o)}catch(F){h(F.message.replace("Firebase: ",""))}finally{v(!1)}},T=async()=>{try{await Ai.signInWithGoogle()}catch(I){h(I.message)}};return y.jsx("div",{className:"min-h-screen bg-background-dark flex items-center justify-center p-6",children:y.jsxs("div",{className:"w-full max-w-sm space-y-8 animate-fade-in",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("div",{className:"inline-flex items-center justify-center size-16 rounded-2xl bg-primary/20 text-primary mb-4 shadow-[0_0_15px_var(--color-primary)]",children:y.jsx("span",{className:"material-symbols-outlined text-4xl",children:"monitor_heart"})}),y.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"QA Verify & Track"}),y.jsx("p",{className:"text-gray-400",children:"Sync your testing workflow across all devices."})]}),y.jsxs("div",{className:"bg-surface-dark p-6 rounded-2xl border border-white/5 space-y-6",children:[c&&y.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-400 text-sm rounded-lg",children:c}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"email",className:"text-xs uppercase font-bold text-gray-500",children:"Email"}),y.jsx("input",{id:"email",value:t,onChange:I=>s(I.target.value),type:"email",required:!0,className:"w-full bg-input-dark border-transparent rounded-lg p-3 text-white focus:ring-primary focus:border-primary",placeholder:"qa@acme.inc"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"password",className:"text-xs uppercase font-bold text-gray-500",children:"Password"}),y.jsx("input",{id:"password",value:o,onChange:I=>l(I.target.value),type:"password",required:!0,className:"w-full bg-input-dark border-transparent rounded-lg p-3 text-white focus:ring-primary focus:border-primary",placeholder:""})]}),y.jsx("button",{disabled:p,className:"w-full bg-primary text-black font-bold h-12 rounded-lg hover:bg-primary-hover transition-colors disabled:opacity-50",children:p?"Processing...":n?"Sign In":"Create Account"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-white/10"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-surface-dark px-2 text-gray-500",children:"Or continue with"})})]}),y.jsxs("button",{onClick:T,className:"w-full bg-white text-black font-bold h-12 rounded-lg hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Google"]}),y.jsx("div",{className:"text-center",children:y.jsx("button",{onClick:()=>e(!n),className:"text-primary text-sm hover:underline",children:n?"Need an account? Sign up":"Already have an account? Sign in"})})]})]})})},fP=({repos:n,user:e,globalSettings:t,onNotesClick:s})=>{const[o,l]=j.useState({});return j.useEffect(()=>{let c=!0;const h=async()=>{const p={};await Promise.all(n.map(async v=>{const E=ad(v,t);if(E)try{const[T,I]=await Promise.all([Me.getOpenIssueCount(v.owner,v.name,E),Me.getOpenPullRequestCount(v.owner,v.name,E)]);p[v.id]={issues:T,prs:I}}catch(T){console.error(`Failed to fetch stats for ${v.owner}/${v.name}`,T)}})),c&&l(p)};return n.length>0?h():l({}),()=>{c=!1}},[n,t]),y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-20",children:[y.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md p-4 pb-2 border-b border-gray-200 dark:border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{className:"relative group cursor-pointer rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background-light dark:focus-visible:ring-offset-background-dark",onClick:()=>lk(Sa),"aria-label":"Sign out",title:"Sign out",children:[y.jsx("img",{src:e.photoURL||`https://ui-avatars.com/api/?name=${e.email}`,className:"size-10 rounded-full border-2 border-transparent hover:border-primary transition-colors bg-surface-dark",alt:"Profile"}),y.jsx("div",{className:"absolute bottom-0 right-0 size-3 bg-primary rounded-full border-2 border-background-light dark:border-background-dark"})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight",children:"My Projects"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium truncate max-w-[150px]",children:e.email})]})]}),y.jsx(wa,{to:"/config","aria-label":"Add new repository",className:"flex items-center justify-center size-10 rounded-full bg-white/5 hover:bg-white/10 text-primary border border-primary/20 transition-all",children:y.jsx("span",{className:"material-symbols-outlined font-bold",children:"add_link"})})]}),y.jsx("main",{className:"flex-1 flex flex-col gap-5 p-4",children:n.length===0?y.jsxs("div",{className:"text-center py-20 opacity-60",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"move_to_inbox"}),y.jsx("p",{className:"text-lg font-bold",children:"No Projects Found"}),y.jsx("p",{className:"text-sm",children:"Go to Config to add your first repo."})]}):n.map(c=>y.jsx("div",{className:"group flex flex-col gap-0 rounded-xl bg-white dark:bg-[#1a2e1c] shadow-md hover:shadow-lg transition-shadow overflow-hidden border border-gray-100 dark:border-white/5",children:y.jsxs("div",{className:"p-3 flex items-start justify-between",children:[y.jsxs("div",{className:"flex flex-col gap-0.5",children:[y.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"folder_open"}),y.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:c.apps[0]?.platform||"Generic"})]}),y.jsxs("h3",{className:"text-lg font-bold leading-tight group-hover:text-primary transition-colors",children:[c.displayName||c.name,y.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["(",c.owner,"/",c.name,")"]})]}),y.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[y.jsx("span",{className:"relative flex h-2 w-2",children:y.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})}),y.jsxs("p",{className:"text-primary text-xs font-bold",children:["Build #",c.apps[0]?.buildNumber]})]}),y.jsxs("div",{className:"flex items-center gap-3 text-[11px] text-gray-500 dark:text-gray-400 mt-1",children:[y.jsxs("span",{children:["Issues: ",y.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:o[c.id]?.issues??""})]}),y.jsxs("span",{children:["PRs: ",y.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:o[c.id]?.prs??""})]})]})]}),y.jsx(wa,{to:`/dashboard?repo=${c.id}`,"aria-label":"View repository dashboard",className:"flex items-center justify-center size-10 rounded-full bg-gray-100 dark:bg-[#253827] text-primary",children:y.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})})]})},c.id))}),y.jsx(Vp,{onNotesClick:s})]})},pP=({repos:n,setRepos:e,user:t,globalSettings:s,setGlobalSettings:o})=>{const l=Mi(),[c]=jf(),h=c.get("repo"),[p,v]=j.useState("list"),[E,T]=j.useState(null),[I,F]=j.useState(!1),[G,H]=j.useState(""),[U,ae]=j.useState(s||{}),[te,ie]=j.useState({name:"",owner:"",displayName:"",githubToken:"",apps:[]}),[we,Oe]=j.useState(Ii.getSavedThemeId()),[ge,R]=j.useState(Ii.getSavedMode()),b=K=>{Ii.applyTheme(K),Oe(K)},A=()=>{const K=!ge;Ii.setDarkMode(K),R(K)};j.useEffect(()=>{ae(s||{})},[s]);const O=te.useCustomToken!==!1,D=K=>{K?(T(K.id),ie({...K,useCustomToken:K.useCustomToken!==!1})):(T(null),ie({id:Date.now().toString(),name:"",owner:"",displayName:"",githubToken:"",useCustomToken:!0,apps:[{id:Date.now().toString(),name:"New App",platform:"android",buildNumber:"1"}],projects:[],templates:[]})),v("edit")};j.useEffect(()=>{if(!h||n.length===0||E===h&&p==="edit")return;const K=n.find(S=>S.id===h);K&&D(K)},[h,n,E,p]);const L=()=>{const K={id:Date.now().toString(),name:"",platform:"android",buildNumber:"1"};ie(S=>({...S,apps:[...S.apps||[],K]}))},C=(K,S,W)=>{const ce=[...te.apps||[]];ce[K]={...ce[K],[S]:W},ie(Ve=>({...Ve,apps:ce}))},Ye=K=>{const S=[...te.apps||[]];S.splice(K,1),ie(W=>({...W,apps:S}))},pt=async()=>{if(!te.name||!te.owner){H("Owner and repo name are required.");return}if(!/^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$/i.test(te.owner)){H("Invalid owner name. Use only alphanumeric characters and single hyphens.");return}if(!/^[\w.-]+$/.test(te.name)){H("Invalid repository name. Use only alphanumeric characters, underscores, hyphens, and periods.");return}if(te.useCustomToken!==!1&&te.githubToken&&/\s/.test(te.githubToken)){H("Token must not contain whitespace.");return}H(""),F(!0);try{let W;E?W=n.map(ce=>ce.id===E?{...ce,...te}:ce):W=[...n,{...te,isConnected:!0}],e(W),await Ai.saveUserRepos(t.uid,W),v("list")}catch(W){console.error("Failed to save repository",W),H(W?.message||"Failed to save. Check your network or Firebase rules.")}finally{F(!1)}},Et=async()=>{if(E){H(""),F(!0);try{const K=n.filter(S=>S.id!==E);e(K),await Ai.saveUserRepos(t.uid,K),v("list")}catch(K){console.error("Failed to delete repository",K),H(K?.message||"Failed to delete. Check your network or Firebase rules.")}finally{F(!1)}}},Xe=()=>{H(""),F(!1),ae(s||{}),v("global")},oe=async()=>{H(""),F(!0);try{const K={...U};o(K),await Ai.saveGlobalSettings(t.uid,K),v("list")}catch(K){console.error("Failed to save global settings",K),H(K?.message||"Failed to save global settings.")}finally{F(!1)}};return p==="list"?y.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen pb-safe",children:[y.jsx("header",{className:"sticky top-0 z-20 flex items-center justify-between p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-white/5",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>l(-1),"aria-label":"Go back",className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),y.jsx("h1",{className:"text-lg font-bold",children:"Configuration"})]})}),y.jsxs("main",{className:"p-4 space-y-6",children:[y.jsxs("section",{className:"space-y-4",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h2",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Appearance"})}),y.jsxs("div",{className:"p-4 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Dark Mode"}),y.jsx("button",{onClick:A,className:`w-12 h-6 rounded-full p-1 transition-colors ${ge?"bg-primary":"bg-gray-300"}`,children:y.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${ge?"translate-x-6":""}`})})]}),y.jsxs("div",{className:"space-y-2 qavt-theme-picker",children:[y.jsx("label",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Theme Color"}),y.jsx("div",{className:"grid grid-cols-5 gap-3 qavt-theme-grid",children:Fc.map(K=>y.jsx("button",{onClick:()=>b(K.id),className:`qavt-theme-swatch w-full aspect-square rounded-lg border-2 ${we===K.id?"border-slate-900 dark:border-white scale-110":"border-transparent"} transition-all shadow-sm`,style:{backgroundColor:K.colors.primary},title:K.name},K.id))}),y.jsx("p",{className:"text-center text-xs text-gray-500 mt-1",children:Fc.find(K=>K.id===we)?.name})]})]})]}),y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Global GitHub"}),y.jsxs("button",{onClick:Xe,className:"text-xs flex items-center gap-1 bg-black/5 dark:bg-white/5 px-2 py-1 rounded text-slate-900 dark:text-white hover:bg-black/10 dark:hover:bg-white/10",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"settings"}),"Edit"]})]}),y.jsxs("div",{className:"p-4 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5 space-y-2",children:[y.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"GitHub PAT"}),y.jsx("p",{className:"text-xs text-gray-500",children:s?.globalGithubToken?"Set (used when repo token is disabled)":"Not set"})]})]}),y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xs uppercase text-gray-500 font-bold tracking-wider",children:"Repositories"}),y.jsxs("button",{onClick:()=>D(),className:"flex items-center gap-1 bg-primary text-black px-3 py-1.5 rounded-lg text-sm font-bold",children:[y.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})," New"]})]}),n.map(K=>y.jsxs("div",{onClick:()=>D(K),className:"p-4 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5 flex justify-between items-center cursor-pointer active:scale-[0.99] transition-transform",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:K.displayName||K.name}),y.jsxs("p",{className:"text-xs text-gray-500",children:[K.owner,"/",K.name]})]}),y.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"edit"})]},K.id))]})]})]}):p==="global"?y.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen pb-safe",children:[y.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>v("list"),"aria-label":"Close global settings",className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"close"})}),y.jsx("h1",{className:"text-lg font-bold",children:"Global Settings"})]}),y.jsxs("button",{onClick:oe,disabled:I,className:"text-primary font-bold text-sm disabled:opacity-50 disabled:pointer-events-none flex items-center gap-2",children:[I&&y.jsx("span",{className:"size-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),I?"Saving...":"Save"]})]}),G&&y.jsx("div",{className:"mx-4 mt-3 p-3 bg-red-500/10 border border-red-500/30 text-red-400 text-sm rounded-lg",children:G}),y.jsx("main",{className:"p-4 space-y-6",children:y.jsxs("section",{className:"space-y-4",children:[y.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-primary",children:"GitHub"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:"global-token",className:"text-xs text-gray-500",children:"Global GitHub Personal Access Token (PAT)"}),y.jsx("input",{id:"global-token",value:U.globalGithubToken||"",onChange:K=>ae({...U,globalGithubToken:K.target.value}),type:"password",placeholder:"ghp_...",className:"w-full bg-white dark:bg-input-dark border-gray-200 dark:border-white/10 rounded-lg px-4 py-3 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white"}),y.jsx("p",{className:"text-[10px] text-gray-500",children:"Used for repositories that disable per-repo tokens."})]})]})})]}):y.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen pb-safe",children:[y.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-white/5",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>v("list"),"aria-label":"Close configuration",className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"close"})}),y.jsx("h1",{className:"text-lg font-bold",children:E?"Edit Repository":"Add Repository"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[E&&y.jsxs("button",{onClick:Et,disabled:I,className:"text-red-500 font-bold text-sm disabled:opacity-50 disabled:pointer-events-none flex items-center gap-1 border border-red-500/40 rounded-md px-2 py-1",children:[y.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),"Delete"]}),y.jsxs("button",{onClick:pt,disabled:I,className:"text-primary font-bold text-sm disabled:opacity-50 disabled:pointer-events-none flex items-center gap-2",children:[I&&y.jsx("span",{className:"size-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),I?"Saving...":"Save"]})]})]}),G&&y.jsx("div",{className:"mx-4 mt-3 p-3 bg-red-500/10 border border-red-500/30 text-red-400 text-sm rounded-lg",children:G}),y.jsxs("main",{className:"p-4 space-y-6",children:[y.jsxs("section",{className:"space-y-4",children:[y.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-primary",children:"GitHub Details"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"repo-display-name",className:"text-xs text-gray-500",children:"Display Name"}),y.jsx("input",{id:"repo-display-name",value:te.displayName,onChange:K=>ie({...te,displayName:K.target.value}),type:"text",className:"w-full bg-white dark:bg-input-dark border-gray-200 dark:border-white/10 rounded-lg px-4 py-3 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white",autoFocus:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"repo-owner",className:"text-xs text-gray-500",children:"Owner"}),y.jsx("input",{id:"repo-owner",value:te.owner,onChange:K=>ie({...te,owner:K.target.value}),type:"text",placeholder:"org",className:"w-full bg-white dark:bg-input-dark border-gray-200 dark:border-white/10 rounded-lg px-4 py-3 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"repo-name",className:"text-xs text-gray-500",children:"Repo Name"}),y.jsx("input",{id:"repo-name",value:te.name,onChange:K=>ie({...te,name:K.target.value}),type:"text",placeholder:"repo",className:"w-full bg-white dark:bg-input-dark border-gray-200 dark:border-white/10 rounded-lg px-4 py-3 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{className:"text-xs text-gray-500",children:"Use repo-specific PAT"}),y.jsx("button",{onClick:()=>ie({...te,useCustomToken:!O}),className:`w-12 h-6 rounded-full p-1 transition-colors ${O?"bg-primary":"bg-gray-300"}`,type:"button",children:y.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform ${O?"translate-x-6":""}`})})]}),O?y.jsxs(y.Fragment,{children:[y.jsx("label",{htmlFor:"repo-token",className:"text-xs text-gray-500",children:"GitHub Personal Access Token (PAT)"}),y.jsx("input",{id:"repo-token",value:te.githubToken||"",onChange:K=>ie({...te,githubToken:K.target.value}),type:"password",placeholder:"ghp_...",className:"w-full bg-white dark:bg-input-dark border-gray-200 dark:border-white/10 rounded-lg px-4 py-3 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white"}),y.jsx("p",{className:"text-[10px] text-gray-500",children:"Used for reading/writing to this repository."})]}):y.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-white/10 bg-white/60 dark:bg-input-dark px-3 py-2 text-xs text-gray-500",children:["Using global GitHub token. ",s?.globalGithubToken?"Global token is set.":"Global token is not set yet."]})]})]})]}),y.jsx("div",{className:"h-px bg-gray-200 dark:bg-white/5"}),y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-primary",children:"Apps & Builds"}),y.jsxs("button",{onClick:L,className:"text-xs flex items-center gap-1 bg-black/5 dark:bg-white/5 px-2 py-1 rounded text-slate-900 dark:text-white hover:bg-black/10 dark:hover:bg-white/10",children:[y.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})," Add App"]})]}),te.apps?.map((K,S)=>y.jsxs("div",{className:"p-4 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5 space-y-3 relative group",children:[y.jsx("button",{onClick:()=>Ye(S),"aria-label":"Delete app",className:"absolute top-2 right-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-500",children:y.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 pr-6",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:`app-name-${S}`,className:"text-[10px] uppercase text-gray-500",children:"App Name"}),y.jsx("input",{id:`app-name-${S}`,value:K.name,onChange:W=>C(S,"name",W.target.value),type:"text",className:"w-full bg-background-light dark:bg-background-dark border-transparent rounded px-2 py-1.5 text-sm text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:`app-platform-${S}`,className:"text-[10px] uppercase text-gray-500",children:"Platform"}),y.jsxs("select",{id:`app-platform-${S}`,value:K.platform,onChange:W=>C(S,"platform",W.target.value),className:"w-full bg-background-light dark:bg-background-dark border-transparent rounded px-2 py-1.5 text-sm text-slate-900 dark:text-white",children:[y.jsx("option",{value:"android",children:"Android"}),y.jsx("option",{value:"ios",children:"iOS"}),y.jsx("option",{value:"web",children:"Web"})]})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:`app-url-${S}`,className:"text-[10px] uppercase text-gray-500",children:"Test URL (Play Store/TestFlight)"}),y.jsx("input",{id:`app-url-${S}`,value:K.playStoreUrl||"",onChange:W=>C(S,"playStoreUrl",W.target.value),type:"text",placeholder:"https://...",className:"w-full bg-background-light dark:bg-background-dark border-transparent rounded px-2 py-1.5 text-sm text-slate-900 dark:text-white"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:`app-build-${S}`,className:"text-[10px] uppercase text-gray-500",children:"Current Build #"}),y.jsx("input",{id:`app-build-${S}`,value:K.buildNumber,onChange:W=>C(S,"buildNumber",W.target.value),type:"text",className:"w-24 bg-background-light dark:bg-background-dark border-transparent rounded px-2 py-1.5 text-sm font-mono font-bold text-slate-900 dark:text-white"})]})]},S))]})]})]})},mP=({repos:n,user:e,globalSettings:t,onNotesClick:s})=>{const o=Mi(),[l]=jf(),c=l.get("repo"),h=n.find(P=>P.id===c)||n[0],[p,v]=j.useState("issues"),[E,T]=j.useState(h?.apps[0]?.id||""),[I,F]=j.useState(h?.apps[0]?.buildNumber||"0"),G=h?.apps.find(P=>P.id===E)||h?.apps[0],H=h?ad(h,t):"",[U,ae]=j.useState(h?.tests||[]),[te,ie]=j.useState(!1),[we,Oe]=j.useState("");j.useEffect(()=>{h&&ae(h.tests||[])},[h]),j.useEffect(()=>{if(!h?.apps?.length){T("");return}h.apps.some(P=>P.id===E)||T(h.apps[0].id)},[h?.id,h?.apps,E]),j.useEffect(()=>{G?.buildNumber&&F(G.buildNumber)},[G?.id,G?.buildNumber]);const ge=async(P,Q)=>{if(!h)return;const X=Q||G?.id;if(!X)return;const le=h.apps.map(ye=>ye.id===X?{...ye,buildNumber:P}:ye),ue={...h,apps:le},Ee=n.map(ye=>ye.id===h.id?ue:ye);try{await Ai.saveUserRepos(e.uid,Ee)}catch(ye){console.error("Failed to save build number",ye)}},R=async P=>{if(!h)return;const Q={...h,tests:P},X=n.map(le=>le.id===h.id?Q:le);try{await Ai.saveUserRepos(Sa.currentUser.uid,X)}catch(le){console.error("Failed to save tests",le)}},b=async()=>{ie(!0);try{const Q=(await Yv.generateTests(h.name,h.displayName||h.name)).map(le=>({id:Date.now().toString()+Math.random().toString().slice(2),description:le,lastCheckedBuild:void 0})),X=[...U,...Q];ae(X),await R(X)}finally{ie(!1)}},A=async()=>{if(!we.trim())return;const P={id:Date.now().toString(),description:we,lastCheckedBuild:void 0},Q=[...U,P];ae(Q),Oe(""),await R(Q)},O=P=>{T(P.id),v("tests"),P.buildNumber&&(F(P.buildNumber),ge(P.buildNumber,P.id))},D=async P=>{const Q=U.map(X=>{if(X.id===P){const le=X.lastCheckedBuild===I;return{...X,lastCheckedBuild:le?void 0:I}}return X});ae(Q),await R(Q)};j.useEffect(()=>{H&&Me.initialize(H)},[H]);const[L,C]=j.useState([]),[Ye,pt]=j.useState([]),[Et,Xe]=j.useState({}),[oe,K]=j.useState({}),[S,W]=j.useState([]),[ce,Ve]=j.useState(!1),[Re,qe]=j.useState(null),[Le,He]=j.useState(null),[Ue,Ct]=j.useState(new Set),[en,Pn]=j.useState(new Set),[dr,Wt]=j.useState(!1),fn=S.filter(P=>en.has(P.id)),qs=S.length>0&&en.size===S.length,us=en.size>0&&!qs,hr=j.useRef(null),[nt,ht]=j.useState(null),[at,wn]=j.useState([]),[et,Hs]=j.useState(null),[fr,Gn]=j.useState(null),[En,Ft]=j.useState(!1),[pr,Ot]=j.useState(""),[xn,Nn]=j.useState(new Set),[Ws,Kn]=j.useState(!1),[cs,Vr]=j.useState([]),[Ut,Lr]=j.useState([]),[Dn,mr]=j.useState(0),[Qn,On]=j.useState({}),[st,jr]=j.useState(new Set),[Mr,Yn]=j.useState(!1),[Gs,Bi]=j.useState(new Set),[Xn,Do]=j.useState({}),[Fr,Jn]=j.useState(""),[gr,tn]=j.useState(""),[yr,Vn]=j.useState(new Set),[ds,xt]=j.useState(""),[Ur,hs]=j.useState(null),[Ks,pn]=j.useState(""),[Qs,$i]=j.useState(!1),[qi,Ys]=j.useState(""),fs=typeof window<"u"&&!!window.QAVT_AUTO_FIX?.issueCreated,Xs=Zr.useRef(new Set);j.useEffect(()=>{Xs.current=Gs},[Gs]),j.useEffect(()=>{h&&H&&zr(!1)},[h,H]);const zr=async(P=!1)=>{if(Ve(!0),Jn(""),!H){Jn("Missing GitHub token. Configure a global or repo token."),Ve(!1);return}if(P){const Q=G?.buildNumber;Q&&F(Q.toString())}try{const[Q,X]=await Promise.all([Me.getIssues(h.owner,h.name,"open",!0),Me.getPullRequests(h.owner,h.name)]),le=await Promise.all(X.map(async Je=>{try{const ot=await Me.getPullRequest(h.owner,h.name,Je.number),rt=(ot.mergeable_state||"").toLowerCase(),Er=ot.mergeable===!1||rt==="dirty"||rt==="conflicting";return{...Je,hasConflicts:Er}}catch(ot){return console.warn("Failed to resolve conflict state for PR",Je.number,ot),Je}})),ue=/\b(open|closed|blocked|fixed)\b[^\d]*(?:build\s*)?v?\s*(\d+)\b/gi,Ee=/\bverify\s*fix\b[^\d]*v?\s*(\d+)\b/gi,ye={},be={};Q.forEach(Je=>{if(!(Je.commentsCount<=0||!Je.comments))try{let ot=-1,rt=-1;for(const Er of Je.comments){const xr=Er.text||"";let ke;for(ue.lastIndex=0;(ke=ue.exec(xr))!==null;){const Tr=parseInt(ke[2],10);isNaN(Tr)||(ot=Math.max(ot,Tr))}let _t;for(Ee.lastIndex=0;(_t=Ee.exec(xr))!==null;){const Tr=parseInt(_t[1],10);isNaN(Tr)||(rt=Math.max(rt,Tr))}}ot>=0&&(ye[Je.id]=ot),rt>=0&&(be[Je.id]=rt)}catch(ot){console.error("Failed to parse comments for issue",Je.number,ot)}}),pt(Q),Xe(ye),K(be),W(le)}catch(Q){console.error("Sync failed",Q),Jn("Failed to sync GitHub data. Check your token and network.")}finally{Ve(!1)}};j.useEffect(()=>{const P=Yh(I);C(Ye.filter(Q=>{const X=oe[Q.id],le=Et[Q.id];return P==null?X!=null||le==null:X!=null&&X<=P?!0:le==null}))},[I,Ye,Et,oe]),j.useEffect(()=>{hr.current&&(hr.current.indeterminate=us)},[us]),j.useEffect(()=>{if(S.length===0){Pn(new Set);return}const P=new Set(S.map(Q=>Q.id));Pn(Q=>new Set([...Q].filter(le=>P.has(le))))},[S]);const Ln=Zr.useCallback(P=>{Vn(Q=>new Set(Q).add(P))},[]),mn=Zr.useCallback(P=>{Vn(Q=>{const X=new Set(Q);return X.delete(P),X})},[]),it=Zr.useCallback(async(P,Q)=>{xt(""),Ln(P);const X=(I||"").trim(),le=X?`fixed v${X}`:"fixed";let ue=!1,Ee=!1;try{try{await Me.addComment(h.owner,h.name,Q,le)}catch(ye){Ee=!0,console.error("Failed to add fixed comment",ye)}await Me.updateIssueStatus(h.owner,h.name,Q,"closed"),ue=!0}catch(ye){console.error("Failed to close issue",ye)}finally{ue?(pt(ye=>ye.filter(be=>be.id!==P)),Xe(ye=>{const be={...ye};return delete be[P],be}),Ee&&xt("Issue closed, but failed to add the build comment.")):xt("Failed to mark issue fixed. Check your token and try again."),mn(P)}},[I,h.owner,h.name,Ln,mn]),ja=Zr.useCallback(async(P,Q)=>{xt(""),Ln(P);const X=(I||"").trim(),le=X?`open v${X}`:"open";let ue=!1,Ee=!1;try{try{await Me.addComment(h.owner,h.name,Q,le)}catch(ye){ue=!0,console.error("Failed to add open comment",ye)}await Me.updateIssueStatus(h.owner,h.name,Q,"open"),Ee=!0}catch(ye){console.error("Failed to mark issue open",ye)}finally{if(Ee){const ye=Yh(I);ye!=null&&Xe(be=>{const Je=be[P]??-1;return{...be,[P]:Math.max(Je,ye)}}),ue&&xt("Issue reopened, but failed to add the build comment.")}else xt("Failed to mark issue open. Check your token and try again.");mn(P)}},[I,h.owner,h.name,Ln,mn]),Js=Zr.useCallback(P=>{hs(P),pn(""),Ys("")},[]),Hi=async()=>{if(!Ur)return;const P=Ur.id;$i(!0),Ys(""),xt(""),Ln(P);try{const Q=(I||"").trim(),X=Ks.trim(),le=Q?`blocked v${Q}`:"blocked",ue=X?`${le} - ${X}`:le;await Me.addComment(h.owner,h.name,Ur.number,ue);const Ee=Yh(I);Ee!=null&&Xe(ye=>{const be=ye[P]??-1;return{...ye,[P]:Math.max(be,Ee)}}),hs(null),pn("")}catch(Q){console.error("Failed to block issue",Q),Ys("Failed to mark issue blocked. Check your token and try again."),xt("Failed to mark issue blocked. Check your token and try again.")}finally{$i(!1),mn(P)}},ps=Zr.useCallback(async P=>{if(!Xs.current.has(P.id)){Bi(Q=>new Set(Q).add(P.id));try{const Q=await Yv.analyzeIssue(P.title,P.description);Do(X=>({...X,[P.id]:Q}))}finally{Bi(Q=>{const X=new Set(Q);return X.delete(P.id),X})}}},[]),Wi=Zr.useCallback(P=>{if(!H){alert("GitHub token is required for Auto Fix.");return}if(typeof window>"u"||!window.QAVT_AUTO_FIX?.issueCreated){alert("Auto Fix plugin bridge not detected.");return}if(window.confirm(`Auto Fix issue #${P.number}? This will trigger AI agent and publish a new build.`))try{const X=new URLSearchParams({repoId:h.id,repoOwner:h.owner,repoName:h.name,issueNumber:P.number.toString(),title:P.title,description:P.description||"",buildNumber:I,githubToken:H}).toString();window.QAVT_AUTO_FIX.issueCreated(X)}catch(X){console.error("Failed to trigger auto fix",X),alert("Failed to trigger auto fix.")}},[h,H,I]),Zs=()=>{Pn(qs?new Set:new Set(S.map(P=>P.id)))},ms=P=>{Pn(Q=>{const X=new Set(Q);return X.has(P)?X.delete(P):X.add(P),X})},At=()=>{Pn(new Set)},Gi=async P=>{qe(P.id),tn("");try{P.isDraft&&await Me.markReadyForReview(h.owner,h.name,P.number),await Me.approvePR(h.owner,h.name,P.number),await Me.mergePR(h.owner,h.name,P.number),W(Q=>Q.filter(X=>X.id!==P.id))}catch(Q){console.error("Merge sequence failed",Q),tn("Merge failed. Confirm repo access and PR state.")}finally{qe(null)}},gn=async()=>{if(fn.length){Wt(!0),tn("");try{for(const P of fn)await Gi(P)}finally{Wt(!1),At()}}},Zn=async()=>{if(fn.length){Wt(!0),tn("");try{for(const P of fn)P.isDraft&&await Me.markReadyForReview(h.owner,h.name,P.number);W(P=>P.map(Q=>en.has(Q.id)?{...Q,isDraft:!1}:Q))}catch(P){console.error("Bulk ready failed",P),tn("Failed to mark some PRs ready. Check permissions and try again.")}finally{Wt(!1),At()}}},Tn=async()=>{if(fn.length){Wt(!0),tn("");try{for(const P of fn)await Me.approvePR(h.owner,h.name,P.number),await Me.mergePR(h.owner,h.name,P.number);W(P=>P.filter(Q=>!en.has(Q.id)))}catch(P){console.error("Bulk merge failed",P),tn("Failed to merge some PRs. Confirm repo access and PR states.")}finally{Wt(!1),At()}}},gs=async()=>{if(fn.length){Wt(!0),tn("");try{for(const P of fn)await Me.denyPR(h.owner,h.name,P.number);W(P=>P.filter(Q=>!en.has(Q.id)))}catch(P){console.error("Bulk close failed",P),tn("Failed to close some PRs. Check your permissions.")}finally{Wt(!1),At()}}},er=async P=>{qe(P.id),tn(""),Ot(""),Ft(!0);try{const Q=await Me.getPullRequest(h.owner,h.name,P.number),X=(Q.mergeable_state||"").toLowerCase();if(!(Q.mergeable===!1||X==="dirty"||X==="conflicting")){W(Ee=>Ee.map(ye=>ye.id===P.id?{...ye,hasConflicts:!1}:ye));return}const ue=await Me.getPullRequestFiles(h.owner,h.name,P.number);ht(P),wn(ue),jr(new Set(ue.map(Ee=>Ee.filename))),On({}),Yn(!1),jn(ue[0]||null),Nn(new Set)}catch(Q){console.error("Resolve failed",Q),Ct(X=>new Set(X).add(P.id)),tn("Resolve failed. Check permissions or try manually in GitHub.")}finally{Ft(!1),qe(null)}},vr=()=>{ht(null),wn([]),Hs(null),Gn(null),Nn(new Set),Vr([]),Lr([]),mr(0),On({}),jr(new Set),Yn(!1),Ot(""),Ft(!1),Kn(!1)},Ge=(P,Q)=>{const X=P.length?P.split(`
`):[],le=Q.length?Q.split(`
`):[];if(X.length*le.length>2e6)return{segments:[{type:"conflict",baseLines:X,headLines:le}],conflictIndices:[0]};const Ee=Array.from({length:X.length+1},()=>new Array(le.length+1).fill(0));for(let ke=X.length-1;ke>=0;ke-=1)for(let _t=le.length-1;_t>=0;_t-=1)X[ke]===le[_t]?Ee[ke][_t]=Ee[ke+1][_t+1]+1:Ee[ke][_t]=Math.max(Ee[ke+1][_t],Ee[ke][_t+1]);const ye=[];let be=0,Je=0;for(;be<X.length&&Je<le.length;)X[be]===le[Je]?(ye.push({type:"equal",line:X[be]}),be+=1,Je+=1):Ee[be+1][Je]>=Ee[be][Je+1]?(ye.push({type:"delete",line:X[be]}),be+=1):(ye.push({type:"insert",line:le[Je]}),Je+=1);for(;be<X.length;)ye.push({type:"delete",line:X[be]}),be+=1;for(;Je<le.length;)ye.push({type:"insert",line:le[Je]}),Je+=1;const ot=[];let rt=null;const Er=()=>{rt&&(ot.push({type:"conflict",baseLines:rt.baseLines,headLines:rt.headLines}),rt=null)};for(const ke of ye)if(ke.type==="equal"){Er();const _t=ot[ot.length-1];_t&&_t.type==="equal"?_t.lines.push(ke.line):ot.push({type:"equal",lines:[ke.line]})}else rt||(rt={baseLines:[],headLines:[]}),ke.type==="delete"?rt.baseLines.push(ke.line):rt.headLines.push(ke.line);Er();const xr=ot.reduce((ke,_t,Tr)=>(_t.type==="conflict"&&ke.push(Tr),ke),[]);return{segments:ot,conflictIndices:xr}},_r=(P,Q)=>{const X=[];for(const ue of P)ue.type==="equal"?X.push(...ue.lines):ue.resolution==="incoming"?X.push(...ue.headLines):ue.resolution==="both"?X.push(...ue.baseLines,...ue.headLines):X.push(...ue.baseLines);let le=X.join(`
`);return Q&&le.length>0&&(le+=`
`),le},jn=P=>{Hs(P),Gn(null),Vr([]),Lr([]),mr(0),Ot("")},wr=(P,Q,X)=>{const le=at.filter(Ee=>X.has(Ee.filename));if(!le.length)return null;const ue=P?le.findIndex(Ee=>Ee.filename===P):-1;for(let Ee=1;Ee<=le.length;Ee+=1){const ye=(ue+Ee)%le.length,be=le[ye];if(!Q.has(be.filename))return be}return null},Ki=P=>{jr(Q=>{const X=new Set(Q);if(X.has(P)?X.delete(P):X.add(P),et?.filename===P&&!X.has(P)){const le=wr(P,xn,X);jn(le)}return X})};j.useEffect(()=>{if(!nt||!et)return;(async()=>{Ft(!0),Ot("");try{const[Q,X]=await Promise.all([Me.getFileContent(h.owner,h.name,et.filename,nt.targetBranch),Me.getFileContent(h.owner,h.name,et.filename,nt.branch)]),le=Q.content,ue=X.content;Gn({base:le,head:ue,headSha:X.sha});const{segments:Ee,conflictIndices:ye}=Ge(le,ue);if(Vr(Ee),Lr(ye),mr(0),On(be=>({...be,[et.filename]:ye.length})),ye.length===0){const be=new Set(xn);be.add(et.filename),Nn(be);const Je=wr(et.filename,be,st);jn(Je);return}}catch(Q){console.error("Failed to load conflict file",Q),Ot("Unable to load file contents for resolution.")}finally{Ft(!1)}})()},[nt?.id,et?.filename]);const ys=async P=>{if(!nt||!et||!fr)return;const Q=Ut[Dn];if(Q===void 0)return;const X=cs.map((ue,Ee)=>Ee!==Q||ue.type!=="conflict"?ue:{...ue,resolution:P});if(Vr(X),!(Dn>=Ut.length-1)){mr(ue=>ue+1);return}Kn(!0),Ot("");try{const ue=_r(X,fr.base.endsWith(`
`));await Me.updateFileContent(h.owner,h.name,et.filename,nt.branch,ue,fr.headSha,`Resolve conflict for ${et.filename}`);const Ee=new Set(xn);Ee.add(et.filename),Nn(Ee),await vs();const ye=wr(et.filename,Ee,st);jn(ye)}catch(ue){console.error("Failed to resolve conflict file",ue),Ot("Failed to update file. Try again or resolve in GitHub.")}finally{Kn(!1)}},vs=async()=>{if(nt){Ft(!0),Ot("");try{const P=await Me.getPullRequest(h.owner,h.name,nt.number),Q=(P.mergeable_state||"").toLowerCase(),X=P.mergeable===!1||Q==="dirty"||Q==="conflicting";W(le=>le.map(ue=>ue.id===nt.id?{...ue,hasConflicts:X}:ue)),Yn(!X),ht(le=>le&&{...le,hasConflicts:X}),X||Ct(le=>{const ue=new Set(le);return ue.delete(nt.id),ue})}catch(P){console.error("Failed to refresh conflict status",P),Ot("Unable to refresh merge status. Try again.")}finally{Ft(!1)}}},_s=async()=>{if(nt){Ft(!0),Ot("");try{if(!await Me.updateBranch(h.owner,h.name,nt.number)){Ot("Auto-resolve failed. Resolve conflicts manually or choose file-level options.");return}await vs()}catch(P){console.error("Auto-resolve failed",P),Ot("Auto-resolve failed. Try again or resolve manually.")}finally{Ft(!1)}}},Ma=async()=>{if(nt){Ft(!0),Ot("");try{nt.isDraft&&await Me.markReadyForReview(h.owner,h.name,nt.number),await Me.approvePR(h.owner,h.name,nt.number),await Me.mergePR(h.owner,h.name,nt.number),W(P=>P.filter(Q=>Q.id!==nt.id)),vr()}catch(P){console.error("Merge after conflict resolution failed",P),Ot("Merge failed. Confirm review status and try again.")}finally{Ft(!1)}}},ws=at.filter(P=>st.has(P.filename)),je=ws.filter(P=>!xn.has(P.filename)),Mn=Ut[Dn],nn=Mn!==void 0?cs[Mn]:null,Br=et?Qn[et.filename]??Ut.length:0,Qi=ws.length>0&&je.length===0||Mr,Yi=async P=>{W(Q=>Q.filter(X=>X.id!==P.id)),He({id:P.id,pr:P}),await Me.denyPR(h.owner,h.name,P.number),setTimeout(()=>He(null),5e3)},Xi=async()=>{Le&&(W(P=>[...P,Le.pr]),He(null),await Me.updateIssueStatus(h.owner,h.name,Le.pr.number,"open"))};return h?H?y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-24",children:[y.jsxs("header",{className:"sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-white/5 px-4 py-3 flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[y.jsx("button",{onClick:()=>o("/"),"aria-label":"Go back to home",className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg font-bold leading-none tracking-tight",children:"QA Dashboard"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:h?.displayName||h?.name})]})]}),y.jsx("div",{className:"flex-1 min-w-0 flex items-center justify-end",children:y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto py-1",children:[y.jsxs("a",{href:h?`https://github.com/${h.owner}/${h.name}/projects`:"#",target:"_blank",rel:"noopener noreferrer",className:"shrink-0 inline-flex items-center gap-1 rounded-lg border border-gray-200 dark:border-white/10 bg-white/70 dark:bg-[#253827] px-2.5 py-1.5 text-[10px] sm:text-[11px] font-bold text-gray-700 dark:text-gray-200 hover:text-primary transition-colors whitespace-nowrap",children:[y.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"dashboard"}),"Projects"]}),y.jsxs("div",{className:"shrink-0 flex items-center bg-gray-200 dark:bg-surface-dark-lighter rounded-lg p-0.5 border border-transparent dark:border-white/10 whitespace-nowrap",children:[y.jsx("button",{onClick:()=>v("issues"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${p==="issues"?"bg-primary text-black shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white"}`,children:"Issues"}),y.jsx("button",{onClick:()=>v("prs"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${p==="prs"?"bg-primary text-black shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white"}`,children:"PRs"}),y.jsx("button",{onClick:()=>v("tests"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${p==="tests"?"bg-primary text-black shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white"}`,children:"Tests"})]})]})})]}),y.jsxs("section",{className:"px-4 py-3 space-y-3",children:[y.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end",children:[y.jsxs("div",{className:"flex-1 space-y-1.5",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-[#9db99f] uppercase tracking-wider",children:"Target Build"}),y.jsxs("div",{className:"relative flex items-center gap-2",children:[y.jsx("span",{className:"absolute left-3 material-symbols-outlined text-gray-400 text-[20px]",children:"tag"}),y.jsx("input",{className:"w-full bg-white dark:bg-[#1c2e1f] border-gray-200 dark:border-white/5 rounded-lg py-3 pl-10 pr-3 font-mono font-bold text-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all text-slate-900 dark:text-white",type:"text",value:I,onChange:P=>{const Q=P.target.value;F(Q),ge(Q)}}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:()=>zr(!1),"aria-label":"Sync with GitHub",className:"bg-white dark:bg-[#253827] border border-gray-200 dark:border-white/5 rounded-lg px-3 py-3 hover:text-primary transition-colors flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined",children:"sync"}),y.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Sync"})]}),y.jsxs("button",{onClick:()=>zr(!0),"aria-label":"Sync with Store",className:"bg-white dark:bg-[#253827] border border-gray-200 dark:border-white/5 rounded-lg px-3 py-3 hover:text-primary transition-colors flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined",children:"system_update_alt"}),y.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Store"})]})]})]})]}),y.jsxs("div",{className:"flex-1 space-y-1.5",children:[y.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-[#9db99f] uppercase tracking-wider",children:"App Variant"}),y.jsx("select",{value:G?.id||"",onChange:P=>T(P.target.value),className:"w-full bg-white dark:bg-[#1c2e1f] border-gray-200 dark:border-white/5 rounded-lg h-[54px] px-3 font-medium text-sm text-slate-900 dark:text-white focus:ring-primary focus:border-primary",children:h?.apps.map(P=>y.jsxs("option",{value:P.id,children:[P.name," (",P.platform,")"]},P.id))})]})]}),y.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-surface-dark-lighter/80 p-3 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Test Builds"}),y.jsx("p",{className:"text-[11px] text-gray-400",children:"Jump to tests by build and platform."})]}),y.jsx("button",{onClick:()=>v("tests"),className:"rounded-lg border border-gray-200 dark:border-white/10 bg-white/70 dark:bg-[#253827] px-2.5 py-1.5 text-[10px] font-bold text-gray-700 dark:text-gray-200 hover:text-primary transition-colors",children:"Open Tests"})]}),y.jsx("div",{className:"mt-3 space-y-2",children:h?.apps.map(P=>y.jsxs("div",{className:"flex flex-col gap-2 rounded-lg border border-gray-100 dark:border-white/5 bg-white/80 dark:bg-black/20 p-2 sm:flex-row sm:items-center sm:justify-between",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[P.name," ",y.jsxs("span",{className:"text-[11px] text-gray-500",children:["(",P.platform,")"]})]}),y.jsxs("p",{className:"text-[11px] text-gray-500",children:["Build #",P.buildNumber||""]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>O(P),className:"rounded-lg border border-gray-200 dark:border-white/10 px-3 py-1.5 text-[11px] font-semibold text-gray-700 dark:text-gray-200 hover:text-primary transition-colors",children:"View Tests"}),P.playStoreUrl?y.jsx("a",{href:P.playStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded-lg bg-primary/10 px-3 py-1.5 text-[11px] font-semibold text-primary hover:bg-primary/20",children:"Open Test"}):y.jsx("span",{className:"text-[10px] uppercase tracking-wide text-gray-400",children:"No test url"})]})]},P.id))})]})]}),y.jsx("div",{className:"h-px w-full bg-gray-200 dark:bg-white/5 mb-4"}),y.jsxs("main",{className:"flex-1 px-4 space-y-3",children:[Le&&y.jsxs("div",{className:"flex items-center justify-between bg-gray-900 text-white p-3 rounded-lg animate-slide-in-right shadow-xl",children:[y.jsxs("span",{className:"text-sm",children:["PR #",Le.pr.number," closed."]}),y.jsx("button",{onClick:Xi,className:"text-primary font-bold text-sm uppercase tracking-wider",children:"Undo"})]}),ce&&y.jsx("div",{className:"text-center py-10",children:y.jsx("div",{className:"inline-block size-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),!ce&&p==="issues"&&y.jsxs(y.Fragment,{children:[Fr&&y.jsx("div",{className:"mb-2 rounded-lg border border-red-500/30 bg-red-500/10 text-red-200 text-xs px-3 py-2",children:Fr}),ds&&y.jsx("div",{className:"mb-2 rounded-lg border border-amber-500/30 bg-amber-500/10 text-amber-200 text-xs px-3 py-2",children:ds}),y.jsxs("div",{className:"flex justify-between items-center pb-1",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Pending Verification"}),y.jsxs("span",{className:"text-[11px] text-gray-400",children:[L.length," remaining"]})]}),L.length===0?y.jsxs("div",{className:"text-center py-10 opacity-50",children:[y.jsx("span",{className:"material-symbols-outlined text-6xl text-gray-600",children:"check_circle"}),y.jsxs("p",{className:"mt-4 text-gray-400",children:["All cleared for build ",I,"!"]})]}):L.map(P=>y.jsx(cP,{issue:P,repoId:h.id,isBusy:yr.has(P.id),isAnalyzing:Gs.has(P.id),analysisResult:Xn[P.id],onFixed:it,onOpen:ja,onBlock:Js,onAnalyze:ps,onAutoFix:Wi,autoFixAvailable:fs},P.id))]}),!ce&&p==="prs"&&y.jsxs("div",{className:"space-y-3",children:[gr&&y.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 text-red-200 text-xs px-3 py-2",children:gr}),S.length>0&&y.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-surface-dark-lighter/80 p-3 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{ref:hr,type:"checkbox",className:"size-4 accent-primary",checked:qs,onChange:Zs}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Select all PRs"}),y.jsx("p",{className:"text-[11px] text-gray-500",children:en.size>0?`${en.size} of ${S.length} selected`:`${S.length} total`})]})]}),y.jsx("button",{onClick:At,disabled:en.size===0,className:"text-xs font-bold uppercase tracking-wider text-gray-500 disabled:opacity-40 hover:text-primary",children:"Clear"})]}),S.map(P=>{const Q=Re===P.id,X=Ue.has(P.id);return y.jsxs("div",{className:"group relative bg-white dark:bg-[#1A1616] rounded-xl p-3 border border-gray-200 dark:border-white/10 shadow-sm transition-all animate-fade-in",children:[y.jsxs("div",{className:"flex items-start gap-3 mb-1.5",children:[y.jsx("input",{type:"checkbox",className:"mt-1 size-4 accent-primary",checked:en.has(P.id),onChange:()=>ms(P.id)}),y.jsx("div",{className:"flex-1",children:y.jsx("div",{className:"flex justify-between items-start",children:y.jsxs("div",{className:"pr-2",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[P.isDraft&&y.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 uppercase tracking-wide",children:"Draft"}),P.hasConflicts&&y.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-500/10 text-red-500 uppercase tracking-wide flex items-center gap-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"warning"}),"Conflict"]})]}),y.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-sm leading-tight",children:P.title}),y.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["#",P.number," - ",P.author.name]})]})})})]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-3 font-mono bg-gray-50 dark:bg-white/5 p-1.5 rounded-lg border border-gray-200 dark:border-white/5",children:[y.jsx("span",{className:"text-slate-700 dark:text-gray-300",children:P.branch}),y.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"arrow_forward"}),y.jsx("span",{className:"text-slate-700 dark:text-gray-300",children:P.targetBranch})]}),y.jsxs("div",{className:"flex gap-2",children:[P.hasConflicts?y.jsxs(y.Fragment,{children:[y.jsx("button",{disabled:Q,onClick:()=>er(P),className:"flex-1 bg-amber-600/20 text-amber-700 dark:text-amber-500 border border-amber-600/30 font-semibold text-xs py-2 rounded-lg flex items-center justify-center gap-1.5 active:scale-[0.98] disabled:opacity-50",children:Q?"Loading...":y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"build"}),"Resolve Conflicts"]})}),X&&y.jsxs("a",{href:`https://github.com/${h.owner}/${h.name}/pull/${P.number}/conflicts`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-amber-600/10 text-amber-700 dark:text-amber-400 border border-amber-600/20 font-semibold text-xs py-2 rounded-lg flex items-center justify-center gap-1.5 active:scale-[0.98] hover:bg-amber-600/20",children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"open_in_new"}),"Open in GitHub"]})]}):y.jsx("button",{disabled:Q,onClick:()=>Gi(P),className:`flex-1 font-bold text-xs py-2 rounded-lg flex items-center justify-center gap-1.5 active:scale-[0.98] disabled:opacity-50 transition-colors ${P.isDraft?"bg-blue-600 text-white hover:bg-blue-700":"bg-primary text-black hover:bg-primary-hover"}`,children:Q?"Processing...":y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:P.isDraft?"rocket_launch":"merge"}),P.isDraft?"Ready & Merge":"Merge"]})}),y.jsx("button",{disabled:Q,onClick:()=>Yi(P),"aria-label":"Close pull request",className:"px-4 bg-red-500/10 text-red-600 dark:text-red-500 border border-red-500/20 rounded-lg flex items-center justify-center active:scale-[0.98] hover:bg-red-500/20",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]})]},P.id)})]}),p==="tests"&&y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"bg-white dark:bg-surface-dark-lighter rounded-xl p-3 border border-gray-200 dark:border-white/5 space-y-3",children:[y.jsx("h3",{className:"font-bold text-sm text-slate-900 dark:text-white uppercase tracking-wider",children:"Add Manual Test"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:we,onChange:P=>Oe(P.target.value),onKeyDown:P=>P.key==="Enter"&&A(),placeholder:"e.g. Verify login with invalid credentials",className:"flex-1 bg-background-light dark:bg-background-dark border-transparent rounded-lg px-3 py-2 text-sm focus:ring-primary focus:border-primary text-slate-900 dark:text-white"}),y.jsx("button",{onClick:A,disabled:!we.trim(),className:"bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-slate-900 dark:text-white px-4 rounded-lg font-bold text-sm disabled:opacity-50",children:"Add"})]})]}),y.jsxs("button",{onClick:b,disabled:te,className:"w-full bg-primary/10 hover:bg-primary/20 text-primary border border-primary/20 rounded-xl p-3 flex items-center justify-center gap-2 font-bold text-sm transition-colors disabled:opacity-50",children:[te?y.jsx("span",{className:"size-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):y.jsx("span",{className:"material-symbols-outlined text-lg",children:"smart_toy"}),"Generate AI Test Plan"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center pb-1",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Verification Checklist"}),y.jsxs("span",{className:"text-[11px] text-gray-400",children:["Build #",I]})]}),U.length===0?y.jsxs("div",{className:"text-center py-10 opacity-50",children:[y.jsx("span",{className:"material-symbols-outlined text-5xl mb-2",children:"playlist_add_check"}),y.jsx("p",{className:"text-sm font-medium",children:"No tests defined yet."})]}):U.map(P=>{const Q=P.lastCheckedBuild===I;return y.jsxs("div",{onClick:()=>D(P.id),className:`group cursor-pointer flex items-start gap-2 p-2 rounded-xl border transition-all ${Q?"bg-primary/5 border-primary/20":"bg-white dark:bg-surface-dark-lighter border-gray-200 dark:border-white/5 hover:border-primary/30"}`,children:[y.jsx("div",{className:`mt-0.5 flex-shrink-0 size-5 rounded border flex items-center justify-center transition-colors ${Q?"bg-primary border-primary text-black":"bg-transparent border-gray-400 dark:border-gray-500 group-hover:border-primary"}`,children:Q&&y.jsx("span",{className:"material-symbols-outlined text-sm font-bold",children:"check"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`text-sm ${Q?"text-gray-500 line-through":"text-slate-900 dark:text-white"}`,children:P.description}),P.lastCheckedBuild&&!Q&&y.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Last checked on build #",P.lastCheckedBuild]})]})]},P.id)})]})]})]}),p==="prs"&&en.size>0&&y.jsx("div",{className:"fixed bottom-20 left-0 right-0 z-40 px-4",children:y.jsxs("div",{className:"mx-auto max-w-md rounded-2xl border border-white/10 bg-surface-dark/95 p-3 text-white shadow-2xl backdrop-blur-md",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-sm font-semibold",children:[en.size," selected"]}),y.jsx("button",{onClick:At,className:"text-[11px] font-bold uppercase tracking-wider text-gray-300 hover:text-primary",children:"Clear"})]}),y.jsxs("div",{className:"mt-2 flex items-center gap-2 overflow-x-auto",children:[y.jsx("button",{onClick:gn,disabled:dr,className:"whitespace-nowrap rounded-lg bg-primary px-3 py-2 text-xs font-bold text-black disabled:opacity-50",children:dr?"Working...":"Ready + Merge"}),y.jsx("button",{onClick:Zn,disabled:dr,className:"whitespace-nowrap rounded-lg border border-white/15 px-3 py-2 text-xs font-semibold text-gray-200 disabled:opacity-50",children:"Ready"}),y.jsx("button",{onClick:Tn,disabled:dr,className:"whitespace-nowrap rounded-lg border border-white/15 px-3 py-2 text-xs font-semibold text-gray-200 disabled:opacity-50",children:"Merge"}),y.jsx("button",{onClick:gs,disabled:dr,className:"whitespace-nowrap rounded-lg border border-red-500/40 px-3 py-2 text-xs font-semibold text-red-300 disabled:opacity-50",children:"Close"})]})]})}),y.jsx(wa,{to:`/quick-issue?repo=${h?.id}&build=${encodeURIComponent(I)}`,"aria-label":"Create new issue",className:"fixed bottom-24 right-4 z-30 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-black shadow-[0_4px_16px_rgba(19,236,37,0.4)] active:scale-90 transition-transform hover:scale-105",children:y.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})}),y.jsx(Vp,{onNotesClick:s}),Ur&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:y.jsxs("div",{className:"w-full max-w-md rounded-xl border border-white/10 bg-surface-dark p-5 text-white shadow-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h3",{className:"text-lg font-bold",children:["Block Issue #",Ur.number]}),y.jsx("button",{onClick:()=>hs(null),"aria-label":"Close block dialog",className:"rounded-full p-1 hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Optional reason (saved to the issue as a comment)."}),y.jsx("textarea",{value:Ks,onChange:P=>pn(P.target.value),className:"mt-3 w-full min-h-[120px] rounded-lg bg-input-dark p-3 text-sm text-white",placeholder:"e.g. Waiting on backend fix / missing access"}),qi&&y.jsx("div",{className:"mt-3 rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:qi}),y.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[y.jsx("button",{onClick:()=>hs(null),className:"rounded-lg border border-white/10 px-3 py-2 text-xs font-semibold text-gray-200 hover:bg-white/10",children:"Cancel"}),y.jsx("button",{onClick:Hi,disabled:Qs,className:"rounded-lg bg-red-600 px-3 py-2 text-xs font-semibold text-white disabled:opacity-50",children:Qs?"Blocking...":"Mark Blocked"})]})]})}),nt&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:y.jsxs("div",{className:"flex h-[85vh] w-full max-w-5xl flex-col rounded-2xl border border-white/10 bg-surface-dark text-white shadow-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 px-5 py-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold",children:"Resolve Conflicts"}),y.jsxs("p",{className:"text-xs text-gray-400",children:["PR #",nt.number," - ",nt.title]}),y.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wide text-amber-400",children:"Conflicts detected"})]}),y.jsx("button",{onClick:vr,"aria-label":"Close conflict resolver",className:"rounded-full p-1 hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[y.jsxs("div",{className:"w-72 border-r border-white/10 overflow-y-auto",children:[y.jsxs("div",{className:"border-b border-white/5 px-4 py-3",children:[y.jsx("p",{className:"text-xs font-semibold text-gray-300",children:"Changed files"}),y.jsxs("p",{className:"text-[11px] text-gray-500",children:[ws.length," selected - ",xn.size," resolved"]})]}),at.length===0&&y.jsx("div",{className:"p-4 text-xs text-gray-400",children:"No changed files found."}),at.map(P=>{const Q=et?.filename===P.filename,X=xn.has(P.filename),le=st.has(P.filename),ue=Qn[P.filename],Ee=ue===void 0?!0:ue>0,ye=ue===void 0?"Checking...":ue===0?"No conflicts":`${ue} conflict${ue===1?"":"s"}`;return y.jsxs("button",{onClick:()=>{le||jr(be=>new Set(be).add(P.filename)),jn(P)},className:`w-full px-4 py-3 text-left text-xs border-b border-white/5 transition-colors ${Q?"bg-white/10":"hover:bg-white/5"} ${le?"":"opacity-50"}`,children:[y.jsxs("div",{className:"flex items-start justify-between gap-2",children:[y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("input",{type:"checkbox",checked:le,onChange:()=>Ki(P.filename),onClick:be=>be.stopPropagation(),className:"mt-0.5 size-3 accent-amber-500"}),y.jsx("span",{className:`line-clamp-2 ${Q?"text-white":Ee?"text-amber-200":"text-gray-300"}`,children:P.filename})]}),X&&y.jsx("span",{className:"rounded-full bg-primary/20 px-2 py-0.5 text-[10px] font-bold text-primary",children:"Resolved"})]}),y.jsxs("div",{className:"mt-1 flex items-center justify-between text-[10px] uppercase",children:[y.jsx("span",{className:"text-gray-500",children:P.status}),y.jsx("span",{className:Ee?"text-amber-400":"text-gray-500",children:ye})]})]},P.filename)})]}),y.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[y.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 px-4 py-3",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400",children:et?et.filename:"Select a file to resolve"}),et&&Br>0&&y.jsxs("div",{className:"text-[11px] font-semibold text-amber-400",children:["Conflict ",Math.min(Dn+1,Br)," of ",Br]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>ys("current"),disabled:!nn||Ws,className:"rounded-lg border border-white/10 px-3 py-1.5 text-[11px] font-semibold text-gray-200 disabled:opacity-40",children:"Accept Current"}),y.jsx("button",{onClick:()=>ys("incoming"),disabled:!nn||Ws,className:"rounded-lg border border-white/10 px-3 py-1.5 text-[11px] font-semibold text-gray-200 disabled:opacity-40",children:"Accept Incoming"}),y.jsx("button",{onClick:()=>ys("both"),disabled:!nn||Ws,className:"rounded-lg bg-amber-400 px-3 py-1.5 text-[11px] font-bold text-black disabled:opacity-40",children:"Accept Both"})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[pr&&y.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:pr}),En&&y.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[y.jsx("span",{className:"size-3 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),"Loading file contents..."]}),!En&&et&&fr&&nn&&nn.type==="conflict"&&y.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[11px] font-bold uppercase text-gray-400 mb-2",children:"Current change"}),y.jsx("pre",{className:"whitespace-pre-wrap rounded-lg bg-black/40 p-3 text-[11px] text-gray-200",children:nn.baseLines.length?nn.baseLines.join(`
`):"[no lines]"})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[11px] font-bold uppercase text-gray-400 mb-2",children:"Incoming change"}),y.jsx("pre",{className:"whitespace-pre-wrap rounded-lg bg-black/40 p-3 text-[11px] text-gray-200",children:nn.headLines.length?nn.headLines.join(`
`):"[no lines]"})]})]}),!En&&et&&fr&&Ut.length===0&&y.jsx("div",{className:"text-xs text-gray-400",children:"No conflict blocks detected for this file."}),!En&&et&&fr&&!nn&&Ut.length>0&&y.jsx("div",{className:"text-xs text-gray-400",children:"All conflict blocks resolved for this file."}),!En&&!et&&y.jsx("div",{className:"text-xs text-gray-400",children:"Select a file to view and resolve conflicts."})]})]})]}),y.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 px-5 py-3",children:[y.jsx("span",{className:"text-xs text-gray-400",children:je.length===0?"All selected files resolved":`${je.length} files remaining`}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:Ma,disabled:!Qi||En,className:"rounded-lg bg-emerald-400 px-3 py-2 text-xs font-semibold text-black disabled:opacity-40",children:"Merge PR"}),y.jsx("button",{onClick:_s,disabled:En,className:"rounded-lg border border-white/10 px-3 py-2 text-xs font-semibold text-gray-200 disabled:opacity-40",children:"Try Auto-Resolve"}),y.jsx("button",{onClick:vs,disabled:En,className:"rounded-lg border border-white/10 px-3 py-2 text-xs font-semibold text-gray-200 disabled:opacity-40",children:"Recheck Mergeable"}),y.jsx("a",{href:`https://github.com/${h.owner}/${h.name}/pull/${nt.number}/conflicts`,target:"_blank",rel:"noopener noreferrer",className:"rounded-lg bg-white/10 px-3 py-2 text-xs font-semibold text-gray-100 hover:bg-white/20",children:"Open in GitHub"})]})]})]})})]}):y.jsx("div",{className:"p-10 text-center",children:"Missing GitHub token. Configure a global token or enable a repo token."}):y.jsx("div",{className:"p-10 text-center",children:"Please select a repository."})},gP=({repos:n,globalSettings:e,onNotesClick:t})=>{const s=Mi(),{repoId:o,issueNumber:l}=$x(),c=n.find(R=>R.id===o),h=c?ad(c,e):"",[p,v]=j.useState(null),[E,T]=j.useState([]),[I,F]=j.useState(!0),[G,H]=j.useState(""),[U,ae]=j.useState(""),[te,ie]=j.useState(!1),[we,Oe]=j.useState("");j.useEffect(()=>{let R=!0;return(async()=>{if(!c){H("Repository not found."),F(!1);return}if(!h){H("Missing GitHub token. Configure a global or repo token."),F(!1);return}const A=Number(l);if(!A){H("Invalid issue number."),F(!1);return}F(!0),H("");try{Me.initialize(h);const O=await Me.getIssue(c.owner,c.name,A);R&&(v(O),T(O.comments))}catch(O){console.error("Failed to load issue",O),R&&H("Failed to load issue details.")}finally{R&&F(!1)}})(),()=>{R=!1}},[o,l,h]);const ge=async()=>{if(!c||!h||!p)return;const R=U.trim();if(R){ie(!0),Oe("");try{Me.initialize(h),await Me.addComment(c.owner,c.name,p.number,R);const b=await Me.getIssueComments(c.owner,c.name,p.number);T(b),v(A=>A&&{...A,comments:b,commentsCount:b.length}),ae("")}catch(b){console.error("Failed to add comment",b),Oe("Failed to add comment. Check your token and try again.")}finally{ie(!1)}}};return y.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden pb-24",children:[y.jsxs("header",{className:"sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-gray-200 dark:border-white/5 px-4 py-3 flex items-center gap-3",children:[y.jsx("button",{onClick:()=>s(-1),"aria-label":"Go back",className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"arrow_back"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg font-bold leading-none tracking-tight",children:"Issue Details"}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:c?.displayName||c?.name})]})]}),y.jsxs("main",{className:"flex-1 px-4 py-4 space-y-4",children:[I&&y.jsx("div",{className:"text-center py-10",children:y.jsx("div",{className:"inline-block size-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),!I&&G&&y.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 text-red-200 text-xs px-3 py-2",children:G}),!I&&!G&&p&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"bg-white dark:bg-surface-dark-lighter rounded-xl p-4 border border-gray-200 dark:border-white/10 space-y-3",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsxs("span",{className:"text-xs font-bold uppercase text-gray-500",children:["#",p.number]}),y.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wide px-2 py-0.5 rounded ${p.state==="open"?"bg-primary/10 text-primary":"bg-gray-200 text-gray-600"}`,children:p.state})]}),y.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:p.title}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reported by ",p.reporter.name]})]}),y.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded ${p.priority==="critical"?"bg-red-500/10 text-red-500":p.priority==="high"?"bg-orange-500/10 text-orange-500":p.priority==="medium"?"bg-yellow-500/10 text-yellow-600":"bg-green-500/10 text-green-500"}`,children:p.priority})]}),y.jsx("div",{className:"bg-gray-50 dark:bg-black/30 rounded-lg p-3",children:y.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 whitespace-pre-wrap",children:p.description||"No description provided."})}),p.labels.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2",children:p.labels.map(R=>y.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide px-2 py-1 rounded bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300",children:R},R))})]}),y.jsxs("div",{className:"bg-white dark:bg-surface-dark-lighter rounded-xl p-4 border border-gray-200 dark:border-white/10 space-y-3",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Comments"}),y.jsxs("span",{className:"text-[11px] text-gray-400",children:[E.length," total"]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("textarea",{value:U,onChange:R=>ae(R.target.value),className:"w-full min-h-[120px] rounded-lg bg-gray-50 dark:bg-black/30 p-3 text-sm text-gray-700 dark:text-gray-200",placeholder:"Add a comment..."}),we&&y.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:we}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{onClick:ge,disabled:te||!U.trim(),className:"rounded-lg bg-primary px-3 py-2 text-xs font-semibold text-black disabled:opacity-50",children:te?"Posting...":"Post Comment"})})]}),E.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No comments yet."}):y.jsx("div",{className:"space-y-2",children:E.map(R=>y.jsx("div",{className:"bg-gray-50 dark:bg-black/30 rounded-lg p-3 text-sm text-gray-700 dark:text-gray-200",children:R.text},R.id))})]})]})]}),y.jsx(Vp,{onNotesClick:t})]})},yP=({repos:n,globalSettings:e})=>{const t=Mi(),[s]=jf(),o=s.get("repo"),l=s.get("build")||"",c=n.find(ge=>ge.id===o)||n[0],h=c?ad(c,e):"",[p,v]=j.useState(""),[E,T]=j.useState(""),[I,F]=j.useState(!1),[G,H]=j.useState(l||c?.apps[0]?.buildNumber||""),U=typeof window<"u"&&!!window.QAVT_AUTO_FIX?.issueCreated,ae=typeof window<"u"&&typeof window.QAVT_AUTO_FIX?.setEnabled=="function",[te,ie]=j.useState(()=>typeof window>"u"?!1:!!window.QAVT_AUTO_FIX?.enabled);j.useEffect(()=>{H(l||c?.apps[0]?.buildNumber||"")},[l,c?.id,c?.apps]),j.useEffect(()=>{if(!U||typeof window>"u")return;const ge=R=>{const b=R.detail;ie(!!b?.enabled)};return window.addEventListener("qavt-auto-fix-changed",ge),ie(!!window.QAVT_AUTO_FIX?.enabled),()=>window.removeEventListener("qavt-auto-fix-changed",ge)},[U]);const we=ge=>{if(ie(ge),!!ae)try{window.QAVT_AUTO_FIX.setEnabled(ge)}catch(R){console.warn("Failed to update auto-fix state",R)}},Oe=async ge=>{if(ge&&ge.preventDefault(),!c||!h){alert("No GitHub token configured. Add a global or repo token.");return}F(!0);try{Me.initialize(h);const R=await Me.createIssue(c.id,{title:p,description:E,labels:[]},c.owner,c.name),b=(G||"").trim();if(b)try{await Me.addComment(c.owner,c.name,R.number,`open v${b}`)}catch(A){console.error("Failed to add build comment",A),alert("Issue created, but failed to add the build comment.")}if(U&&te)try{const A=new URLSearchParams({repoId:c.id,repoOwner:c.owner,repoName:c.name,issueNumber:R.number.toString(),title:R.title||p,description:E||"",buildNumber:b}).toString();window.QAVT_AUTO_FIX.issueCreated(A)}catch(A){console.warn("Failed to notify auto-fix bridge",A)}v(""),T(""),alert("Issue created successfully!")}catch{alert("Failed to create issue.")}finally{F(!1)}};return y.jsxs("div",{className:"bg-transparent h-screen w-full relative",children:[y.jsx("div",{onClick:()=>t(-1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-10"}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-20 flex flex-col h-[90vh] bg-surface-dark rounded-t-[32px] shadow-2xl border-t border-white/10 animate-slide-up",children:[y.jsxs("div",{className:"sticky top-0 z-30 bg-surface-dark border-b border-white/10",children:[y.jsx("div",{className:"w-full flex justify-center pt-4 pb-2",children:y.jsx("div",{className:"w-14 h-1.5 bg-gray-600/40 rounded-full"})}),y.jsxs("div",{className:"px-6 py-2 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-white text-2xl font-bold",children:"New Issue"}),U&&y.jsxs("div",{className:"mt-2 flex items-center gap-2 text-[11px] text-gray-400",children:[y.jsx("span",{children:"Auto-fix on submit"}),y.jsx("button",{type:"button",role:"switch","aria-checked":te,onClick:()=>we(!te),className:`relative inline-flex h-5 w-9 items-center rounded-full transition ${te?"bg-primary/90":"bg-white/15"}`,children:y.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${te?"translate-x-4":"translate-x-1"}`})}),y.jsx("span",{children:te?"On":"Off"})]})]}),y.jsx("button",{onClick:()=>t(-1),"aria-label":"Close",className:"size-10 rounded-full bg-white/5 flex items-center justify-center text-white",children:y.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto scroll-smooth",children:y.jsxs("form",{onSubmit:Oe,className:"p-6 space-y-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs uppercase font-bold text-gray-500",children:"Found in Build"}),y.jsx("input",{value:G,onChange:ge=>H(ge.target.value),className:"w-full bg-input-dark rounded-xl px-4 py-3 text-white font-mono text-sm focus:ring-primary focus:border-primary",placeholder:"e.g. 10"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"quick-issue-title",className:"text-xs uppercase font-bold text-gray-500",children:"Title"}),y.jsx("input",{id:"quick-issue-title",value:p,onChange:ge=>v(ge.target.value),className:"w-full bg-input-dark rounded-xl px-4 py-4 text-white text-lg focus:ring-primary focus:border-primary",placeholder:"Title",autoFocus:!0,required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{htmlFor:"quick-issue-desc",className:"text-xs uppercase font-bold text-gray-500",children:"Description"}),y.jsx("textarea",{id:"quick-issue-desc",value:E,onChange:ge=>T(ge.target.value),className:"w-full bg-input-dark rounded-xl p-4 text-white min-h-[200px] focus:ring-primary focus:border-primary",placeholder:"Description"})]}),y.jsx("button",{type:"submit",disabled:!p||I,className:"w-full bg-primary h-14 rounded-xl font-bold text-black disabled:opacity-50",children:I?"Submitting...":"Submit"})]})})]})]})},vP=()=>{const n=Mi();return y.jsxs("div",{className:"h-screen bg-background-dark text-white p-6",children:[y.jsx("button",{onClick:()=>n(-1),className:"mb-4 text-primary",children:"Back"}),y.jsx("h1",{children:"Conflicts"}),y.jsx("p",{children:"Manual resolution required."})]})},la=({user:n,children:e})=>n?e:y.jsx(Jh,{to:"/login",replace:!0}),_P=()=>{const[n,e]=j.useState(null),[t,s]=j.useState(!0),[o,l]=j.useState([]),[c,h]=j.useState({}),[p,v]=j.useState(!1);return j.useEffect(()=>{const E=ak(Sa,T=>{e(T),s(!1)});return()=>E()},[]),j.useEffect(()=>{Ii.applyTheme(Ii.getSavedThemeId()),Ii.setDarkMode(Ii.getSavedMode())},[]),j.useEffect(()=>{if(n){const E=Ai.subscribeToRepos(n.uid,I=>{l(dP(I))}),T=Ai.subscribeToGlobalSettings(n.uid,I=>{h(I||{})});return()=>{E(),T()}}},[n]),t?y.jsx("div",{className:"min-h-screen bg-background-dark flex items-center justify-center",children:y.jsx("div",{className:"size-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):y.jsxs(hT,{children:[y.jsxs(sT,{children:[y.jsx(Ds,{path:"/login",element:n?y.jsx(Jh,{to:"/",replace:!0}):y.jsx(hP,{})}),y.jsx(Ds,{path:"/",element:y.jsx(la,{user:n,children:y.jsx(fP,{repos:o,user:n,globalSettings:c,onNotesClick:()=>v(!0)})})}),y.jsx(Ds,{path:"/dashboard",element:y.jsx(la,{user:n,children:y.jsx(mP,{repos:o,user:n,globalSettings:c,onNotesClick:()=>v(!0)})})}),y.jsx(Ds,{path:"/issue/:repoId/:issueNumber",element:y.jsx(la,{user:n,children:y.jsx(gP,{repos:o,globalSettings:c,onNotesClick:()=>v(!0)})})}),y.jsx(Ds,{path:"/config",element:y.jsx(la,{user:n,children:y.jsx(pP,{repos:o,setRepos:l,user:n,globalSettings:c,setGlobalSettings:h})})}),y.jsx(Ds,{path:"/quick-issue",element:y.jsx(la,{user:n,children:y.jsx(yP,{repos:o,globalSettings:c})})}),y.jsx(Ds,{path:"/conflicts",element:y.jsx(la,{user:n,children:y.jsx(vP,{})})}),y.jsx(Ds,{path:"*",element:y.jsx(Jh,{to:n?"/":"/login",replace:!0})})]}),n&&y.jsx(uP,{isOpen:p,onClose:()=>v(!1),userId:n.uid})]})},X0=document.getElementById("root");if(!X0)throw new Error("Could not find root element to mount to");const wP=px.createRoot(X0);wP.render(y.jsx(Zr.StrictMode,{children:y.jsx(_P,{})}));export{Xv as g};
